<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="index.html">Home</a></li><li class="chapter-item affix "><li class="part-title">src</li><li class="chapter-item "><a href="src/contracts/index.html">❱ contracts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/index.html">❱ core</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/common/index.html">❱ common</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/common/facets/index.html">❱ facets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/common/facets/AssetConfigurationFacet.sol/contract.AssetConfigurationFacet.html">AssetConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/facets/AssetStateFacet.sol/contract.AssetStateFacet.html">AssetStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/facets/AuthorizationFacet.sol/contract.AuthorizationFacet.html">AuthorizationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/facets/CommonConfigurationFacet.sol/contract.CommonConfigurationFacet.html">CommonConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/facets/CommonStateFacet.sol/contract.CommonStateFacet.html">CommonStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/facets/SafetyCouncilFacet.sol/contract.SafetyCouncilFacet.html">SafetyCouncilFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/index.html">❱ funcs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/common/funcs/Actions.sol/function.burnKrAsset.html">burnKrAsset</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Actions.sol/function.burnSCDP.html">burnSCDP</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Actions.sol/function.mintKrAsset.html">mintKrAsset</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Actions.sol/function.mintSCDP.html">mintSCDP</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Assets.sol/library.Assets.html">Assets</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Helpers.sol/function.collateralAmountToValues.html">collateralAmountToValues</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Helpers.sol/function.debtAmountToValues.html">debtAmountToValues</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Math.sol/function.wadUSD.html">wadUSD</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Math.sol/function.fromWad.html">fromWad</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Math.sol/function.valueToAmount.html">valueToAmount</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Math.sol/function.toWad.html">toWad</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.oraclePrice.html">oraclePrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.vaultPrice.html">vaultPrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.rawPrice.html">rawPrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.handleSequencerDown.html">handleSequencerDown</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.API3RawPrice.html">API3RawPrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.aggregatorV3Price.html">aggregatorV3Price</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.API3Price.html">API3Price</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.deducePrice.html">deducePrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.safePrice.html">safePrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.aggregatorV3RawPrice.html">aggregatorV3RawPrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.SDIPrice.html">SDIPrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Utils.sol/function.isSequencerUp.html">isSequencerUp</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/common/interfaces/IAssetConfigurationFacet.sol/interface.IAssetConfigurationFacet.html">IAssetConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/IAssetStateFacet.sol/interface.IAssetStateFacet.html">IAssetStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/IAuthorizationFacet.sol/interface.IAuthorizationFacet.html">IAuthorizationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/ICommonConfigurationFacet.sol/interface.ICommonConfigurationFacet.html">ICommonConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/ICommonStateFacet.sol/interface.ICommonStateFacet.html">ICommonStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/IERC1155.sol/interface.IERC1155.html">IERC1155</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/ISafetyCouncilFacet.sol/interface.ISafetyCouncilFacet.html">ISafetyCouncilFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/common/Auth.sol/interface.IGnosisSafeL2.html">IGnosisSafeL2</a></li><li class="chapter-item "><a href="src/contracts/core/common/Auth.sol/library.Auth.html">Auth</a></li><li class="chapter-item "><a href="src/contracts/core/common/Constants.sol/library.Enums.html">Enums</a></li><li class="chapter-item "><a href="src/contracts/core/common/Constants.sol/library.Role.html">Role</a></li><li class="chapter-item "><a href="src/contracts/core/common/Constants.sol/library.Constants.html">Constants</a></li><li class="chapter-item "><a href="src/contracts/core/common/Constants.sol/library.Percents.html">Percents</a></li><li class="chapter-item "><a href="src/contracts/core/common/Errors.sol/interface.IErrorFieldProvider.html">IErrorFieldProvider</a></li><li class="chapter-item "><a href="src/contracts/core/common/Errors.sol/library.Errors.html">Errors</a></li><li class="chapter-item "><a href="src/contracts/core/common/Modifiers.sol/library.LibModifiers.html">LibModifiers</a></li><li class="chapter-item "><a href="src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a></li><li class="chapter-item "><a href="src/contracts/core/common/State.sol/struct.CommonState.html">CommonState</a></li><li class="chapter-item "><a href="src/contracts/core/common/State.sol/struct.GatingState.html">GatingState</a></li><li class="chapter-item "><a href="src/contracts/core/common/State.sol/function.gs.html">gs</a></li><li class="chapter-item "><a href="src/contracts/core/common/State.sol/function.cs.html">cs</a></li><li class="chapter-item "><a href="src/contracts/core/common/State.sol/constants.State.html">State constants</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.Oracle.html">Oracle</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.FeedConfiguration.html">FeedConfiguration</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.Asset.html">Asset</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.RoleData.html">RoleData</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.MaxLiqVars.html">MaxLiqVars</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.MaxLiqInfo.html">MaxLiqInfo</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.RawPrice.html">RawPrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.Pause.html">Pause</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.SafetyState.html">SafetyState</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.CommonInitArgs.html">CommonInitArgs</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.SCDPCollateralArgs.html">SCDPCollateralArgs</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.SCDPKrAssetArgs.html">SCDPKrAssetArgs</a></li><li class="chapter-item "><a href="src/contracts/core/common/Validations.sol/library.Validations.html">Validations</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/diamond/index.html">❱ diamond</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/diamond/facets/index.html">❱ facets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol/contract.DiamondCutFacet.html">DiamondCutFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/facets/DiamondLoupeFacet.sol/contract.DiamondLoupeFacet.html">DiamondLoupeFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/facets/DiamondStateFacet.sol/contract.DiamondStateFacet.html">DiamondStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/facets/ERC165Facet.sol/contract.ERC165Facet.html">ERC165Facet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol/interface.IDiamondCutFacet.html">IDiamondCutFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol/interface.IExtendedDiamondCutFacet.html">IExtendedDiamondCutFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/IDiamondLoupeFacet.sol/interface.IDiamondLoupeFacet.html">IDiamondLoupeFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/IDiamondStateFacet.sol/interface.IDiamondStateFacet.html">IDiamondStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/IERC165Facet.sol/interface.IERC165Facet.html">IERC165Facet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/diamond/DSCore.sol/library.DSCore.html">DSCore</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/DSTypes.sol/struct.Facet.html">Facet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/DSTypes.sol/struct.FacetAddressAndPosition.html">FacetAddressAndPosition</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/DSTypes.sol/struct.FacetFunctionSelectors.html">FacetFunctionSelectors</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/DSTypes.sol/enum.FacetCutAction.html">FacetCutAction</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/DSTypes.sol/struct.FacetCut.html">FacetCut</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/DSTypes.sol/struct.Initializer.html">Initializer</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/DState.sol/struct.DiamondState.html">DiamondState</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/DState.sol/function.ds.html">ds</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/DState.sol/constants.DState.html">DState constants</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/Diamond.sol/contract.Diamond.html">Diamond</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/factory/index.html">❱ factory</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/factory/DeploymentFactory.sol/contract.DeploymentFactory.html">DeploymentFactory</a></li><li class="chapter-item "><a href="src/contracts/core/factory/IDeploymentFactory.sol/enum.CreationKind.html">CreationKind</a></li><li class="chapter-item "><a href="src/contracts/core/factory/IDeploymentFactory.sol/struct.Deployment.html">Deployment</a></li><li class="chapter-item "><a href="src/contracts/core/factory/IDeploymentFactory.sol/interface.IDeploymentFactory.html">IDeploymentFactory</a></li><li class="chapter-item "><a href="src/contracts/core/factory/TransparentUpgradeableProxy.sol/contract.TransparentUpgradeableProxy.html">TransparentUpgradeableProxy</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/kiss/index.html">❱ kiss</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/kiss/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/kiss/interfaces/IKISS.sol/interface.IKISS.html">IKISS</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/kiss/KISS.sol/contract.KISS.html">KISS</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/index.html">❱ kresko-asset</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/kresko-asset/ERC4626Upgradeable.sol/abstract.ERC4626Upgradeable.html">ERC4626Upgradeable</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/IERC4626Upgradeable.sol/interface.IERC4626Upgradeable.html">IERC4626Upgradeable</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/IKreskoAsset.sol/interface.ISyncable.html">ISyncable</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/IKreskoAsset.sol/interface.IKreskoAsset.html">IKreskoAsset</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol/interface.IKreskoAssetAnchor.html">IKreskoAssetAnchor</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/IKreskoAssetIssuer.sol/interface.IKreskoAssetIssuer.html">IKreskoAssetIssuer</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/KreskoAsset.sol/contract.KreskoAsset.html">KreskoAsset</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/KreskoAssetAnchor.sol/contract.KreskoAssetAnchor.html">KreskoAssetAnchor</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/Rebaser.sol/library.Rebaser.html">Rebaser</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/libs/index.html">❱ libs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/libs/Arrays.sol/library.Arrays.html">Arrays</a></li><li class="chapter-item "><a href="src/contracts/core/libs/EnumerableSet.sol/library.EnumerableSet.html">EnumerableSet</a></li><li class="chapter-item "><a href="src/contracts/core/libs/FixedPointMath.sol/library.FixedPointMath.html">FixedPointMath</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Meta.sol/library.Meta.html">Meta</a></li><li class="chapter-item "><a href="src/contracts/core/libs/PercentageMath.sol/library.PercentageMath.html">PercentageMath</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Redstone.sol/library.Redstone.html">Redstone</a></li><li class="chapter-item "><a href="src/contracts/core/libs/RedstoneInternals.sol/library.NumericArrayLib.html">NumericArrayLib</a></li><li class="chapter-item "><a href="src/contracts/core/libs/RedstoneInternals.sol/library.RedstoneDefaultsLib.html">RedstoneDefaultsLib</a></li><li class="chapter-item "><a href="src/contracts/core/libs/RedstoneInternals.sol/library.BitmapLib.html">BitmapLib</a></li><li class="chapter-item "><a href="src/contracts/core/libs/RedstoneInternals.sol/library.SignatureLib.html">SignatureLib</a></li><li class="chapter-item "><a href="src/contracts/core/libs/RedstoneInternals.sol/library.RedstoneError.html">RedstoneError</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Solady.sol/library.Solady.html">Solady</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Strings.sol/library.Strings.html">Strings</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Utils.sol/library.Conversions.html">Conversions</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Utils.sol/library.Deploys.html">Deploys</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Utils.sol/library.Proxies.html">Proxies</a></li><li class="chapter-item "><a href="src/contracts/core/libs/WadRay.sol/library.WadRay.html">WadRay</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/minter/index.html">❱ minter</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/minter/facets/index.html">❱ facets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/minter/facets/MinterAccountStateFacet.sol/contract.MinterAccountStateFacet.html">MinterAccountStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/MinterAccountStateFacet.sol/function.accountTotalDebtValues.html">accountTotalDebtValues</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/MinterAccountStateFacet.sol/function.accountTotalCollateralValues.html">accountTotalCollateralValues</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/MinterBurnFacet.sol/contract.MinterBurnFacet.html">MinterBurnFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/MinterConfigurationFacet.sol/contract.MinterConfigurationFacet.html">MinterConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/MinterDepositWithdrawFacet.sol/contract.MinterDepositWithdrawFacet.html">MinterDepositWithdrawFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/MinterLiquidationFacet.sol/contract.MinterLiquidationFacet.html">MinterLiquidationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/MinterMintFacet.sol/contract.MinterMintFacet.html">MinterMintFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/MinterStateFacet.sol/contract.MinterStateFacet.html">MinterStateFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/minter/funcs/index.html">❱ funcs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/minter/funcs/MAccounts.sol/library.MAccounts.html">MAccounts</a></li><li class="chapter-item "><a href="src/contracts/core/minter/funcs/MCore.sol/library.MCore.html">MCore</a></li><li class="chapter-item "><a href="src/contracts/core/minter/funcs/MFees.sol/function.handleMinterFee.html">handleMinterFee</a></li><li class="chapter-item "><a href="src/contracts/core/minter/funcs/MFees.sol/function._calcFeeAndHandleCollateralRemoval.html">_calcFeeAndHandleCollateralRemoval</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/ICollateralReceiver.sol/interface.ICollateralReceiver.html">ICollateralReceiver</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IMinterAccountStateFacet.sol/interface.IMinterAccountStateFacet.html">IMinterAccountStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IMinterBurnFacet.sol/interface.IMinterBurnFacet.html">IMinterBurnFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IMinterConfigurationFacet.sol/interface.IMinterConfigurationFacet.html">IMinterConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IMinterDepositWithdrawFacet.sol/interface.IMinterDepositWithdrawFacet.html">IMinterDepositWithdrawFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IMinterLiquidationFacet.sol/interface.IMinterLiquidationFacet.html">IMinterLiquidationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IMinterMintFacet.sol/interface.IMinterMintFacet.html">IMinterMintFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IMinterStateFacet.sol/interface.IMinterStateFacet.html">IMinterStateFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/minter/MEvent.sol/interface.IEventFieldProvider.html">IEventFieldProvider</a></li><li class="chapter-item "><a href="src/contracts/core/minter/MEvent.sol/library.MEvent.html">MEvent</a></li><li class="chapter-item "><a href="src/contracts/core/minter/MState.sol/struct.MinterState.html">MinterState</a></li><li class="chapter-item "><a href="src/contracts/core/minter/MState.sol/function.ms.html">ms</a></li><li class="chapter-item "><a href="src/contracts/core/minter/MState.sol/constants.MState.html">MState constants</a></li><li class="chapter-item "><a href="src/contracts/core/minter/MTypes.sol/struct.LiquidateExecution.html">LiquidateExecution</a></li><li class="chapter-item "><a href="src/contracts/core/minter/MTypes.sol/struct.LiquidationArgs.html">LiquidationArgs</a></li><li class="chapter-item "><a href="src/contracts/core/minter/MTypes.sol/struct.MinterAccountState.html">MinterAccountState</a></li><li class="chapter-item "><a href="src/contracts/core/minter/MTypes.sol/struct.MinterInitArgs.html">MinterInitArgs</a></li><li class="chapter-item "><a href="src/contracts/core/minter/MTypes.sol/struct.MinterParams.html">MinterParams</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/scdp/index.html">❱ scdp</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/scdp/facets/index.html">❱ facets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SCDPConfigFacet.sol/contract.SCDPConfigFacet.html">SCDPConfigFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SCDPFacet.sol/contract.SCDPFacet.html">SCDPFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SCDPStateFacet.sol/contract.SCDPStateFacet.html">SCDPStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol/contract.SCDPSwapFacet.html">SCDPSwapFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol/function.getSwapFees.html">getSwapFees</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SDIFacet.sol/contract.SDIFacet.html">SDIFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/index.html">❱ funcs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/SAccounts.sol/library.SAccounts.html">SAccounts</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/SDI.sol/library.SDebtIndex.html">SDebtIndex</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/SDeposits.sol/library.SDeposits.html">SDeposits</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/SGlobal.sol/library.SGlobal.html">SGlobal</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/SHelpers.sol/function.totalCollateralValuesSCDP.html">totalCollateralValuesSCDP</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/SHelpers.sol/function.accountDepositAmountsAndValues.html">accountDepositAmountsAndValues</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/SHelpers.sol/function.totalDebtValuesAtRatioSCDP.html">totalDebtValuesAtRatioSCDP</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/SHelpers.sol/function.accountTotalDepositValues.html">accountTotalDepositValues</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/SSwap.sol/library.Swap.html">Swap</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/ISCDPConfigFacet.sol/interface.ISCDPConfigFacet.html">ISCDPConfigFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/ISCDPFacet.sol/interface.ISCDPFacet.html">ISCDPFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/ISCDPStateFacet.sol/interface.ISCDPStateFacet.html">ISCDPStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/ISCDPSwapFacet.sol/interface.ISCDPSwapFacet.html">ISCDPSwapFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/ISDIFacet.sol/interface.ISDIFacet.html">ISDIFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/scdp/SDICoverRecipient.sol/contract.SDICoverRecipient.html">SDICoverRecipient</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/SEvent.sol/library.SEvent.html">SEvent</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/SState.sol/struct.SCDPState.html">SCDPState</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/SState.sol/struct.SDIState.html">SDIState</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/SState.sol/function.sdi.html">sdi</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/SState.sol/function.scdp.html">scdp</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/SState.sol/constants.SState.html">SState constants</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/STypes.sol/struct.SCDPInitArgs.html">SCDPInitArgs</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/STypes.sol/struct.SCDPParameters.html">SCDPParameters</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/STypes.sol/struct.SwapRouteSetter.html">SwapRouteSetter</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/STypes.sol/struct.SCDPAssetData.html">SCDPAssetData</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/STypes.sol/struct.GlobalData.html">GlobalData</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/STypes.sol/struct.AssetData.html">AssetData</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/STypes.sol/struct.UserAssetData.html">UserAssetData</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/STypes.sol/struct.UserData.html">UserData</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/test/index.html">❱ test</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/test/mocks/index.html">❱ mocks</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC1155.sol/contract.MockERC1155.html">MockERC1155</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20Restricted.html">MockERC20Restricted</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.WETH.html">WETH</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.USDC.html">USDC</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.DAI.html">DAI</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.USDT.html">USDT</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockOracle.sol/contract.MockOracle.html">MockOracle</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockSequencerUptimeFeed.sol/contract.MockSequencerUptimeFeed.html">MockSequencerUptimeFeed</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/test/redstone/index.html">❱ redstone</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/test/redstone/CalldataExtractor.sol/contract.CalldataExtractor.html">CalldataExtractor</a></li><li class="chapter-item "><a href="src/contracts/core/test/redstone/ProxyConnector.sol/contract.ProxyConnector.html">ProxyConnector</a></li><li class="chapter-item "><a href="src/contracts/core/test/redstone/RedstoneConstants.sol/contract.RedstoneConstants.html">RedstoneConstants</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/index.html">❱ smocks</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/test/smocks/ISmockFacet.sol/interface.ISmockFacet.html">ISmockFacet</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockCollateralReceiver.sol/contract.SmockCollateralReceiver.html">SmockCollateralReceiver</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockFacet.sol/contract.SmockFacet.html">SmockFacet</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockFacet.sol/constants.SmockFacet.html">SmockFacet constants</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockFacet2.sol/contract.SmockFacet2.html">SmockFacet2</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockInit.sol/contract.SmockInit.html">SmockInit</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockStorage.sol/library.Errors.html">Errors</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockStorage.sol/struct.SmockState.html">SmockState</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockStorage.sol/struct.SmockState2.html">SmockState2</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockStorage.sol/library.SmockStorage.html">SmockStorage</a></li></ol></li></ol></li><li class="chapter-item "><a href="src/contracts/core/vault/index.html">❱ vault</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/vault/funcs/index.html">❱ funcs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/vault/funcs/VAssets.sol/library.VAssets.html">VAssets</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/vault/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/vault/interfaces/IVault.sol/interface.IVault.html">IVault</a></li><li class="chapter-item "><a href="src/contracts/core/vault/interfaces/IVaultExtender.sol/interface.IVaultExtender.html">IVaultExtender</a></li><li class="chapter-item "><a href="src/contracts/core/vault/interfaces/IVaultRateProvider.sol/interface.IVaultRateProvider.html">IVaultRateProvider</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/vault/VEvent.sol/library.VEvent.html">VEvent</a></li><li class="chapter-item "><a href="src/contracts/core/vault/VTypes.sol/struct.VaultAsset.html">VaultAsset</a></li><li class="chapter-item "><a href="src/contracts/core/vault/VTypes.sol/struct.VaultConfiguration.html">VaultConfiguration</a></li><li class="chapter-item "><a href="src/contracts/core/vault/Vault.sol/contract.Vault.html">Vault</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/vendor/index.html">❱ vendor</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/vendor/IERC165.sol/interface.IERC165.html">IERC165</a></li></ol></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/kreskohq/kresko-protocol" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="kresko-protocol"><a class="header" href="#kresko-protocol">Kresko Protocol</a></h1>
<p>This repository contains the code for the Kresko Protocol. Kresko Protocol supports creating and managing crypto-backed synthetic assets. Prices for synthetic assets are derived from combination of oracle providers (on-demand/push). Protocol uses the <a href="https://eips.ethereum.org/EIPS/eip-2535">EIP-2535</a> architecture. It enables composability through flexibile storage patterns while allowing users to access all core functionality with a single contract address. This is a usage and integration guide that assumes familiarity with Solidity (and EIP-2535), Foundry, Hardhat and <a href="https://kresko.gitbook.io/kresko-docs/">core concepts</a> of Kresko.</p>
<p><a href="https://github.com/kreskohq/kresko-protocol/actions/workflows/run-test-suite.yml?branch=develop"><img src="https://github.com/kreskohq/kresko-protocol/actions/workflows/run-test-suite.yml/badge.svg?branch=develop" alt="run test suite" /></a></p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<h3 id="setup"><a class="header" href="#setup">Setup</a></h3>
<p>(<strong>OPTIONAL</strong>) create .env file <code>cp .env.example .env</code></p>
<h4 id="dependencies"><a class="header" href="#dependencies">Dependencies</a></h4>
<p>Install forge dependencies</p>
<pre><code class="language-sh">forge install
</code></pre>
<p>Install node dependencies
(<em>Authorized npm token is required in .npmrc for some internal packages. This will be lifted later.</em>)<br/></p>
<pre><code class="language-sh">pnpm i
</code></pre>
<h3 id="compiling"><a class="header" href="#compiling">Compiling</a></h3>
<h4 id="foundry"><a class="header" href="#foundry">Foundry</a></h4>
<p>Compile the contracts using foundry</p>
<pre><code class="language-sh">forge build
</code></pre>
<p>Check your setup by running the local forge deployment</p>
<pre><code class="language-sh">forge script src/contracts/scripts/devnet/Devnet.s.sol:WithLocal
</code></pre>
<h4 id="hardhat"><a class="header" href="#hardhat">Hardhat</a></h4>
<p>Compile the contracts using hardhat</p>
<pre><code class="language-sh">pnpm compile
</code></pre>
<p>Check your setup by running the local hardhat deployment</p>
<pre><code class="language-sh">pnpm run deploy --tags local
</code></pre>
<h3 id="testing"><a class="header" href="#testing">Testing</a></h3>
<p><strong>NOTE:</strong> Primary test coverage uses hardhat. Forge tests are a work in progress.</p>
<h4 id="hardhat-1"><a class="header" href="#hardhat-1">Hardhat</a></h4>
<p>Run tests with against a local deployment fixture:</p>
<pre><code class="language-sh">pnpm test
</code></pre>
<h4 id="foundry-1"><a class="header" href="#foundry-1">Foundry</a></h4>
<pre><code class="language-sh">forge test --ffi
</code></pre>
<h3 id="deployment"><a class="header" href="#deployment">Deployment</a></h3>
<h4 id="hardhat-2"><a class="header" href="#hardhat-2">Hardhat</a></h4>
<p>To local network:</p>
<pre><code class="language-sh">pnpm local
</code></pre>
<p>To live network:</p>
<pre><code class="language-sh">pnpm deploy --network &lt;network&gt;
</code></pre>
<h4 id="foundry-2"><a class="header" href="#foundry-2">Foundry</a></h4>
<p>Local</p>
<pre><code class="language-sh">forge script src/contracts/scripts/devnet/Devnet.s.sol:WithLocal
</code></pre>
<h3 id="forking"><a class="header" href="#forking">Forking</a></h3>
<ul>
<li>value of <code>process.env.FORKING</code> maps to network key and it's setup within <code>hardhat-configs/networks</code></li>
<li>set a specific block with <code>process.env.FORKING_BLOCKNUMBER</code></li>
<li>HRE is extended with helpers to get live deployments within the forked network (https://github.com/wighawag/hardhat-deploy#companionnetworks)</li>
</ul>
<p>Run deploy in fork</p>
<pre><code class="language-sh">pnpm fork:deploy
</code></pre>
<p>Run tests with <code>--grep Forking</code></p>
<pre><code class="language-sh">pnpm fork:test
</code></pre>
<h2 id="notes-about-the-usage-of-erc-2535-diamond"><a class="header" href="#notes-about-the-usage-of-erc-2535-diamond">Notes about the usage of <a href="https://eips.ethereum.org/EIPS/eip-2535">ERC-2535</a> (Diamond)</a></h2>
<h3 id="general"><a class="header" href="#general">General</a></h3>
<ul>
<li>
<p>All external functions are contained in the facets, <code>hardhat-diamond-abi</code> will combine their ABI to a separate artifact (Kresko.json) after compile.</p>
</li>
<li>
<p>Core logic is mostly defined inside library functions. These internal functions are attached to the minter storage struct for ease of use.</p>
</li>
<li>
<p>Storage is used through a inline assembly pointer inside free function. To access the storage (+ attached internal lib functions) simply call the free function anywhere within the diamond.</p>
</li>
<li>
<p>Note that Staking, AMM and KreskoAsset contracts do not live inside the diamond scope.</p>
</li>
</ul>
<h3 id="state"><a class="header" href="#state">State</a></h3>
<h4 id="nay"><a class="header" href="#nay">Nay</a></h4>
<ul>
<li>
<p>Do not add new state variables to the beginning or middle of structs. Doing this makes the new state variable overwrite existing state variable data and all state variables after the new state variable reference the wrong storage location.</p>
</li>
<li>
<p>Do not put structs directly in structs unless you don’t plan on ever adding more state variables to the inner structs. You won't be able to add new state variables to inner structs in upgrades. This makes sense because a struct uses a fixed number of storage locations. Adding a new state variable to an inner struct would cause the next state variable after the inner struct to be overwritten. Structs that are in mappings can be extended in upgrades, because those structs are stored in random locations based on keccak256 hashing.</p>
</li>
<li>
<p>Do not add new state variables to structs that are used in arrays.</p>
</li>
<li>
<p>Do not use the same namespace string for different structs. This is obvious. Two different structs at the same location will overwrite each other.</p>
</li>
</ul>
<h4 id="yay"><a class="header" href="#yay">Yay</a></h4>
<ul>
<li>
<p>To add new state variables to DiamondStorage pattern in eg. MinterStorage (ms), add them to the end of the struct. This makes sense because it is not possible for existing facets to overwrite state variables at new storage locations.</p>
</li>
<li>
<p>New state variables can be added to the ends of structs that are used in mappings.</p>
</li>
<li>
<p>The names of state variables can be changed, but that might be confusing if different facets are using different names for the same storage locations.</p>
</li>
</ul>
<p><em>Learning references</em></p>
<p><em>https://eip2535diamonds.substack.com/p/compliance-with-eip-2535-diamonds</em></p>
<p><em>https://github.com/solidstate-network/solidstate-solidity</em></p>
<p><em>https://eip2535diamonds.substack.com/p/how-eip2535-diamonds-reduces-gas</em></p>
<h3 id="contributions"><a class="header" href="#contributions">Contributions</a></h3>
<p>Contributions to Kresko Protocol are encouraged, feel free to open an issue or pull request. <br/> All contributions are licensed under BUSL1.1.</p>
<h3 id="contact"><a class="header" href="#contact">Contact</a></h3>
<p>Critical bug disclosures and inquiries should be directed to: <br> <img src="https://user-images.githubusercontent.com/15370712/167093578-d6c0acd8-f32c-4ca3-b22e-76c2eef7f0e3.png" alt="contact_2" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="src/contracts//src/contracts/core">core</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="src/contracts/core//src/contracts/core/common">common</a></li>
<li><a href="src/contracts/core//src/contracts/core/diamond">diamond</a></li>
<li><a href="src/contracts/core//src/contracts/core/factory">factory</a></li>
<li><a href="src/contracts/core//src/contracts/core/kiss">kiss</a></li>
<li><a href="src/contracts/core//src/contracts/core/kresko-asset">kresko-asset</a></li>
<li><a href="src/contracts/core//src/contracts/core/libs">libs</a></li>
<li><a href="src/contracts/core//src/contracts/core/minter">minter</a></li>
<li><a href="src/contracts/core//src/contracts/core/scdp">scdp</a></li>
<li><a href="src/contracts/core//src/contracts/core/test">test</a></li>
<li><a href="src/contracts/core//src/contracts/core/vault">vault</a></li>
<li><a href="src/contracts/core//src/contracts/core/vendor">vendor</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-2"><a class="header" href="#contents-2">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/common//src/contracts/core/common/facets">facets</a></li>
<li><a href="src/contracts/core/common//src/contracts/core/common/funcs">funcs</a></li>
<li><a href="src/contracts/core/common//src/contracts/core/common/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/common/Auth.sol/interface.IGnosisSafeL2.html">IGnosisSafeL2</a></li>
<li><a href="src/contracts/core/common/Auth.sol/library.Auth.html">Auth</a></li>
<li><a href="src/contracts/core/common/Constants.sol/library.Enums.html">Enums</a></li>
<li><a href="src/contracts/core/common/Constants.sol/library.Role.html">Role</a></li>
<li><a href="src/contracts/core/common/Constants.sol/library.Constants.html">Constants</a></li>
<li><a href="src/contracts/core/common/Constants.sol/library.Percents.html">Percents</a></li>
<li><a href="src/contracts/core/common/Errors.sol/interface.IErrorFieldProvider.html">IErrorFieldProvider</a></li>
<li><a href="src/contracts/core/common/Errors.sol/library.Errors.html">Errors</a></li>
<li><a href="src/contracts/core/common/Modifiers.sol/library.LibModifiers.html">LibModifiers</a></li>
<li><a href="src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a></li>
<li><a href="src/contracts/core/common/State.sol/struct.CommonState.html">CommonState</a></li>
<li><a href="src/contracts/core/common/State.sol/struct.GatingState.html">GatingState</a></li>
<li><a href="src/contracts/core/common/State.sol/function.gs.html">gs</a></li>
<li><a href="src/contracts/core/common/State.sol/function.cs.html">cs</a></li>
<li><a href="src/contracts/core/common/State.sol/constants.State.html">State constants</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.Oracle.html">Oracle</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.FeedConfiguration.html">FeedConfiguration</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.Asset.html">Asset</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.RoleData.html">RoleData</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.MaxLiqVars.html">MaxLiqVars</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.MaxLiqInfo.html">MaxLiqInfo</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.RawPrice.html">RawPrice</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.Pause.html">Pause</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.SafetyState.html">SafetyState</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.CommonInitArgs.html">CommonInitArgs</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.SCDPCollateralArgs.html">SCDPCollateralArgs</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.SCDPKrAssetArgs.html">SCDPKrAssetArgs</a></li>
<li><a href="src/contracts/core/common/Validations.sol/library.Validations.html">Validations</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-3"><a class="header" href="#contents-3">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/common/facets/AssetConfigurationFacet.sol/contract.AssetConfigurationFacet.html">AssetConfigurationFacet</a></li>
<li><a href="src/contracts/core/common/facets/AssetStateFacet.sol/contract.AssetStateFacet.html">AssetStateFacet</a></li>
<li><a href="src/contracts/core/common/facets/AuthorizationFacet.sol/contract.AuthorizationFacet.html">AuthorizationFacet</a></li>
<li><a href="src/contracts/core/common/facets/CommonConfigurationFacet.sol/contract.CommonConfigurationFacet.html">CommonConfigurationFacet</a></li>
<li><a href="src/contracts/core/common/facets/CommonStateFacet.sol/contract.CommonStateFacet.html">CommonStateFacet</a></li>
<li><a href="src/contracts/core/common/facets/SafetyCouncilFacet.sol/contract.SafetyCouncilFacet.html">SafetyCouncilFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="assetconfigurationfacet"><a class="header" href="#assetconfigurationfacet">AssetConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/facets/AssetConfigurationFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/AssetConfigurationFacet.sol//docs/book/src/src/contracts/core/common/interfaces/IAssetConfigurationFacet.sol/interface.IAssetConfigurationFacet.html">IAssetConfigurationFacet</a>, <a href="src/contracts/core/common/facets/AssetConfigurationFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a>, <a href="src/contracts/core/common/facets/AssetConfigurationFacet.sol//docs/book/src/src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a></p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="addasset"><a class="header" href="#addasset">addAsset</a></h3>
<p>Adds a new asset to the common state.</p>
<p><em>Use validateAssetConfig / static call this for validation.</em></p>
<pre><code class="language-solidity">function addAsset(address _assetAddr, Asset memory _config, address[2] memory _feeds)
    external
    onlyRole(Role.ADMIN)
    returns (Asset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>Configuration struct to save for the asset.</td></tr>
<tr><td><code>_feeds</code></td><td><code>address[2]</code></td><td>Feed addresses, if both are address(0) they are ignored.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Asset</code></td><td>Asset Result of addAsset.</td></tr>
</tbody></table>
</div>
<h3 id="updateasset"><a class="header" href="#updateasset">updateAsset</a></h3>
<p>Update asset config.</p>
<p><em>Use validateAssetConfig / static call this for validation.</em></p>
<pre><code class="language-solidity">function updateAsset(address _assetAddr, Asset memory _config) external onlyRole(Role.ADMIN) returns (Asset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>Configuration struct to apply for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setassetcfactor"><a class="header" href="#setassetcfactor">setAssetCFactor</a></h3>
<p>Updates the cFactor of a KreskoAsset. Convenience.</p>
<pre><code class="language-solidity">function setAssetCFactor(address _assetAddr, uint16 _newFactor) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The collateral asset.</td></tr>
<tr><td><code>_newFactor</code></td><td><code>uint16</code></td><td>The new collateral factor.</td></tr>
</tbody></table>
</div>
<h3 id="setassetkfactor"><a class="header" href="#setassetkfactor">setAssetKFactor</a></h3>
<p>Updates the kFactor of a KreskoAsset.</p>
<pre><code class="language-solidity">function setAssetKFactor(address _assetAddr, uint16 _newFactor) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The KreskoAsset.</td></tr>
<tr><td><code>_newFactor</code></td><td><code>uint16</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="setassetoracleorder"><a class="header" href="#setassetoracleorder">setAssetOracleOrder</a></h3>
<p>Update oracle order for an asset.</p>
<pre><code class="language-solidity">function setAssetOracleOrder(address _assetAddr, Enums.OracleType[2] memory _newOracleOrder)
    external
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_newOracleOrder</code></td><td><code>Enums.OracleType[2]</code></td><td>List of 2 OracleTypes. 0 is primary and 1 is the reference.</td></tr>
</tbody></table>
</div>
<h3 id="validateassetconfig"><a class="header" href="#validateassetconfig">validateAssetConfig</a></h3>
<p>Validate supplied asset config. Reverts with information if invalid.</p>
<pre><code class="language-solidity">function validateAssetConfig(address _assetAddr, Asset memory _config) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>Configuration for the asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool True for convenience.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="assetstatefacet"><a class="header" href="#assetstatefacet">AssetStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/facets/AssetStateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/AssetStateFacet.sol//docs/book/src/src/contracts/core/common/interfaces/IAssetStateFacet.sol/interface.IAssetStateFacet.html">IAssetStateFacet</a></p>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="getasset"><a class="header" href="#getasset">getAsset</a></h3>
<p>Get the state of a specific asset</p>
<pre><code class="language-solidity">function getAsset(address _assetAddr) external view returns (Asset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Address of the asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Asset</code></td><td>Asset State of asset</td></tr>
</tbody></table>
</div>
<h3 id="getvalue"><a class="header" href="#getvalue">getValue</a></h3>
<p>Get value for an asset amount using the current price.</p>
<pre><code class="language-solidity">function getValue(address _assetAddr, uint256 _amount) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Current value for <code>_amount</code> of <code>_assetAddr</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getfeedforaddress"><a class="header" href="#getfeedforaddress">getFeedForAddress</a></h3>
<p>Gets corresponding feed address for the oracle type and asset address.</p>
<pre><code class="language-solidity">function getFeedForAddress(address _assetAddr, Enums.OracleType _oracleType) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_oracleType</code></td><td><code>Enums.OracleType</code></td><td>The oracle type.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>feedAddr Feed address that the asset uses with the oracle type.</td></tr>
</tbody></table>
</div>
<h3 id="getprice"><a class="header" href="#getprice">getPrice</a></h3>
<p>Get price for an asset from address.</p>
<pre><code class="language-solidity">function getPrice(address _assetAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Current price for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="getpushprice"><a class="header" href="#getpushprice">getPushPrice</a></h3>
<p>Get push price for an asset from address.</p>
<pre><code class="language-solidity">function getPushPrice(address _assetAddr) external view returns (RawPrice memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>RawPrice</code></td><td>RawPrice Current raw price for the asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="authorizationfacet"><a class="header" href="#authorizationfacet">AuthorizationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/facets/AuthorizationFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/AuthorizationFacet.sol//docs/book/src/src/contracts/core/common/interfaces/IAuthorizationFacet.sol/interface.IAuthorizationFacet.html">IAuthorizationFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>The storage area is in the main proxy diamond storage.</p>
<p><em>Difference here is the logic library that is shared and reused, there is no state here.</em></p>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="getrolemember"><a class="header" href="#getrolemember">getRoleMember</a></h3>
<p>WARNING:
When using {getRoleMember} and {getRoleMemberCount}, make sure
you perform all queries on the same block.
See the following forum post for more information:</p>
<ul>
<li>https://forum.openzeppelin.com/t/iterating-over-elements-on-enumerableset-in-openzeppelin-contracts/2296</li>
</ul>
<p><em>OpenZeppelin
Returns one of the accounts that have <code>role</code>. <code>index</code> must be a
value between 0 and {getRoleMemberCount}, non-inclusive.
Role bearers are not sorted in any particular way, and their ordering may
change at any point.</em></p>
<pre><code class="language-solidity">function getRoleMember(bytes32 role, uint256 index) external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>address with the <code>role</code></td></tr>
</tbody></table>
</div>
<h3 id="getrolemembercount"><a class="header" href="#getrolemembercount">getRoleMemberCount</a></h3>
<p>See warning in {getRoleMember} if combining these two</p>
<p><em>Returns the number of accounts that have <code>role</code>. Can be used
together with {getRoleMember} to enumerate all bearers of a role.</em></p>
<pre><code class="language-solidity">function getRoleMemberCount(bytes32 role) external view returns (uint256);
</code></pre>
<h3 id="grantrole"><a class="header" href="#grantrole">grantRole</a></h3>
<p>*Grants <code>role</code> to <code>account</code>.
If <code>account</code> had not been already granted <code>role</code>, emits a {RoleGranted}
event.
Requirements:</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.*</li>
</ul>
<pre><code class="language-solidity">function grantRole(bytes32 role, address account) external;
</code></pre>
<h3 id="revokerole"><a class="header" href="#revokerole">revokeRole</a></h3>
<p>Requirements</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.</li>
</ul>
<p><em>Revokes <code>role</code> from <code>account</code>.</em></p>
<pre><code class="language-solidity">function revokeRole(bytes32 role, address account) external;
</code></pre>
<h3 id="hasrole"><a class="header" href="#hasrole">hasRole</a></h3>
<p><em>Returns true if <code>account</code> has been granted <code>role</code>.</em></p>
<pre><code class="language-solidity">function hasRole(bytes32 role, address account) external view returns (bool);
</code></pre>
<h3 id="getroleadmin"><a class="header" href="#getroleadmin">getRoleAdmin</a></h3>
<p>To change a role's admin, use {_setRoleAdmin}.</p>
<p><em>Returns the admin role that controls <code>role</code>. See {grantRole} and
{revokeRole}.</em></p>
<pre><code class="language-solidity">function getRoleAdmin(bytes32 role) external view returns (bytes32);
</code></pre>
<h3 id="renouncerole"><a class="header" href="#renouncerole">renounceRole</a></h3>
<p>Requirements</p>
<ul>
<li>the caller must be <code>account</code>.</li>
</ul>
<p><em>Revokes <code>role</code> from the calling account.
Roles are often managed via {grantRole} and {revokeRole}: this function's
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).
If the calling account had been revoked <code>role</code>, emits a {RoleRevoked}
event.</em></p>
<pre><code class="language-solidity">function renounceRole(bytes32 role, address account) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commonconfigurationfacet"><a class="header" href="#commonconfigurationfacet">CommonConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/facets/CommonConfigurationFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/CommonConfigurationFacet.sol//docs/book/src/src/contracts/core/common/interfaces/ICommonConfigurationFacet.sol/interface.ICommonConfigurationFacet.html">ICommonConfigurationFacet</a>, <a href="src/contracts/core/common/facets/CommonConfigurationFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a>, <a href="src/contracts/core/common/facets/CommonConfigurationFacet.sol//docs/book/src/src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a></p>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="initializecommon"><a class="header" href="#initializecommon">initializeCommon</a></h3>
<pre><code class="language-solidity">function initializeCommon(CommonInitArgs calldata args) external initializer(2);
</code></pre>
<h3 id="setmindebtvalue"><a class="header" href="#setmindebtvalue">setMinDebtValue</a></h3>
<p><em>Updates the contract's minimum debt value.</em></p>
<pre><code class="language-solidity">function setMinDebtValue(uint96 _newMinDebtValue) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMinDebtValue</code></td><td><code>uint96</code></td><td>The new minimum debt value as a wad.</td></tr>
</tbody></table>
</div>
<h3 id="setfeerecipient"><a class="header" href="#setfeerecipient">setFeeRecipient</a></h3>
<p>Updates the fee recipient.</p>
<pre><code class="language-solidity">function setFeeRecipient(address _newFeeRecipient) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newFeeRecipient</code></td><td><code>address</code></td><td>The new fee recipient.</td></tr>
</tbody></table>
</div>
<h3 id="setdefaultoracleprecision"><a class="header" href="#setdefaultoracleprecision">setDefaultOraclePrecision</a></h3>
<p>Sets the decimal precision of external oracle</p>
<pre><code class="language-solidity">function setDefaultOraclePrecision(uint8 _decimals) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>Amount of decimals</td></tr>
</tbody></table>
</div>
<h3 id="setmaxpricedeviationpct"><a class="header" href="#setmaxpricedeviationpct">setMaxPriceDeviationPct</a></h3>
<p>Sets the decimal precision of external oracle</p>
<pre><code class="language-solidity">function setMaxPriceDeviationPct(uint16 _oracleDeviationPct) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracleDeviationPct</code></td><td><code>uint16</code></td><td>Amount of decimals</td></tr>
</tbody></table>
</div>
<h3 id="setfeedsforticker"><a class="header" href="#setfeedsforticker">setFeedsForTicker</a></h3>
<p>Set feeds for a ticker.</p>
<pre><code class="language-solidity">function setFeedsForTicker(bytes32 _ticker, FeedConfiguration calldata _feedConfig) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker in bytes32 eg. bytes32(&quot;ETH&quot;)</td></tr>
<tr><td><code>_feedConfig</code></td><td><code>FeedConfiguration</code></td><td>List oracle configuration containing oracle identifiers and feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setchainlinkfeeds"><a class="header" href="#setchainlinkfeeds">setChainlinkFeeds</a></h3>
<p>Set chainlink feeds for tickers.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setChainlinkFeeds(bytes32[] calldata _tickers, address[] calldata _feeds) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_tickers</code></td><td><code>bytes32[]</code></td><td>Bytes32 list of tickers</td></tr>
<tr><td><code>_feeds</code></td><td><code>address[]</code></td><td>List of feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setapi3feeds"><a class="header" href="#setapi3feeds">setApi3Feeds</a></h3>
<p>Set api3 feeds for tickers.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setApi3Feeds(bytes32[] calldata _tickers, address[] calldata _feeds) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_tickers</code></td><td><code>bytes32[]</code></td><td>Bytes32 list of tickers</td></tr>
<tr><td><code>_feeds</code></td><td><code>address[]</code></td><td>List of feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setchainlinkfeed"><a class="header" href="#setchainlinkfeed">setChainLinkFeed</a></h3>
<p>Set ChainLink feed address for ticker.</p>
<pre><code class="language-solidity">function setChainLinkFeed(bytes32 _ticker, address _feedAddr) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker in bytes32 eg. bytes32(&quot;ETH&quot;)</td></tr>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<h3 id="setapi3feed"><a class="header" href="#setapi3feed">setApi3Feed</a></h3>
<p>Set API3 feed address for an asset.</p>
<pre><code class="language-solidity">function setApi3Feed(bytes32 _ticker, address _feedAddr) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker in bytes32 eg. bytes32(&quot;ETH&quot;)</td></tr>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<h3 id="setvaultfeed"><a class="header" href="#setvaultfeed">setVaultFeed</a></h3>
<p>Set a vault feed for ticker.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setVaultFeed(bytes32 _ticker, address _vaultAddr) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker in bytes32 eg. bytes32(&quot;ETH&quot;)</td></tr>
<tr><td><code>_vaultAddr</code></td><td><code>address</code></td><td>Vault address</td></tr>
</tbody></table>
</div>
<h3 id="setsequenceruptimefeed"><a class="header" href="#setsequenceruptimefeed">setSequencerUptimeFeed</a></h3>
<p>Sets L2 sequencer uptime feed address</p>
<pre><code class="language-solidity">function setSequencerUptimeFeed(address _sequencerUptimeFeed) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sequencerUptimeFeed</code></td><td><code>address</code></td><td>sequencer uptime feed address</td></tr>
</tbody></table>
</div>
<h3 id="setsequencergraceperiod"><a class="header" href="#setsequencergraceperiod">setSequencerGracePeriod</a></h3>
<p>Sets sequencer grace period time</p>
<pre><code class="language-solidity">function setSequencerGracePeriod(uint32 _sequencerGracePeriodTime) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sequencerGracePeriodTime</code></td><td><code>uint32</code></td><td>grace period time</td></tr>
</tbody></table>
</div>
<h3 id="setstaletime"><a class="header" href="#setstaletime">setStaleTime</a></h3>
<p>Sets the time in seconds until a price is considered stale.</p>
<pre><code class="language-solidity">function setStaleTime(uint32 _staleTime) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_staleTime</code></td><td><code>uint32</code></td><td>Time in seconds.</td></tr>
</tbody></table>
</div>
<h3 id="setgatingphase"><a class="header" href="#setgatingphase">setGatingPhase</a></h3>
<p>Sets phase of gating mechanism</p>
<pre><code class="language-solidity">function setGatingPhase(uint8 _phase) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_phase</code></td><td><code>uint8</code></td><td>phase id</td></tr>
</tbody></table>
</div>
<h3 id="setkreskiancollection"><a class="header" href="#setkreskiancollection">setKreskianCollection</a></h3>
<p>Sets address of Kreskian NFT contract</p>
<pre><code class="language-solidity">function setKreskianCollection(address _kreskian) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskian</code></td><td><code>address</code></td><td>kreskian nft contract address</td></tr>
</tbody></table>
</div>
<h3 id="setquestforkreskcollection"><a class="header" href="#setquestforkreskcollection">setQuestForKreskCollection</a></h3>
<p>Sets address of Quest For Kresk NFT contract</p>
<pre><code class="language-solidity">function setQuestForKreskCollection(address _questForKresk) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_questForKresk</code></td><td><code>address</code></td><td>Quest For Kresk NFT contract address</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="commonstatefacet"><a class="header" href="#commonstatefacet">CommonStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/facets/CommonStateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/CommonStateFacet.sol//docs/book/src/src/contracts/core/common/interfaces/ICommonStateFacet.sol/interface.ICommonStateFacet.html">ICommonStateFacet</a></p>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="getfeerecipient"><a class="header" href="#getfeerecipient">getFeeRecipient</a></h3>
<p>The recipient of protocol fees.</p>
<pre><code class="language-solidity">function getFeeRecipient() external view returns (address);
</code></pre>
<h3 id="getdefaultoracleprecision"><a class="header" href="#getdefaultoracleprecision">getDefaultOraclePrecision</a></h3>
<p>Offchain oracle decimals</p>
<pre><code class="language-solidity">function getDefaultOraclePrecision() external view returns (uint8);
</code></pre>
<h3 id="getmindebtvalue"><a class="header" href="#getmindebtvalue">getMinDebtValue</a></h3>
<p>The minimum USD value of an individual synthetic asset debt position.</p>
<pre><code class="language-solidity">function getMinDebtValue() external view returns (uint96);
</code></pre>
<h3 id="getoracledeviationpct"><a class="header" href="#getoracledeviationpct">getOracleDeviationPct</a></h3>
<p>max deviation between main oracle and fallback oracle</p>
<pre><code class="language-solidity">function getOracleDeviationPct() external view returns (uint16);
</code></pre>
<h3 id="getsequenceruptimefeed"><a class="header" href="#getsequenceruptimefeed">getSequencerUptimeFeed</a></h3>
<p>Get the L2 sequencer uptime feed address.</p>
<pre><code class="language-solidity">function getSequencerUptimeFeed() external view returns (address);
</code></pre>
<h3 id="getsequencergraceperiod"><a class="header" href="#getsequencergraceperiod">getSequencerGracePeriod</a></h3>
<p>Get the L2 sequencer uptime feed grace period</p>
<pre><code class="language-solidity">function getSequencerGracePeriod() external view returns (uint32);
</code></pre>
<h3 id="getoracletimeout"><a class="header" href="#getoracletimeout">getOracleTimeout</a></h3>
<p>Get stale timeout treshold for oracle answers.</p>
<pre><code class="language-solidity">function getOracleTimeout() external view returns (uint32);
</code></pre>
<h3 id="getfeedforid"><a class="header" href="#getfeedforid">getFeedForId</a></h3>
<p>Get tickers configured feed address for the oracle type.</p>
<pre><code class="language-solidity">function getFeedForId(bytes32 _ticker, Enums.OracleType _oracleType) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker in bytes32, eg. bytes32(&quot;ETH&quot;).</td></tr>
<tr><td><code>_oracleType</code></td><td><code>Enums.OracleType</code></td><td>The oracle type.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>feedAddr Feed address matching the oracle type given.</td></tr>
</tbody></table>
</div>
<h3 id="redstoneprice"><a class="header" href="#redstoneprice">redstonePrice</a></h3>
<p>Price getter for Redstone, extracting the price from &quot;hidden&quot; calldata.
Reverts for a number of reasons, notably:</p>
<ol>
<li>Invalid calldata</li>
<li>Not enough signers for the price data.</li>
<li>Wrong signers for the price data.</li>
<li>Stale price data.</li>
<li>Not enough data points</li>
</ol>
<pre><code class="language-solidity">function redstonePrice(bytes32 _ticker, address) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>The reference asset ticker in bytes32, eg. bytes32(&quot;ETH&quot;).</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Extracted price with enough unique signers.</td></tr>
</tbody></table>
</div>
<h3 id="getapi3price"><a class="header" href="#getapi3price">getAPI3Price</a></h3>
<p>Price getter for API3 type feeds.</p>
<p><em>Valid call will revert if the answer is negative.</em></p>
<pre><code class="language-solidity">function getAPI3Price(address _feedAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>IProxy type feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Price answer from the feed, 0 if the price is stale.</td></tr>
</tbody></table>
</div>
<h3 id="getvaultprice"><a class="header" href="#getvaultprice">getVaultPrice</a></h3>
<p>Price getter for Vault based asset.</p>
<pre><code class="language-solidity">function getVaultPrice(address _vaultAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_vaultAddr</code></td><td><code>address</code></td><td>IVaultFeed type feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Current price of one vault share.</td></tr>
</tbody></table>
</div>
<h3 id="getchainlinkprice"><a class="header" href="#getchainlinkprice">getChainlinkPrice</a></h3>
<p>Price getter for AggregatorV3/Chainlink type feeds.</p>
<p><em>Valid call will revert if the answer is negative.</em></p>
<pre><code class="language-solidity">function getChainlinkPrice(address _feedAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>AggregatorV3 type feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Price answer from the feed, 0 if the price is stale.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="safetycouncilfacet"><a class="header" href="#safetycouncilfacet">SafetyCouncilFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/facets/SafetyCouncilFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/SafetyCouncilFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a>, <a href="src/contracts/core/common/facets/SafetyCouncilFacet.sol//docs/book/src/src/contracts/core/common/interfaces/ISafetyCouncilFacet.sol/interface.ISafetyCouncilFacet.html">ISafetyCouncilFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p><code>Role.SAFETY_COUNCIL</code> must be a multisig.</p>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="toggleassetspaused"><a class="header" href="#toggleassetspaused">toggleAssetsPaused</a></h3>
<p>These functions are only callable by a multisig quorum.</p>
<p><em>Toggle paused-state of assets in a per-action basis</em></p>
<pre><code class="language-solidity">function toggleAssetsPaused(address[] calldata _assets, Enums.Action _action, bool _withDuration, uint256 _duration)
    external
    override
    onlyRole(Role.SAFETY_COUNCIL);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assets</code></td><td><code>address[]</code></td><td>list of addresses of krAssets and/or collateral assets</td></tr>
<tr><td><code>_action</code></td><td><code>Enums.Action</code></td><td>One of possible user actions: Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
<tr><td><code>_withDuration</code></td><td><code>bool</code></td><td>Set a duration for this pause - @todo: implement it if required</td></tr>
<tr><td><code>_duration</code></td><td><code>uint256</code></td><td>Duration for the pause if <code>_withDuration</code> is true</td></tr>
</tbody></table>
</div>
<h3 id="setsafetystateset"><a class="header" href="#setsafetystateset">setSafetyStateSet</a></h3>
<p>set the safetyStateSet flag</p>
<p><em>loop through <code>_assets</code> - be it krAsset or collateral</em></p>
<pre><code class="language-solidity">function setSafetyStateSet(bool val) external override onlyRole(Role.SAFETY_COUNCIL);
</code></pre>
<h3 id="safetystateset"><a class="header" href="#safetystateset">safetyStateSet</a></h3>
<p>For external checks if a safety state has been set for any asset</p>
<pre><code class="language-solidity">function safetyStateSet() external view override returns (bool);
</code></pre>
<h3 id="safetystatefor"><a class="header" href="#safetystatefor">safetyStateFor</a></h3>
<p>View the state of safety measures for an asset on a per-action basis</p>
<pre><code class="language-solidity">function safetyStateFor(address _assetAddr, Enums.Action _action) external view override returns (SafetyState memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>krAsset / collateral asset</td></tr>
<tr><td><code>_action</code></td><td><code>Enums.Action</code></td><td>One of possible user actions: Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
</tbody></table>
</div>
<h3 id="assetactionpaused"><a class="header" href="#assetactionpaused">assetActionPaused</a></h3>
<p>Check if <code>_assetAddr</code> has a pause enabled for <code>_action</code></p>
<pre><code class="language-solidity">function assetActionPaused(Enums.Action _action, address _assetAddr) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_action</code></td><td><code>Enums.Action</code></td><td>enum <code>Action</code> Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if <code>_action</code> is paused</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-4"><a class="header" href="#contents-4">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/common/funcs/Actions.sol/function.burnKrAsset.html">burnKrAsset</a></li>
<li><a href="src/contracts/core/common/funcs/Actions.sol/function.burnSCDP.html">burnSCDP</a></li>
<li><a href="src/contracts/core/common/funcs/Actions.sol/function.mintKrAsset.html">mintKrAsset</a></li>
<li><a href="src/contracts/core/common/funcs/Actions.sol/function.mintSCDP.html">mintSCDP</a></li>
<li><a href="src/contracts/core/common/funcs/Assets.sol/library.Assets.html">Assets</a></li>
<li><a href="src/contracts/core/common/funcs/Helpers.sol/function.collateralAmountToValues.html">collateralAmountToValues</a></li>
<li><a href="src/contracts/core/common/funcs/Helpers.sol/function.debtAmountToValues.html">debtAmountToValues</a></li>
<li><a href="src/contracts/core/common/funcs/Math.sol/function.wadUSD.html">wadUSD</a></li>
<li><a href="src/contracts/core/common/funcs/Math.sol/function.fromWad.html">fromWad</a></li>
<li><a href="src/contracts/core/common/funcs/Math.sol/function.valueToAmount.html">valueToAmount</a></li>
<li><a href="src/contracts/core/common/funcs/Math.sol/function.toWad.html">toWad</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.oraclePrice.html">oraclePrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.vaultPrice.html">vaultPrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.rawPrice.html">rawPrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.handleSequencerDown.html">handleSequencerDown</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.API3RawPrice.html">API3RawPrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.aggregatorV3Price.html">aggregatorV3Price</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.API3Price.html">API3Price</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.deducePrice.html">deducePrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.safePrice.html">safePrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.aggregatorV3RawPrice.html">aggregatorV3RawPrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.SDIPrice.html">SDIPrice</a></li>
<li><a href="src/contracts/core/common/funcs/Utils.sol/function.isSequencerUp.html">isSequencerUp</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="burnkrasset"><a class="header" href="#burnkrasset">burnKrAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Actions.sol">Git Source</a></p>
<p>Burn kresko assets with anchor already known.</p>
<pre><code class="language-solidity">function burnKrAsset(uint256 _burnAmount, address _fromAddr, address _anchorAddr) returns (uint256 burned);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>The amount being burned</td></tr>
<tr><td><code>_fromAddr</code></td><td><code>address</code></td><td>The account to burn assets from.</td></tr>
<tr><td><code>_anchorAddr</code></td><td><code>address</code></td><td>The anchor token of the asset being burned.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="burnscdp"><a class="header" href="#burnscdp">burnSCDP</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Actions.sol">Git Source</a></p>
<p>Repay SCDP swap debt.</p>
<pre><code class="language-solidity">function burnSCDP(Asset storage _asset, uint256 _burnAmount, address _fromAddr) returns (uint256 destroyed);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>the asset being repaid</td></tr>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>the asset amount being burned</td></tr>
<tr><td><code>_fromAddr</code></td><td><code>address</code></td><td>the account to burn assets from</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mintkrasset"><a class="header" href="#mintkrasset">mintKrAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Actions.sol">Git Source</a></p>
<p>Mint kresko assets with anchor already known.</p>
<pre><code class="language-solidity">function mintKrAsset(uint256 _mintAmount, address _toAddr, address _anchorAddr) returns (uint256 minted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>The asset amount being minted</td></tr>
<tr><td><code>_toAddr</code></td><td><code>address</code></td><td>The account receiving minted assets.</td></tr>
<tr><td><code>_anchorAddr</code></td><td><code>address</code></td><td>The anchor token of the minted asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mintscdp"><a class="header" href="#mintscdp">mintSCDP</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Actions.sol">Git Source</a></p>
<p>Mint kresko assets from SCDP swap.</p>
<pre><code class="language-solidity">function mintSCDP(Asset storage _asset, uint256 _mintAmount, address _toAddr) returns (uint256 issued);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>the asset requested</td></tr>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>the asset amount requested</td></tr>
<tr><td><code>_toAddr</code></td><td><code>address</code></td><td>the account to mint the assets to</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="assets"><a class="header" href="#assets">Assets</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Assets.sol">Git Source</a></p>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="price"><a class="header" href="#price">price</a></h3>
<pre><code class="language-solidity">function price(Asset storage self) internal view returns (uint256);
</code></pre>
<h3 id="price-1"><a class="header" href="#price-1">price</a></h3>
<pre><code class="language-solidity">function price(Asset storage self, uint256 maxPriceDeviationPct) internal view returns (uint256);
</code></pre>
<h3 id="uintusd"><a class="header" href="#uintusd">uintUSD</a></h3>
<p>Get value for @param _assetAmount of @param self in uint256</p>
<pre><code class="language-solidity">function uintUSD(Asset storage self, uint256 _amount) internal view returns (uint256);
</code></pre>
<h3 id="redstoneprice-1"><a class="header" href="#redstoneprice-1">redstonePrice</a></h3>
<p>Get the oracle price of an asset in uint256 with oracleDecimals</p>
<pre><code class="language-solidity">function redstonePrice(Asset storage self) internal view returns (uint256);
</code></pre>
<h3 id="marketstatus"><a class="header" href="#marketstatus">marketStatus</a></h3>
<pre><code class="language-solidity">function marketStatus(Asset storage) internal pure returns (bool);
</code></pre>
<h3 id="boundrepayvalue"><a class="header" href="#boundrepayvalue">boundRepayValue</a></h3>
<p>Ensure repayment value (and amount), clamp to max if necessary.</p>
<pre><code class="language-solidity">function boundRepayValue(Asset storage self, uint256 _maxRepayValue, uint256 _repayAmount)
    internal
    view
    returns (uint256 repayValue, uint256 repayAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_maxRepayValue</code></td><td><code>uint256</code></td><td>The max liquidatable USD (uint256).</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>The repay amount (uint256).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>repayValue</code></td><td><code>uint256</code></td><td>Effective repayment value.</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>Effective repayment amount.</td></tr>
</tbody></table>
</div>
<h3 id="collateralamounttovalue"><a class="header" href="#collateralamounttovalue">collateralAmountToValue</a></h3>
<p>Gets the collateral value for a single collateral asset and amount.</p>
<pre><code class="language-solidity">function collateralAmountToValue(Asset storage self, uint256 _amount, bool _ignoreFactor)
    internal
    view
    returns (uint256 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Amount of asset to get the value for.</td></tr>
<tr><td><code>_ignoreFactor</code></td><td><code>bool</code></td><td>Should collateral factor be ignored.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Value for <code>_amount</code> of the asset.</td></tr>
</tbody></table>
</div>
<h3 id="collateralamounttovaluewithprice"><a class="header" href="#collateralamounttovaluewithprice">collateralAmountToValueWithPrice</a></h3>
<p>Gets the collateral value for <code>_amount</code> and returns the price used.</p>
<pre><code class="language-solidity">function collateralAmountToValueWithPrice(Asset storage self, uint256 _amount, bool _ignoreFactor)
    internal
    view
    returns (uint256 value, uint256 assetPrice);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Amount of asset</td></tr>
<tr><td><code>_ignoreFactor</code></td><td><code>bool</code></td><td>Should collateral factor be ignored.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Value for <code>_amount</code> of the asset.</td></tr>
<tr><td><code>assetPrice</code></td><td><code>uint256</code></td><td>Price of the collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="debtamounttovalue"><a class="header" href="#debtamounttovalue">debtAmountToValue</a></h3>
<p>Gets the USD value for a single Kresko asset and amount.</p>
<pre><code class="language-solidity">function debtAmountToValue(Asset storage self, uint256 _amount, bool _ignoreKFactor)
    internal
    view
    returns (uint256 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Amount of the Kresko asset to calculate the value for.</td></tr>
<tr><td><code>_ignoreKFactor</code></td><td><code>bool</code></td><td>Boolean indicating if the asset's k-factor should be ignored.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Value for the provided amount of the Kresko asset.</td></tr>
</tbody></table>
</div>
<h3 id="debtvaluetoamount"><a class="header" href="#debtvaluetoamount">debtValueToAmount</a></h3>
<p>Gets the amount for a single debt asset and value.</p>
<pre><code class="language-solidity">function debtValueToAmount(Asset storage self, uint256 _value, bool _ignoreKFactor)
    internal
    view
    returns (uint256 amount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_value</code></td><td><code>uint256</code></td><td>Value of the asset to calculate the amount for.</td></tr>
<tr><td><code>_ignoreKFactor</code></td><td><code>bool</code></td><td>Boolean indicating if the asset's k-factor should be ignored.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount for the provided value of the Kresko asset.</td></tr>
</tbody></table>
</div>
<h3 id="debtamounttosdi"><a class="header" href="#debtamounttosdi">debtAmountToSDI</a></h3>
<p>Preview SDI amount from krAsset amount.</p>
<pre><code class="language-solidity">function debtAmountToSDI(Asset storage asset, uint256 amount, bool ignoreFactors)
    internal
    view
    returns (uint256 shares);
</code></pre>
<h3 id="checkdust"><a class="header" href="#checkdust">checkDust</a></h3>
<p>Check that amount does not put the user's debt position below the minimum debt value.</p>
<pre><code class="language-solidity">function checkDust(Asset storage _asset, uint256 _burnAmount, uint256 _debtAmount)
    internal
    view
    returns (uint256 amount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>Asset being burned.</td></tr>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>Debt amount burned.</td></tr>
<tr><td><code>_debtAmount</code></td><td><code>uint256</code></td><td>Debt amount before burn.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>&gt;= minDebtAmount</td></tr>
</tbody></table>
</div>
<h3 id="ensuremindebtvalue"><a class="header" href="#ensuremindebtvalue">ensureMinDebtValue</a></h3>
<p>Checks min debt value against some amount.</p>
<pre><code class="language-solidity">function ensureMinDebtValue(Asset storage _asset, address _krAsset, uint256 _debtAmount) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset (Asset).</td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The kresko asset address.</td></tr>
<tr><td><code>_debtAmount</code></td><td><code>uint256</code></td><td>The debt amount (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="mincollateralvalueatratio"><a class="header" href="#mincollateralvalueatratio">minCollateralValueAtRatio</a></h3>
<p>Get the minimum collateral value required to
back a Kresko asset amount at a given collateralization ratio.</p>
<pre><code class="language-solidity">function minCollateralValueAtRatio(Asset storage _krAsset, uint256 _amount, uint32 _ratio)
    internal
    view
    returns (uint256 minCollateralValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>Asset</code></td><td>Address of the Kresko asset.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Kresko Asset debt amount.</td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Collateralization ratio for the minimum collateral value.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minCollateralValue</code></td><td><code>uint256</code></td><td>Minimum collateral value required for <code>_amount</code> of the Kresko Asset.</td></tr>
</tbody></table>
</div>
<h3 id="exists"><a class="header" href="#exists">exists</a></h3>
<pre><code class="language-solidity">function exists(Asset storage self) internal view returns (bool);
</code></pre>
<h3 id="isvoid"><a class="header" href="#isvoid">isVoid</a></h3>
<pre><code class="language-solidity">function isVoid(Asset storage self) internal view returns (bool);
</code></pre>
<h3 id="ensureminkrassetcollateral"><a class="header" href="#ensureminkrassetcollateral">ensureMinKrAssetCollateral</a></h3>
<p>EDGE CASE: If the collateral asset is also a kresko asset, ensure that the deposit amount is above the minimum.</p>
<p><em>This is done because kresko assets can be rebased.</em></p>
<pre><code class="language-solidity">function ensureMinKrAssetCollateral(Asset storage self, address _self, uint256 _newCollateralAmount) internal view;
</code></pre>
<h3 id="torebasingamount"><a class="header" href="#torebasingamount">toRebasingAmount</a></h3>
<p>Amount of non rebasing tokens -&gt; amount of rebasing tokens</p>
<p><em>DO use this function when reading values storage.</em></p>
<p><em>DONT use this function when writing to storage.</em></p>
<pre><code class="language-solidity">function toRebasingAmount(Asset storage self, uint256 _unrebasedAmount)
    internal
    view
    returns (uint256 maybeRebasedAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_unrebasedAmount</code></td><td><code>uint256</code></td><td>Unrebased amount to convert.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maybeRebasedAmount</code></td><td><code>uint256</code></td><td>Possibly rebased amount of asset</td></tr>
</tbody></table>
</div>
<h3 id="tononrebasingamount"><a class="header" href="#tononrebasingamount">toNonRebasingAmount</a></h3>
<p>Amount of rebasing tokens -&gt; amount of non rebasing tokens</p>
<p><em>DONT use this function when reading from storage.</em></p>
<p><em>DO use this function when writing to storage.</em></p>
<pre><code class="language-solidity">function toNonRebasingAmount(Asset storage self, uint256 _maybeRebasedAmount)
    internal
    view
    returns (uint256 maybeUnrebasedAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_maybeRebasedAmount</code></td><td><code>uint256</code></td><td>Possibly rebased amount of asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maybeUnrebasedAmount</code></td><td><code>uint256</code></td><td>Possibly unrebased amount of asset</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="collateralamounttovalues"><a class="header" href="#collateralamounttovalues">collateralAmountToValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Helpers.sol">Git Source</a></p>
<p>Helper function to get unadjusted, adjusted and price values for collateral assets</p>
<pre><code class="language-solidity">function collateralAmountToValues(Asset storage self, uint256 _amount)
    view
    returns (uint256 value, uint256 valueAdjusted, uint256 price);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="debtamounttovalues"><a class="header" href="#debtamounttovalues">debtAmountToValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Helpers.sol">Git Source</a></p>
<p>Helper function to get unadjusted, adjusted and price values for debt assets</p>
<pre><code class="language-solidity">function debtAmountToValues(Asset storage self, uint256 _amount)
    view
    returns (uint256 value, uint256 valueAdjusted, uint256 price);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wadusd"><a class="header" href="#wadusd">wadUSD</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Math.sol">Git Source</a></p>
<p>Get the value of <code>_amount</code> and convert to 18 decimal precision.</p>
<pre><code class="language-solidity">function wadUSD(uint256 _amount, uint8 _amountDecimal, uint256 _price, uint8 _priceDecimals) pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Amount of tokens to calculate.</td></tr>
<tr><td><code>_amountDecimal</code></td><td><code>uint8</code></td><td>Precision of <code>_amount</code>.</td></tr>
<tr><td><code>_price</code></td><td><code>uint256</code></td><td>Price to use.</td></tr>
<tr><td><code>_priceDecimals</code></td><td><code>uint8</code></td><td>Precision of <code>_price</code>.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Value of <code>_amount</code> in 18 decimal precision.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="fromwad"><a class="header" href="#fromwad">fromWad</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Math.sol">Git Source</a></p>
<p>Converts wad precision <code>_amount</code>  to wad decimal precision, which is 18 decimals.</p>
<p><em>Multiplies if precision is greater and divides if precision is less than 18 decimals.</em></p>
<pre><code class="language-solidity">function fromWad(uint256 _wadAmount, uint8 _decimals) pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_wadAmount</code></td><td><code>uint256</code></td><td>Wad precision amount to convert.</td></tr>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>Decimal precision for the result.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Amount converted to <code>_decimals</code> precision.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="valuetoamount"><a class="header" href="#valuetoamount">valueToAmount</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Math.sol">Git Source</a></p>
<p>Calculate amount for value provided with possible incentive multiplier for value.</p>
<pre><code class="language-solidity">function valueToAmount(uint256 _value, uint256 _price, uint16 _multiplier) pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_value</code></td><td><code>uint256</code></td><td>Value to convert into amount.</td></tr>
<tr><td><code>_price</code></td><td><code>uint256</code></td><td>The price to apply.</td></tr>
<tr><td><code>_multiplier</code></td><td><code>uint16</code></td><td>Multiplier to apply, 1e4 = 100.00% precision.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="function-towad"><a class="header" href="#function-towad">function toWad</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Math.sol">Git Source</a></p>
<h3 id="towaduint256-uint8"><a class="header" href="#towaduint256-uint8">toWad(uint256, uint8)</a></h3>
<p>Converts decimal precision of <code>_amount</code> to wad decimal precision, which is 18 decimals.</p>
<p><em>Multiplies if precision is less and divides if precision is greater than 18 decimals.</em></p>
<pre><code class="language-solidity">function toWad(uint256 _amount, uint8 _decimals) pure returns (uint256);
</code></pre>
<h3 id="towadint256-uint8"><a class="header" href="#towadint256-uint8">toWad(int256, uint8)</a></h3>
<pre><code class="language-solidity">function toWad(int256 _amount, uint8 _decimals) pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="oracleprice"><a class="header" href="#oracleprice">oraclePrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Call the price getter for the oracle provided and return the price.</p>
<pre><code class="language-solidity">function oraclePrice(Enums.OracleType _oracleId, bytes32 _ticker) view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracleId</code></td><td><code>Enums.OracleType</code></td><td>The oracle id (uint8).</td></tr>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker for the asset</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 oracle price. This will return 0 if the oracle is not set.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="vaultprice"><a class="header" href="#vaultprice">vaultPrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Gets the price from the provided vault.</p>
<p><em>Vault exchange rate is in 18 decimal precision so we normalize to 8 decimals.</em></p>
<pre><code class="language-solidity">function vaultPrice(address _vaultAddr) view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_vaultAddr</code></td><td><code>address</code></td><td>The vault address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 The price of the vault share in 8 decimal precision.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="rawprice"><a class="header" href="#rawprice">rawPrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Return raw answer info from the oracles provided</p>
<pre><code class="language-solidity">function rawPrice(Enums.OracleType[2] memory _oracles, bytes32 _ticker) view returns (RawPrice memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracles</code></td><td><code>Enums.OracleType[2]</code></td><td>Oracles to check.</td></tr>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker for the asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>RawPrice</code></td><td>RawPrice Unparsed answer with metadata.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="handlesequencerdown"><a class="header" href="#handlesequencerdown">handleSequencerDown</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Handles the prices in case the sequencer is down.</p>
<p>Looks for redstone price, reverting if not available for asset.</p>
<pre><code class="language-solidity">function handleSequencerDown(Enums.OracleType[2] memory oracles, uint256[2] memory prices) pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>oracles</code></td><td><code>Enums.OracleType[2]</code></td><td>The oracle types.</td></tr>
<tr><td><code>prices</code></td><td><code>uint256[2]</code></td><td>The fetched oracle prices.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Usable price of the asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="api3rawprice"><a class="header" href="#api3rawprice">API3RawPrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Gets raw answer info from IAPI3 type feed.</p>
<pre><code class="language-solidity">function API3RawPrice(address _feedAddr) view returns (RawPrice memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>RawPrice</code></td><td>RawPrice Unparsed answer with metadata.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="aggregatorv3price"><a class="header" href="#aggregatorv3price">aggregatorV3Price</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Gets answer from AggregatorV3 type feed.</p>
<pre><code class="language-solidity">function aggregatorV3Price(address _feedAddr, uint256 _staleTime) view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
<tr><td><code>_staleTime</code></td><td><code>uint256</code></td><td>Time in seconds for the feed to be considered stale.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Parsed answer from the feed, 0 if its stale.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="api3price"><a class="header" href="#api3price">API3Price</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Gets answer from IAPI3 type feed.</p>
<pre><code class="language-solidity">function API3Price(address _feedAddr, uint256 _staleTime) view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
<tr><td><code>_staleTime</code></td><td><code>uint256</code></td><td>Staleness threshold.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Parsed answer from the feed, 0 if its stale.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="deduceprice"><a class="header" href="#deduceprice">deducePrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Checks the primary and reference price for deviations.</p>
<p>Reverts if the price deviates more than <code>_oracleDeviationPct</code></p>
<pre><code class="language-solidity">function deducePrice(uint256 _primaryPrice, uint256 _referencePrice, uint256 _oracleDeviationPct)
    pure
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_primaryPrice</code></td><td><code>uint256</code></td><td>the primary price source to use</td></tr>
<tr><td><code>_referencePrice</code></td><td><code>uint256</code></td><td>the reference price to compare primary against</td></tr>
<tr><td><code>_oracleDeviationPct</code></td><td><code>uint256</code></td><td>the deviation percentage to use for the oracle</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Primary price if its within deviation range of reference price. = the primary price is reference price is 0. = the reference price if primary price is 0. = reverts if price deviates more than <code>_oracleDeviationPct</code></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="safeprice"><a class="header" href="#safeprice">safePrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Gets the oracle price using safety checks for deviation and sequencer uptime</p>
<p>Reverts when price deviates more than <code>_oracleDeviationPct</code></p>
<pre><code class="language-solidity">function safePrice(bytes32 _ticker, Enums.OracleType[2] memory _oracles, uint256 _oracleDeviationPct)
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker of the price</td></tr>
<tr><td><code>_oracles</code></td><td><code>Enums.OracleType[2]</code></td><td>The list of oracle identifiers</td></tr>
<tr><td><code>_oracleDeviationPct</code></td><td><code>uint256</code></td><td>the deviation percentage</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="aggregatorv3rawprice"><a class="header" href="#aggregatorv3rawprice">aggregatorV3RawPrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Gets raw answer info from AggregatorV3 type feed.</p>
<pre><code class="language-solidity">function aggregatorV3RawPrice(address _feedAddr) view returns (RawPrice memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>RawPrice</code></td><td>RawPrice Unparsed answer with metadata.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="sdiprice"><a class="header" href="#sdiprice">SDIPrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Get the price of SDI in USD, oracle precision.</p>
<pre><code class="language-solidity">function SDIPrice() view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="issequencerup"><a class="header" href="#issequencerup">isSequencerUp</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/funcs/Utils.sol">Git Source</a></p>
<p>Checks if the L2 sequencer is up.
1 means the sequencer is down, 0 means the sequencer is up.</p>
<pre><code class="language-solidity">function isSequencerUp(address _uptimeFeed, uint256 _gracePeriod) view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_uptimeFeed</code></td><td><code>address</code></td><td>The address of the uptime feed.</td></tr>
<tr><td><code>_gracePeriod</code></td><td><code>uint256</code></td><td>The grace period in seconds.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool returns true/false if the sequencer is up/not.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-5"><a class="header" href="#contents-5">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/common/interfaces/IAssetConfigurationFacet.sol/interface.IAssetConfigurationFacet.html">IAssetConfigurationFacet</a></li>
<li><a href="src/contracts/core/common/interfaces/IAssetStateFacet.sol/interface.IAssetStateFacet.html">IAssetStateFacet</a></li>
<li><a href="src/contracts/core/common/interfaces/IAuthorizationFacet.sol/interface.IAuthorizationFacet.html">IAuthorizationFacet</a></li>
<li><a href="src/contracts/core/common/interfaces/ICommonConfigurationFacet.sol/interface.ICommonConfigurationFacet.html">ICommonConfigurationFacet</a></li>
<li><a href="src/contracts/core/common/interfaces/ICommonStateFacet.sol/interface.ICommonStateFacet.html">ICommonStateFacet</a></li>
<li><a href="src/contracts/core/common/interfaces/IERC1155.sol/interface.IERC1155.html">IERC1155</a></li>
<li><a href="src/contracts/core/common/interfaces/ISafetyCouncilFacet.sol/interface.ISafetyCouncilFacet.html">ISafetyCouncilFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iassetconfigurationfacet"><a class="header" href="#iassetconfigurationfacet">IAssetConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/interfaces/IAssetConfigurationFacet.sol">Git Source</a></p>
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<h3 id="addasset-1"><a class="header" href="#addasset-1">addAsset</a></h3>
<p>Adds a new asset to the common state.</p>
<p>Performs validations according to the <code>_config</code> provided.</p>
<p><em>Use validateAssetConfig / static call this for validation.</em></p>
<pre><code class="language-solidity">function addAsset(address _assetAddr, Asset memory _config, address[2] memory _feeds) external returns (Asset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>Configuration struct to save for the asset.</td></tr>
<tr><td><code>_feeds</code></td><td><code>address[2]</code></td><td>Feed addresses, if both are address(0) they are ignored.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Asset</code></td><td>Asset Result of addAsset.</td></tr>
</tbody></table>
</div>
<h3 id="updateasset-1"><a class="header" href="#updateasset-1">updateAsset</a></h3>
<p>Update asset config.</p>
<p>Performs validations according to the <code>_config</code> set.</p>
<p><em>Use validateAssetConfig / static call this for validation.</em></p>
<pre><code class="language-solidity">function updateAsset(address _assetAddr, Asset memory _config) external returns (Asset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>Configuration struct to apply for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setassetcfactor-1"><a class="header" href="#setassetcfactor-1">setAssetCFactor</a></h3>
<p>Updates the cFactor of a KreskoAsset. Convenience.</p>
<pre><code class="language-solidity">function setAssetCFactor(address _assetAddr, uint16 _newFactor) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The collateral asset.</td></tr>
<tr><td><code>_newFactor</code></td><td><code>uint16</code></td><td>The new collateral factor.</td></tr>
</tbody></table>
</div>
<h3 id="setassetkfactor-1"><a class="header" href="#setassetkfactor-1">setAssetKFactor</a></h3>
<p>Updates the kFactor of a KreskoAsset.</p>
<pre><code class="language-solidity">function setAssetKFactor(address _assetAddr, uint16 _newKFactor) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The KreskoAsset.</td></tr>
<tr><td><code>_newKFactor</code></td><td><code>uint16</code></td><td>The new kFactor.</td></tr>
</tbody></table>
</div>
<h3 id="validateassetconfig-1"><a class="header" href="#validateassetconfig-1">validateAssetConfig</a></h3>
<p>Validate supplied asset config. Reverts with information if invalid.</p>
<pre><code class="language-solidity">function validateAssetConfig(address _assetAddr, Asset memory _config) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>Configuration for the asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool True for convenience.</td></tr>
</tbody></table>
</div>
<h3 id="setassetoracleorder-1"><a class="header" href="#setassetoracleorder-1">setAssetOracleOrder</a></h3>
<p>Update oracle order for an asset.</p>
<pre><code class="language-solidity">function setAssetOracleOrder(address _assetAddr, Enums.OracleType[2] memory _newOracleOrder) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_newOracleOrder</code></td><td><code>Enums.OracleType[2]</code></td><td>List of 2 OracleTypes. 0 is primary and 1 is the reference.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iassetstatefacet"><a class="header" href="#iassetstatefacet">IAssetStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/interfaces/IAssetStateFacet.sol">Git Source</a></p>
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<h3 id="getasset-1"><a class="header" href="#getasset-1">getAsset</a></h3>
<p>Get the state of a specific asset</p>
<pre><code class="language-solidity">function getAsset(address _assetAddr) external view returns (Asset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Address of the asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Asset</code></td><td>Asset State of asset</td></tr>
</tbody></table>
</div>
<h3 id="getprice-1"><a class="header" href="#getprice-1">getPrice</a></h3>
<p>Get price for an asset from address.</p>
<pre><code class="language-solidity">function getPrice(address _assetAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Current price for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="getpushprice-1"><a class="header" href="#getpushprice-1">getPushPrice</a></h3>
<p>Get push price for an asset from address.</p>
<pre><code class="language-solidity">function getPushPrice(address _assetAddr) external view returns (RawPrice memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>RawPrice</code></td><td>RawPrice Current raw price for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="getvalue-1"><a class="header" href="#getvalue-1">getValue</a></h3>
<p>Get value for an asset amount using the current price.</p>
<pre><code class="language-solidity">function getValue(address _assetAddr, uint256 _amount) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Current value for <code>_amount</code> of <code>_assetAddr</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getfeedforaddress-1"><a class="header" href="#getfeedforaddress-1">getFeedForAddress</a></h3>
<p>Gets corresponding feed address for the oracle type and asset address.</p>
<pre><code class="language-solidity">function getFeedForAddress(address _assetAddr, Enums.OracleType _oracleType) external view returns (address feedAddr);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_oracleType</code></td><td><code>Enums.OracleType</code></td><td>The oracle type.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feedAddr</code></td><td><code>address</code></td><td>Feed address that the asset uses with the oracle type.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iauthorizationfacet"><a class="header" href="#iauthorizationfacet">IAuthorizationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/interfaces/IAuthorizationFacet.sol">Git Source</a></p>
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<h3 id="getrolemember-1"><a class="header" href="#getrolemember-1">getRoleMember</a></h3>
<p>WARNING:
When using {getRoleMember} and {getRoleMemberCount}, make sure
you perform all queries on the same block.
See the following forum post for more information:</p>
<ul>
<li>https://forum.openzeppelin.com/t/iterating-over-elements-on-enumerableset-in-openzeppelin-contracts/2296</li>
</ul>
<p><em>OpenZeppelin
Returns one of the accounts that have <code>role</code>. <code>index</code> must be a
value between 0 and {getRoleMemberCount}, non-inclusive.
Role bearers are not sorted in any particular way, and their ordering may
change at any point.</em></p>
<p>*Kresko
TL;DR above:</p>
<ul>
<li>If you iterate the EnumSet outside a single block scope you might get different results.</li>
<li>Since when EnumSet member is deleted it is replaced with the highest index.*</li>
</ul>
<pre><code class="language-solidity">function getRoleMember(bytes32 role, uint256 index) external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>address with the <code>role</code></td></tr>
</tbody></table>
</div>
<h3 id="getrolemembercount-1"><a class="header" href="#getrolemembercount-1">getRoleMemberCount</a></h3>
<p>See warning in {getRoleMember} if combining these two</p>
<p><em>Returns the number of accounts that have <code>role</code>. Can be used
together with {getRoleMember} to enumerate all bearers of a role.</em></p>
<pre><code class="language-solidity">function getRoleMemberCount(bytes32 role) external view returns (uint256);
</code></pre>
<h3 id="grantrole-1"><a class="header" href="#grantrole-1">grantRole</a></h3>
<p>*Grants <code>role</code> to <code>account</code>.
If <code>account</code> had not been already granted <code>role</code>, emits a {RoleGranted}
event.
Requirements:</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.*</li>
</ul>
<pre><code class="language-solidity">function grantRole(bytes32 role, address account) external;
</code></pre>
<h3 id="getroleadmin-1"><a class="header" href="#getroleadmin-1">getRoleAdmin</a></h3>
<p>To change a role's admin, use {_setRoleAdmin}.</p>
<p><em>Returns the admin role that controls <code>role</code>. See {grantRole} and
{revokeRole}.</em></p>
<pre><code class="language-solidity">function getRoleAdmin(bytes32 role) external view returns (bytes32);
</code></pre>
<h3 id="hasrole-1"><a class="header" href="#hasrole-1">hasRole</a></h3>
<p><em>Returns true if <code>account</code> has been granted <code>role</code>.</em></p>
<pre><code class="language-solidity">function hasRole(bytes32 role, address account) external view returns (bool);
</code></pre>
<h3 id="renouncerole-1"><a class="header" href="#renouncerole-1">renounceRole</a></h3>
<p>Requirements</p>
<ul>
<li>the caller must be <code>account</code>.</li>
</ul>
<p><em>Revokes <code>role</code> from the calling account.
Roles are often managed via {grantRole} and {revokeRole}: this function's
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).
If the calling account had been revoked <code>role</code>, emits a {RoleRevoked}
event.</em></p>
<pre><code class="language-solidity">function renounceRole(bytes32 role, address account) external;
</code></pre>
<h3 id="revokerole-1"><a class="header" href="#revokerole-1">revokeRole</a></h3>
<p>Requirements</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.</li>
</ul>
<p><em>Revokes <code>role</code> from <code>account</code>.</em></p>
<pre><code class="language-solidity">function revokeRole(bytes32 role, address account) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icommonconfigurationfacet"><a class="header" href="#icommonconfigurationfacet">ICommonConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/interfaces/ICommonConfigurationFacet.sol">Git Source</a></p>
<h2 id="functions-10"><a class="header" href="#functions-10">Functions</a></h2>
<h3 id="setfeerecipient-1"><a class="header" href="#setfeerecipient-1">setFeeRecipient</a></h3>
<p>Updates the fee recipient.</p>
<pre><code class="language-solidity">function setFeeRecipient(address _newFeeRecipient) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newFeeRecipient</code></td><td><code>address</code></td><td>The new fee recipient.</td></tr>
</tbody></table>
</div>
<h3 id="setmindebtvalue-1"><a class="header" href="#setmindebtvalue-1">setMinDebtValue</a></h3>
<p><em>Updates the contract's minimum debt value.</em></p>
<pre><code class="language-solidity">function setMinDebtValue(uint96 _newMinDebtValue) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMinDebtValue</code></td><td><code>uint96</code></td><td>The new minimum debt value as a wad.</td></tr>
</tbody></table>
</div>
<h3 id="setdefaultoracleprecision-1"><a class="header" href="#setdefaultoracleprecision-1">setDefaultOraclePrecision</a></h3>
<p>Sets the decimal precision of external oracle</p>
<pre><code class="language-solidity">function setDefaultOraclePrecision(uint8 _decimals) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>Amount of decimals</td></tr>
</tbody></table>
</div>
<h3 id="setmaxpricedeviationpct-1"><a class="header" href="#setmaxpricedeviationpct-1">setMaxPriceDeviationPct</a></h3>
<p>Sets the decimal precision of external oracle</p>
<pre><code class="language-solidity">function setMaxPriceDeviationPct(uint16 _oracleDeviationPct) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracleDeviationPct</code></td><td><code>uint16</code></td><td>Amount of decimals</td></tr>
</tbody></table>
</div>
<h3 id="setsequenceruptimefeed-1"><a class="header" href="#setsequenceruptimefeed-1">setSequencerUptimeFeed</a></h3>
<p>Sets L2 sequencer uptime feed address</p>
<pre><code class="language-solidity">function setSequencerUptimeFeed(address _sequencerUptimeFeed) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sequencerUptimeFeed</code></td><td><code>address</code></td><td>sequencer uptime feed address</td></tr>
</tbody></table>
</div>
<h3 id="setsequencergraceperiod-1"><a class="header" href="#setsequencergraceperiod-1">setSequencerGracePeriod</a></h3>
<p>Sets sequencer grace period time</p>
<pre><code class="language-solidity">function setSequencerGracePeriod(uint32 _sequencerGracePeriodTime) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sequencerGracePeriodTime</code></td><td><code>uint32</code></td><td>grace period time</td></tr>
</tbody></table>
</div>
<h3 id="setstaletime-1"><a class="header" href="#setstaletime-1">setStaleTime</a></h3>
<p>Sets the time in seconds until a price is considered stale.</p>
<pre><code class="language-solidity">function setStaleTime(uint32 _staleTime) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_staleTime</code></td><td><code>uint32</code></td><td>Time in seconds.</td></tr>
</tbody></table>
</div>
<h3 id="setfeedsforticker-1"><a class="header" href="#setfeedsforticker-1">setFeedsForTicker</a></h3>
<p>Set feeds for a ticker.</p>
<pre><code class="language-solidity">function setFeedsForTicker(bytes32 _ticker, FeedConfiguration memory _feedConfig) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker in bytes32 eg. bytes32(&quot;ETH&quot;)</td></tr>
<tr><td><code>_feedConfig</code></td><td><code>FeedConfiguration</code></td><td>List oracle configuration containing oracle identifiers and feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setchainlinkfeeds-1"><a class="header" href="#setchainlinkfeeds-1">setChainlinkFeeds</a></h3>
<p>Set chainlink feeds for tickers.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setChainlinkFeeds(bytes32[] calldata _tickers, address[] calldata _feeds) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_tickers</code></td><td><code>bytes32[]</code></td><td>Bytes32 list of tickers</td></tr>
<tr><td><code>_feeds</code></td><td><code>address[]</code></td><td>List of feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setapi3feeds-1"><a class="header" href="#setapi3feeds-1">setApi3Feeds</a></h3>
<p>Set api3 feeds for tickers.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setApi3Feeds(bytes32[] calldata _tickers, address[] calldata _feeds) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_tickers</code></td><td><code>bytes32[]</code></td><td>Bytes32 list of tickers</td></tr>
<tr><td><code>_feeds</code></td><td><code>address[]</code></td><td>List of feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setvaultfeed-1"><a class="header" href="#setvaultfeed-1">setVaultFeed</a></h3>
<p>Set a vault feed for ticker.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setVaultFeed(bytes32 _ticker, address _vaultAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker in bytes32 eg. bytes32(&quot;ETH&quot;)</td></tr>
<tr><td><code>_vaultAddr</code></td><td><code>address</code></td><td>Vault address</td></tr>
</tbody></table>
</div>
<h3 id="setchainlinkfeed-1"><a class="header" href="#setchainlinkfeed-1">setChainLinkFeed</a></h3>
<p>Set ChainLink feed address for ticker.</p>
<pre><code class="language-solidity">function setChainLinkFeed(bytes32 _ticker, address _feedAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker in bytes32 eg. bytes32(&quot;ETH&quot;)</td></tr>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<h3 id="setapi3feed-1"><a class="header" href="#setapi3feed-1">setApi3Feed</a></h3>
<p>Set API3 feed address for an asset.</p>
<pre><code class="language-solidity">function setApi3Feed(bytes32 _ticker, address _feedAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker in bytes32 eg. bytes32(&quot;ETH&quot;)</td></tr>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<h3 id="setgatingphase-1"><a class="header" href="#setgatingphase-1">setGatingPhase</a></h3>
<p>Sets phase of gating mechanism</p>
<pre><code class="language-solidity">function setGatingPhase(uint8 _phase) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_phase</code></td><td><code>uint8</code></td><td>phase id</td></tr>
</tbody></table>
</div>
<h3 id="setkreskiancollection-1"><a class="header" href="#setkreskiancollection-1">setKreskianCollection</a></h3>
<p>Sets address of Kreskian NFT contract</p>
<pre><code class="language-solidity">function setKreskianCollection(address _kreskian) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskian</code></td><td><code>address</code></td><td>kreskian nft contract address</td></tr>
</tbody></table>
</div>
<h3 id="setquestforkreskcollection-1"><a class="header" href="#setquestforkreskcollection-1">setQuestForKreskCollection</a></h3>
<p>Sets address of Quest For Kresk NFT contract</p>
<pre><code class="language-solidity">function setQuestForKreskCollection(address _questForKresk) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_questForKresk</code></td><td><code>address</code></td><td>Quest For Kresk NFT contract address</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="icommonstatefacet"><a class="header" href="#icommonstatefacet">ICommonStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/interfaces/ICommonStateFacet.sol">Git Source</a></p>
<h2 id="functions-11"><a class="header" href="#functions-11">Functions</a></h2>
<h3 id="getfeerecipient-1"><a class="header" href="#getfeerecipient-1">getFeeRecipient</a></h3>
<p>The recipient of protocol fees.</p>
<pre><code class="language-solidity">function getFeeRecipient() external view returns (address);
</code></pre>
<h3 id="getdefaultoracleprecision-1"><a class="header" href="#getdefaultoracleprecision-1">getDefaultOraclePrecision</a></h3>
<p>Offchain oracle decimals</p>
<pre><code class="language-solidity">function getDefaultOraclePrecision() external view returns (uint8);
</code></pre>
<h3 id="getoracledeviationpct-1"><a class="header" href="#getoracledeviationpct-1">getOracleDeviationPct</a></h3>
<p>max deviation between main oracle and fallback oracle</p>
<pre><code class="language-solidity">function getOracleDeviationPct() external view returns (uint16);
</code></pre>
<h3 id="getmindebtvalue-1"><a class="header" href="#getmindebtvalue-1">getMinDebtValue</a></h3>
<p>The minimum USD value of an individual synthetic asset debt position.</p>
<pre><code class="language-solidity">function getMinDebtValue() external view returns (uint96);
</code></pre>
<h3 id="getsequenceruptimefeed-1"><a class="header" href="#getsequenceruptimefeed-1">getSequencerUptimeFeed</a></h3>
<p>Get the L2 sequencer uptime feed address.</p>
<pre><code class="language-solidity">function getSequencerUptimeFeed() external view returns (address);
</code></pre>
<h3 id="getsequencergraceperiod-1"><a class="header" href="#getsequencergraceperiod-1">getSequencerGracePeriod</a></h3>
<p>Get the L2 sequencer uptime feed grace period</p>
<pre><code class="language-solidity">function getSequencerGracePeriod() external view returns (uint32);
</code></pre>
<h3 id="getoracletimeout-1"><a class="header" href="#getoracletimeout-1">getOracleTimeout</a></h3>
<p>Get stale timeout treshold for oracle answers.</p>
<pre><code class="language-solidity">function getOracleTimeout() external view returns (uint32);
</code></pre>
<h3 id="getfeedforid-1"><a class="header" href="#getfeedforid-1">getFeedForId</a></h3>
<p>Get tickers configured feed address for the oracle type.</p>
<pre><code class="language-solidity">function getFeedForId(bytes32 _ticker, Enums.OracleType _oracleType) external view returns (address feedAddr);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>Ticker in bytes32, eg. bytes32(&quot;ETH&quot;).</td></tr>
<tr><td><code>_oracleType</code></td><td><code>Enums.OracleType</code></td><td>The oracle type.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feedAddr</code></td><td><code>address</code></td><td>Feed address matching the oracle type given.</td></tr>
</tbody></table>
</div>
<h3 id="getchainlinkprice-1"><a class="header" href="#getchainlinkprice-1">getChainlinkPrice</a></h3>
<p>Price getter for AggregatorV3/Chainlink type feeds.</p>
<p>Returns 0-price if answer is stale. This triggers the use of a secondary provider if available.</p>
<p><em>Valid call will revert if the answer is negative.</em></p>
<pre><code class="language-solidity">function getChainlinkPrice(address _feedAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>AggregatorV3 type feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Price answer from the feed, 0 if the price is stale.</td></tr>
</tbody></table>
</div>
<h3 id="getvaultprice-1"><a class="header" href="#getvaultprice-1">getVaultPrice</a></h3>
<p>Price getter for Vault based asset.</p>
<p>Reverts if for stale, 0 or negative answers.</p>
<pre><code class="language-solidity">function getVaultPrice(address _vaultAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_vaultAddr</code></td><td><code>address</code></td><td>IVaultFeed type feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Current price of one vault share.</td></tr>
</tbody></table>
</div>
<h3 id="redstoneprice-2"><a class="header" href="#redstoneprice-2">redstonePrice</a></h3>
<p>Price getter for Redstone, extracting the price from &quot;hidden&quot; calldata.
Reverts for a number of reasons, notably:</p>
<ol>
<li>Invalid calldata</li>
<li>Not enough signers for the price data.</li>
<li>Wrong signers for the price data.</li>
<li>Stale price data.</li>
<li>Not enough data points</li>
</ol>
<pre><code class="language-solidity">function redstonePrice(bytes32 _ticker, address) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ticker</code></td><td><code>bytes32</code></td><td>The reference asset ticker in bytes32, eg. bytes32(&quot;ETH&quot;).</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Extracted price with enough unique signers.</td></tr>
</tbody></table>
</div>
<h3 id="getapi3price-1"><a class="header" href="#getapi3price-1">getAPI3Price</a></h3>
<p>Price getter for API3 type feeds.</p>
<p>Decimal precision is NOT the same as other sources.</p>
<p>Returns 0-price if answer is stale.This triggers the use of a secondary provider if available.</p>
<p><em>Valid call will revert if the answer is negative.</em></p>
<pre><code class="language-solidity">function getAPI3Price(address _feedAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>IProxy type feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Price answer from the feed, 0 if the price is stale.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ierc1155"><a class="header" href="#ierc1155">IERC1155</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/interfaces/IERC1155.sol">Git Source</a></p>
<h2 id="functions-12"><a class="header" href="#functions-12">Functions</a></h2>
<h3 id="balanceof"><a class="header" href="#balanceof">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address account, uint256 id) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="isafetycouncilfacet"><a class="header" href="#isafetycouncilfacet">ISafetyCouncilFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/interfaces/ISafetyCouncilFacet.sol">Git Source</a></p>
<h2 id="functions-13"><a class="header" href="#functions-13">Functions</a></h2>
<h3 id="toggleassetspaused-1"><a class="header" href="#toggleassetspaused-1">toggleAssetsPaused</a></h3>
<p>These functions are only callable by a multisig quorum.</p>
<p><em>Toggle paused-state of assets in a per-action basis</em></p>
<pre><code class="language-solidity">function toggleAssetsPaused(address[] memory _assets, Enums.Action _action, bool _withDuration, uint256 _duration)
    external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assets</code></td><td><code>address[]</code></td><td>list of addresses of krAssets and/or collateral assets</td></tr>
<tr><td><code>_action</code></td><td><code>Enums.Action</code></td><td>One of possible user actions: Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
<tr><td><code>_withDuration</code></td><td><code>bool</code></td><td>Set a duration for this pause - @todo: implement it if required</td></tr>
<tr><td><code>_duration</code></td><td><code>uint256</code></td><td>Duration for the pause if <code>_withDuration</code> is true</td></tr>
</tbody></table>
</div>
<h3 id="setsafetystateset-1"><a class="header" href="#setsafetystateset-1">setSafetyStateSet</a></h3>
<p>set the safetyStateSet flag</p>
<pre><code class="language-solidity">function setSafetyStateSet(bool val) external;
</code></pre>
<h3 id="safetystateset-1"><a class="header" href="#safetystateset-1">safetyStateSet</a></h3>
<p>For external checks if a safety state has been set for any asset</p>
<pre><code class="language-solidity">function safetyStateSet() external view returns (bool);
</code></pre>
<h3 id="safetystatefor-1"><a class="header" href="#safetystatefor-1">safetyStateFor</a></h3>
<p>View the state of safety measures for an asset on a per-action basis</p>
<pre><code class="language-solidity">function safetyStateFor(address _assetAddr, Enums.Action _action) external view returns (SafetyState memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>krAsset / collateral asset</td></tr>
<tr><td><code>_action</code></td><td><code>Enums.Action</code></td><td>One of possible user actions: Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
</tbody></table>
</div>
<h3 id="assetactionpaused-1"><a class="header" href="#assetactionpaused-1">assetActionPaused</a></h3>
<p>Check if <code>_assetAddr</code> has a pause enabled for <code>_action</code></p>
<pre><code class="language-solidity">function assetActionPaused(Enums.Action _action, address _assetAddr) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_action</code></td><td><code>Enums.Action</code></td><td>enum <code>Action</code> Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if <code>_action</code> is paused</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ignosissafel2"><a class="header" href="#ignosissafel2">IGnosisSafeL2</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Auth.sol">Git Source</a></p>
<h2 id="functions-14"><a class="header" href="#functions-14">Functions</a></h2>
<h3 id="isowner"><a class="header" href="#isowner">isOwner</a></h3>
<pre><code class="language-solidity">function isOwner(address owner) external view returns (bool);
</code></pre>
<h3 id="getowners"><a class="header" href="#getowners">getOwners</a></h3>
<pre><code class="language-solidity">function getOwners() external view returns (address[] memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="auth"><a class="header" href="#auth">Auth</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Auth.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<h2 id="functions-15"><a class="header" href="#functions-15">Functions</a></h2>
<h3 id="hasrole-2"><a class="header" href="#hasrole-2">hasRole</a></h3>
<pre><code class="language-solidity">function hasRole(bytes32 role, address account) internal view returns (bool);
</code></pre>
<h3 id="getrolemembercount-2"><a class="header" href="#getrolemembercount-2">getRoleMemberCount</a></h3>
<pre><code class="language-solidity">function getRoleMemberCount(bytes32 role) internal view returns (uint256);
</code></pre>
<h3 id="checkrole"><a class="header" href="#checkrole">checkRole</a></h3>
<p><em>Revert with a standard message if <code>msg.sender</code> is missing <code>role</code>.
Overriding this function changes the behavior of the {onlyRole} modifier.
Format of the revert message is described in {_checkRole}.
<em>Available since v4.6.</em></em></p>
<pre><code class="language-solidity">function checkRole(bytes32 role) internal view;
</code></pre>
<h3 id="_checkrole"><a class="header" href="#_checkrole">_checkRole</a></h3>
<p><em>Revert with a standard message if <code>account</code> is missing <code>role</code>.
The format of the revert reason is given by the following regular expression:
/^AccessControl: account (0x[0-9a-f]{40}) is missing role (0x[0-9a-f]{64})$/</em></p>
<pre><code class="language-solidity">function _checkRole(bytes32 role, address account) internal view;
</code></pre>
<h3 id="getroleadmin-2"><a class="header" href="#getroleadmin-2">getRoleAdmin</a></h3>
<p><em>Returns the admin role that controls <code>role</code>. See {grantRole} and
{revokeRole}.
To change a role's admin, use {_setRoleAdmin}.</em></p>
<pre><code class="language-solidity">function getRoleAdmin(bytes32 role) internal view returns (bytes32);
</code></pre>
<h3 id="getrolemember-2"><a class="header" href="#getrolemember-2">getRoleMember</a></h3>
<pre><code class="language-solidity">function getRoleMember(bytes32 role, uint256 index) internal view returns (address);
</code></pre>
<h3 id="setupsecuritycouncil"><a class="header" href="#setupsecuritycouncil">setupSecurityCouncil</a></h3>
<p>setups the security council</p>
<pre><code class="language-solidity">function setupSecurityCouncil(address _councilAddress) internal;
</code></pre>
<h3 id="transfersecuritycouncil"><a class="header" href="#transfersecuritycouncil">transferSecurityCouncil</a></h3>
<pre><code class="language-solidity">function transferSecurityCouncil(address _newCouncil) internal;
</code></pre>
<h3 id="grantrole-2"><a class="header" href="#grantrole-2">grantRole</a></h3>
<p>*Grants <code>role</code> to <code>account</code>.
If <code>account</code> had not been already granted <code>role</code>, emits a {RoleGranted}
event.
Requirements:</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.*</li>
</ul>
<pre><code class="language-solidity">function grantRole(bytes32 role, address account) internal;
</code></pre>
<h3 id="revokerole-2"><a class="header" href="#revokerole-2">revokeRole</a></h3>
<p>*Revokes <code>role</code> from <code>account</code>.
If <code>account</code> had been granted <code>role</code>, emits a {RoleRevoked} event.
Requirements:</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.*</li>
</ul>
<pre><code class="language-solidity">function revokeRole(bytes32 role, address account) internal;
</code></pre>
<h3 id="_renouncerole"><a class="header" href="#_renouncerole">_renounceRole</a></h3>
<p>*Revokes <code>role</code> from the calling account.
Roles are often managed via {grantRole} and {revokeRole}: this function's
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).
If the calling account had been revoked <code>role</code>, emits a {RoleRevoked}
event.
Requirements:</p>
<ul>
<li>the caller must be <code>account</code>.*</li>
</ul>
<pre><code class="language-solidity">function _renounceRole(bytes32 role, address account) internal;
</code></pre>
<h3 id="_setroleadmin"><a class="header" href="#_setroleadmin">_setRoleAdmin</a></h3>
<p><em>Sets <code>adminRole</code> as <code>role</code>'s admin role.
Emits a {RoleAdminChanged} event.</em></p>
<pre><code class="language-solidity">function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal;
</code></pre>
<h3 id="_grantrole"><a class="header" href="#_grantrole">_grantRole</a></h3>
<p>Cannot grant the role <code>SAFETY_COUNCIL</code> - must be done via explicit function.
Internal function without access restriction.</p>
<p><em>Grants <code>role</code> to <code>account</code>.</em></p>
<pre><code class="language-solidity">function _grantRole(bytes32 role, address account) internal ensureNotSafetyCouncil(role);
</code></pre>
<h3 id="_revokerole"><a class="header" href="#_revokerole">_revokeRole</a></h3>
<p><em>Revokes <code>role</code> from <code>account</code>.
Internal function without access restriction.</em></p>
<pre><code class="language-solidity">function _revokeRole(bytes32 role, address account) internal;
</code></pre>
<h3 id="ensurenotsafetycouncil"><a class="header" href="#ensurenotsafetycouncil">ensureNotSafetyCouncil</a></h3>
<p><em>Ensure we use the explicit <code>grantSafetyCouncilRole</code> function.</em></p>
<pre><code class="language-solidity">modifier ensureNotSafetyCouncil(bytes32 role);
</code></pre>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="roleadminchanged"><a class="header" href="#roleadminchanged">RoleAdminChanged</a></h3>
<p><em>Emitted when <code>newAdminRole</code> is set as <code>role</code>'s admin role, replacing <code>previousAdminRole</code>
<code>ADMIN_ROLE</code> is the starting admin for all roles, despite
{RoleAdminChanged} not being emitted signaling this.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">event RoleAdminChanged(bytes32 indexed role, bytes32 indexed previousAdminRole, bytes32 indexed newAdminRole);
</code></pre>
<h3 id="rolegranted"><a class="header" href="#rolegranted">RoleGranted</a></h3>
<p><em>Emitted when <code>account</code> is granted <code>role</code>.
<code>sender</code> is the account that originated the contract call, an admin role
bearer except when using {AccessControl-_setupRole}.</em></p>
<pre><code class="language-solidity">event RoleGranted(bytes32 indexed role, address indexed account, address indexed sender);
</code></pre>
<h3 id="rolerevoked"><a class="header" href="#rolerevoked">RoleRevoked</a></h3>
<p>*Emitted when <code>account</code> is revoked <code>role</code>.
<code>sender</code> is the account that originated the contract call:</p>
<ul>
<li>if using <code>revokeRole</code>, it is the admin role bearer</li>
<li>if using <code>renounceRole</code>, it is the role bearer (i.e. <code>account</code>)*</li>
</ul>
<pre><code class="language-solidity">event RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enums"><a class="header" href="#enums">Enums</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Constants.sol">Git Source</a></p>
<h2 id="enums-1"><a class="header" href="#enums-1">Enums</a></h2>
<h3 id="minterfee"><a class="header" href="#minterfee">MinterFee</a></h3>
<p><em>Minter fees for minting and burning.
Open = 0
Close = 1</em></p>
<pre><code class="language-solidity">enum MinterFee {
    Open,
    Close
}
</code></pre>
<h3 id="swapfee"><a class="header" href="#swapfee">SwapFee</a></h3>
<p>Swap fee types for shared collateral debt pool swaps.
Open = 0
Close = 1</p>
<pre><code class="language-solidity">enum SwapFee {
    In,
    Out
}
</code></pre>
<h3 id="oracletype"><a class="header" href="#oracletype">OracleType</a></h3>
<p>Configurable oracle types for assets.
Empty = 0
Redstone = 1,
Chainlink = 2,
API3 = 3,
Vault = 4</p>
<pre><code class="language-solidity">enum OracleType {
    Empty,
    Redstone,
    Chainlink,
    API3,
    Vault
}
</code></pre>
<h3 id="action"><a class="header" href="#action">Action</a></h3>
<p>Protocol core actions.
Deposit = 0
Withdraw = 1,
Repay = 2,
Borrow = 3,
Liquidate = 4
SCDPDeposit = 5,
SCDPSwap = 6,
SCDPWithdraw = 7,
SCDPRepay = 8,
SCDPLiquidation = 9</p>
<pre><code class="language-solidity">enum Action {
    Deposit,
    Withdraw,
    Repay,
    Borrow,
    Liquidation,
    SCDPDeposit,
    SCDPSwap,
    SCDPWithdraw,
    SCDPRepay,
    SCDPLiquidation
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="role"><a class="header" href="#role">Role</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Constants.sol">Git Source</a></p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="default_admin"><a class="header" href="#default_admin">DEFAULT_ADMIN</a></h3>
<p><em>Meta role for all roles.</em></p>
<pre><code class="language-solidity">bytes32 internal constant DEFAULT_ADMIN = 0x00;
</code></pre>
<h3 id="admin"><a class="header" href="#admin">ADMIN</a></h3>
<p><em>keccak256(&quot;kresko.roles.minter.admin&quot;)</em></p>
<pre><code class="language-solidity">bytes32 internal constant ADMIN = 0xb9dacdf02281f2e98ddbadaaf44db270b3d5a916342df47c59f77937a6bcd5d8;
</code></pre>
<h3 id="operator"><a class="header" href="#operator">OPERATOR</a></h3>
<p><em>keccak256(&quot;kresko.roles.minter.operator&quot;)</em></p>
<pre><code class="language-solidity">bytes32 internal constant OPERATOR = 0x112e48a576fb3a75acc75d9fcf6e0bc670b27b1dbcd2463502e10e68cf57d6fd;
</code></pre>
<h3 id="manager"><a class="header" href="#manager">MANAGER</a></h3>
<p><em>keccak256(&quot;kresko.roles.minter.manager&quot;)</em></p>
<pre><code class="language-solidity">bytes32 internal constant MANAGER = 0x46925e0f0cc76e485772167edccb8dc449d43b23b55fc4e756b063f49099e6a0;
</code></pre>
<h3 id="safety_council"><a class="header" href="#safety_council">SAFETY_COUNCIL</a></h3>
<p><em>keccak256(&quot;kresko.roles.minter.safety.council&quot;)</em></p>
<pre><code class="language-solidity">bytes32 internal constant SAFETY_COUNCIL = 0x9c387ecf1663f9144595993e2c602b45de94bf8ba3a110cb30e3652d79b581c0;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants"><a class="header" href="#constants">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Constants.sol">Git Source</a></p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="not_entered"><a class="header" href="#not_entered">NOT_ENTERED</a></h3>
<p><em>Set the initial value to 1, (not hindering possible gas refunds by setting it to 0 on exit).</em></p>
<pre><code class="language-solidity">uint8 internal constant NOT_ENTERED = 1;
</code></pre>
<h3 id="entered"><a class="header" href="#entered">ENTERED</a></h3>
<pre><code class="language-solidity">uint8 internal constant ENTERED = 2;
</code></pre>
<h3 id="not_initializing"><a class="header" href="#not_initializing">NOT_INITIALIZING</a></h3>
<pre><code class="language-solidity">uint8 internal constant NOT_INITIALIZING = 1;
</code></pre>
<h3 id="initializing"><a class="header" href="#initializing">INITIALIZING</a></h3>
<pre><code class="language-solidity">uint8 internal constant INITIALIZING = 2;
</code></pre>
<h3 id="zero_bytes32"><a class="header" href="#zero_bytes32">ZERO_BYTES32</a></h3>
<pre><code class="language-solidity">bytes32 internal constant ZERO_BYTES32 = bytes32(&quot;&quot;);
</code></pre>
<h3 id="min_oracle_decimals"><a class="header" href="#min_oracle_decimals">MIN_ORACLE_DECIMALS</a></h3>
<p><em>The min oracle decimal precision</em></p>
<pre><code class="language-solidity">uint256 internal constant MIN_ORACLE_DECIMALS = 8;
</code></pre>
<h3 id="min_krasset_collateral_amount"><a class="header" href="#min_krasset_collateral_amount">MIN_KRASSET_COLLATERAL_AMOUNT</a></h3>
<p><em>The minimum collateral amount for a kresko asset.</em></p>
<pre><code class="language-solidity">uint256 internal constant MIN_KRASSET_COLLATERAL_AMOUNT = 1e12;
</code></pre>
<h3 id="max_min_debt_value"><a class="header" href="#max_min_debt_value">MAX_MIN_DEBT_VALUE</a></h3>
<p><em>The maximum configurable minimum debt USD value. 8 decimals.</em></p>
<pre><code class="language-solidity">uint256 internal constant MAX_MIN_DEBT_VALUE = 1_000 * 1e8;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="percents"><a class="header" href="#percents">Percents</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Constants.sol">Git Source</a></p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="one"><a class="header" href="#one">ONE</a></h3>
<pre><code class="language-solidity">uint16 internal constant ONE = 0.01e4;
</code></pre>
<h3 id="hundred"><a class="header" href="#hundred">HUNDRED</a></h3>
<pre><code class="language-solidity">uint16 internal constant HUNDRED = 1e4;
</code></pre>
<h3 id="twenty_five"><a class="header" href="#twenty_five">TWENTY_FIVE</a></h3>
<pre><code class="language-solidity">uint16 internal constant TWENTY_FIVE = 0.25e4;
</code></pre>
<h3 id="fifty"><a class="header" href="#fifty">FIFTY</a></h3>
<pre><code class="language-solidity">uint16 internal constant FIFTY = 0.5e4;
</code></pre>
<h3 id="max_deviation"><a class="header" href="#max_deviation">MAX_DEVIATION</a></h3>
<pre><code class="language-solidity">uint16 internal constant MAX_DEVIATION = TWENTY_FIVE;
</code></pre>
<h3 id="basis_point"><a class="header" href="#basis_point">BASIS_POINT</a></h3>
<pre><code class="language-solidity">uint16 internal constant BASIS_POINT = 1;
</code></pre>
<h3 id="max_close_fee"><a class="header" href="#max_close_fee">MAX_CLOSE_FEE</a></h3>
<p><em>The maximum configurable close fee.</em></p>
<pre><code class="language-solidity">uint16 internal constant MAX_CLOSE_FEE = 0.25e4;
</code></pre>
<h3 id="max_open_fee"><a class="header" href="#max_open_fee">MAX_OPEN_FEE</a></h3>
<p><em>The maximum configurable open fee.</em></p>
<pre><code class="language-solidity">uint16 internal constant MAX_OPEN_FEE = 0.25e4;
</code></pre>
<h3 id="max_scdp_fee"><a class="header" href="#max_scdp_fee">MAX_SCDP_FEE</a></h3>
<p><em>The maximum configurable protocol fee per asset for collateral pool swaps.</em></p>
<pre><code class="language-solidity">uint16 internal constant MAX_SCDP_FEE = 0.5e4;
</code></pre>
<h3 id="min_lt"><a class="header" href="#min_lt">MIN_LT</a></h3>
<p><em>The minimum configurable minimum collateralization ratio.</em></p>
<pre><code class="language-solidity">uint16 internal constant MIN_LT = HUNDRED + ONE;
</code></pre>
<h3 id="min_mcr"><a class="header" href="#min_mcr">MIN_MCR</a></h3>
<pre><code class="language-solidity">uint16 internal constant MIN_MCR = HUNDRED + ONE + ONE;
</code></pre>
<h3 id="min_liq_incentive"><a class="header" href="#min_liq_incentive">MIN_LIQ_INCENTIVE</a></h3>
<p><em>The minimum configurable liquidation incentive multiplier.
This means liquidator only receives equal amount of collateral to debt repaid.</em></p>
<pre><code class="language-solidity">uint16 internal constant MIN_LIQ_INCENTIVE = HUNDRED;
</code></pre>
<h3 id="max_liq_incentive"><a class="header" href="#max_liq_incentive">MAX_LIQ_INCENTIVE</a></h3>
<p><em>The maximum configurable liquidation incentive multiplier.
This means liquidator receives 25% bonus collateral compared to the debt repaid.</em></p>
<pre><code class="language-solidity">uint16 internal constant MAX_LIQ_INCENTIVE = 1.25e4;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierrorfieldprovider"><a class="header" href="#ierrorfieldprovider">IErrorFieldProvider</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Errors.sol">Git Source</a></p>
<h2 id="functions-16"><a class="header" href="#functions-16">Functions</a></h2>
<h3 id="symbol"><a class="header" href="#symbol">symbol</a></h3>
<pre><code class="language-solidity">function symbol() external view returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="errors"><a class="header" href="#errors">Errors</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Errors.sol">Git Source</a></p>
<h2 id="functions-17"><a class="header" href="#functions-17">Functions</a></h2>
<h3 id="id"><a class="header" href="#id">id</a></h3>
<pre><code class="language-solidity">function id(address _addr) internal view returns (ID memory);
</code></pre>
<h3 id="symbol-1"><a class="header" href="#symbol-1">symbol</a></h3>
<pre><code class="language-solidity">function symbol(address _addr) internal view returns (string memory symbol_);
</code></pre>
<h2 id="errors-1"><a class="header" href="#errors-1">Errors</a></h2>
<h3 id="address_has_no_code"><a class="header" href="#address_has_no_code">ADDRESS_HAS_NO_CODE</a></h3>
<pre><code class="language-solidity">error ADDRESS_HAS_NO_CODE(address);
</code></pre>
<h3 id="not_initializing-1"><a class="header" href="#not_initializing-1">NOT_INITIALIZING</a></h3>
<pre><code class="language-solidity">error NOT_INITIALIZING();
</code></pre>
<h3 id="common_already_initialized"><a class="header" href="#common_already_initialized">COMMON_ALREADY_INITIALIZED</a></h3>
<pre><code class="language-solidity">error COMMON_ALREADY_INITIALIZED();
</code></pre>
<h3 id="minter_already_initialized"><a class="header" href="#minter_already_initialized">MINTER_ALREADY_INITIALIZED</a></h3>
<pre><code class="language-solidity">error MINTER_ALREADY_INITIALIZED();
</code></pre>
<h3 id="scdp_already_initialized"><a class="header" href="#scdp_already_initialized">SCDP_ALREADY_INITIALIZED</a></h3>
<pre><code class="language-solidity">error SCDP_ALREADY_INITIALIZED();
</code></pre>
<h3 id="string_hex_length_insufficient"><a class="header" href="#string_hex_length_insufficient">STRING_HEX_LENGTH_INSUFFICIENT</a></h3>
<pre><code class="language-solidity">error STRING_HEX_LENGTH_INSUFFICIENT();
</code></pre>
<h3 id="safety_council_not_allowed"><a class="header" href="#safety_council_not_allowed">SAFETY_COUNCIL_NOT_ALLOWED</a></h3>
<pre><code class="language-solidity">error SAFETY_COUNCIL_NOT_ALLOWED();
</code></pre>
<h3 id="safety_council_setter_is_not_its_owner"><a class="header" href="#safety_council_setter_is_not_its_owner">SAFETY_COUNCIL_SETTER_IS_NOT_ITS_OWNER</a></h3>
<pre><code class="language-solidity">error SAFETY_COUNCIL_SETTER_IS_NOT_ITS_OWNER(address);
</code></pre>
<h3 id="safety_council_already_exists"><a class="header" href="#safety_council_already_exists">SAFETY_COUNCIL_ALREADY_EXISTS</a></h3>
<pre><code class="language-solidity">error SAFETY_COUNCIL_ALREADY_EXISTS(address given, address existing);
</code></pre>
<h3 id="multisig_not_enough_owners"><a class="header" href="#multisig_not_enough_owners">MULTISIG_NOT_ENOUGH_OWNERS</a></h3>
<pre><code class="language-solidity">error MULTISIG_NOT_ENOUGH_OWNERS(address, uint256 owners, uint256 required);
</code></pre>
<h3 id="access_control_not_self"><a class="header" href="#access_control_not_self">ACCESS_CONTROL_NOT_SELF</a></h3>
<pre><code class="language-solidity">error ACCESS_CONTROL_NOT_SELF(address who, address self);
</code></pre>
<h3 id="market_closed"><a class="header" href="#market_closed">MARKET_CLOSED</a></h3>
<pre><code class="language-solidity">error MARKET_CLOSED(ID, string);
</code></pre>
<h3 id="scdp_asset_economy"><a class="header" href="#scdp_asset_economy">SCDP_ASSET_ECONOMY</a></h3>
<pre><code class="language-solidity">error SCDP_ASSET_ECONOMY(ID, uint256 seizeReductionPct, ID, uint256 repayIncreasePct);
</code></pre>
<h3 id="minter_asset_economy"><a class="header" href="#minter_asset_economy">MINTER_ASSET_ECONOMY</a></h3>
<pre><code class="language-solidity">error MINTER_ASSET_ECONOMY(ID, uint256 seizeReductionPct, ID, uint256 repayIncreasePct);
</code></pre>
<h3 id="invalid_ticker"><a class="header" href="#invalid_ticker">INVALID_TICKER</a></h3>
<pre><code class="language-solidity">error INVALID_TICKER(ID, string ticker);
</code></pre>
<h3 id="asset_not_enabled"><a class="header" href="#asset_not_enabled">ASSET_NOT_ENABLED</a></h3>
<pre><code class="language-solidity">error ASSET_NOT_ENABLED(ID);
</code></pre>
<h3 id="asset_cannot_be_used_to_cover"><a class="header" href="#asset_cannot_be_used_to_cover">ASSET_CANNOT_BE_USED_TO_COVER</a></h3>
<pre><code class="language-solidity">error ASSET_CANNOT_BE_USED_TO_COVER(ID);
</code></pre>
<h3 id="asset_paused_for_this_action"><a class="header" href="#asset_paused_for_this_action">ASSET_PAUSED_FOR_THIS_ACTION</a></h3>
<pre><code class="language-solidity">error ASSET_PAUSED_FOR_THIS_ACTION(ID, uint8 action);
</code></pre>
<h3 id="asset_not_minter_collateral"><a class="header" href="#asset_not_minter_collateral">ASSET_NOT_MINTER_COLLATERAL</a></h3>
<pre><code class="language-solidity">error ASSET_NOT_MINTER_COLLATERAL(ID);
</code></pre>
<h3 id="asset_not_mintable_from_minter"><a class="header" href="#asset_not_mintable_from_minter">ASSET_NOT_MINTABLE_FROM_MINTER</a></h3>
<pre><code class="language-solidity">error ASSET_NOT_MINTABLE_FROM_MINTER(ID);
</code></pre>
<h3 id="asset_not_swappable"><a class="header" href="#asset_not_swappable">ASSET_NOT_SWAPPABLE</a></h3>
<pre><code class="language-solidity">error ASSET_NOT_SWAPPABLE(ID);
</code></pre>
<h3 id="asset_does_not_have_deposits"><a class="header" href="#asset_does_not_have_deposits">ASSET_DOES_NOT_HAVE_DEPOSITS</a></h3>
<pre><code class="language-solidity">error ASSET_DOES_NOT_HAVE_DEPOSITS(ID);
</code></pre>
<h3 id="asset_not_depositable"><a class="header" href="#asset_not_depositable">ASSET_NOT_DEPOSITABLE</a></h3>
<pre><code class="language-solidity">error ASSET_NOT_DEPOSITABLE(ID);
</code></pre>
<h3 id="asset_already_enabled"><a class="header" href="#asset_already_enabled">ASSET_ALREADY_ENABLED</a></h3>
<pre><code class="language-solidity">error ASSET_ALREADY_ENABLED(ID);
</code></pre>
<h3 id="asset_already_disabled"><a class="header" href="#asset_already_disabled">ASSET_ALREADY_DISABLED</a></h3>
<pre><code class="language-solidity">error ASSET_ALREADY_DISABLED(ID);
</code></pre>
<h3 id="asset_does_not_exist"><a class="header" href="#asset_does_not_exist">ASSET_DOES_NOT_EXIST</a></h3>
<pre><code class="language-solidity">error ASSET_DOES_NOT_EXIST(ID);
</code></pre>
<h3 id="asset_already_exists"><a class="header" href="#asset_already_exists">ASSET_ALREADY_EXISTS</a></h3>
<pre><code class="language-solidity">error ASSET_ALREADY_EXISTS(ID);
</code></pre>
<h3 id="asset_is_void"><a class="header" href="#asset_is_void">ASSET_IS_VOID</a></h3>
<pre><code class="language-solidity">error ASSET_IS_VOID(ID);
</code></pre>
<h3 id="invalid_asset"><a class="header" href="#invalid_asset">INVALID_ASSET</a></h3>
<pre><code class="language-solidity">error INVALID_ASSET(ID);
</code></pre>
<h3 id="cannot_remove_collateral_that_has_user_deposits"><a class="header" href="#cannot_remove_collateral_that_has_user_deposits">CANNOT_REMOVE_COLLATERAL_THAT_HAS_USER_DEPOSITS</a></h3>
<pre><code class="language-solidity">error CANNOT_REMOVE_COLLATERAL_THAT_HAS_USER_DEPOSITS(ID);
</code></pre>
<h3 id="cannot_remove_swappable_asset_that_has_debt"><a class="header" href="#cannot_remove_swappable_asset_that_has_debt">CANNOT_REMOVE_SWAPPABLE_ASSET_THAT_HAS_DEBT</a></h3>
<pre><code class="language-solidity">error CANNOT_REMOVE_SWAPPABLE_ASSET_THAT_HAS_DEBT(ID);
</code></pre>
<h3 id="invalid_contract_krasset"><a class="header" href="#invalid_contract_krasset">INVALID_CONTRACT_KRASSET</a></h3>
<pre><code class="language-solidity">error INVALID_CONTRACT_KRASSET(ID krAsset);
</code></pre>
<h3 id="invalid_contract_krasset_anchor"><a class="header" href="#invalid_contract_krasset_anchor">INVALID_CONTRACT_KRASSET_ANCHOR</a></h3>
<pre><code class="language-solidity">error INVALID_CONTRACT_KRASSET_ANCHOR(ID anchor, ID krAsset);
</code></pre>
<h3 id="not_swappable_krasset"><a class="header" href="#not_swappable_krasset">NOT_SWAPPABLE_KRASSET</a></h3>
<pre><code class="language-solidity">error NOT_SWAPPABLE_KRASSET(ID);
</code></pre>
<h3 id="identical_assets"><a class="header" href="#identical_assets">IDENTICAL_ASSETS</a></h3>
<pre><code class="language-solidity">error IDENTICAL_ASSETS(ID);
</code></pre>
<h3 id="withdraw_not_supported"><a class="header" href="#withdraw_not_supported">WITHDRAW_NOT_SUPPORTED</a></h3>
<pre><code class="language-solidity">error WITHDRAW_NOT_SUPPORTED();
</code></pre>
<h3 id="deposit_not_supported"><a class="header" href="#deposit_not_supported">DEPOSIT_NOT_SUPPORTED</a></h3>
<pre><code class="language-solidity">error DEPOSIT_NOT_SUPPORTED();
</code></pre>
<h3 id="redeem_not_supported"><a class="header" href="#redeem_not_supported">REDEEM_NOT_SUPPORTED</a></h3>
<pre><code class="language-solidity">error REDEEM_NOT_SUPPORTED();
</code></pre>
<h3 id="native_token_disabled"><a class="header" href="#native_token_disabled">NATIVE_TOKEN_DISABLED</a></h3>
<pre><code class="language-solidity">error NATIVE_TOKEN_DISABLED(ID);
</code></pre>
<h3 id="exceeds_asset_deposit_limit"><a class="header" href="#exceeds_asset_deposit_limit">EXCEEDS_ASSET_DEPOSIT_LIMIT</a></h3>
<pre><code class="language-solidity">error EXCEEDS_ASSET_DEPOSIT_LIMIT(ID, uint256 deposits, uint256 limit);
</code></pre>
<h3 id="exceeds_asset_minting_limit"><a class="header" href="#exceeds_asset_minting_limit">EXCEEDS_ASSET_MINTING_LIMIT</a></h3>
<pre><code class="language-solidity">error EXCEEDS_ASSET_MINTING_LIMIT(ID, uint256 deposits, uint256 limit);
</code></pre>
<h3 id="uint128_overflow"><a class="header" href="#uint128_overflow">UINT128_OVERFLOW</a></h3>
<pre><code class="language-solidity">error UINT128_OVERFLOW(ID, uint256 deposits, uint256 limit);
</code></pre>
<h3 id="invalid_sender"><a class="header" href="#invalid_sender">INVALID_SENDER</a></h3>
<pre><code class="language-solidity">error INVALID_SENDER(address, address);
</code></pre>
<h3 id="invalid_min_debt"><a class="header" href="#invalid_min_debt">INVALID_MIN_DEBT</a></h3>
<pre><code class="language-solidity">error INVALID_MIN_DEBT(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_scdp_fee"><a class="header" href="#invalid_scdp_fee">INVALID_SCDP_FEE</a></h3>
<pre><code class="language-solidity">error INVALID_SCDP_FEE(ID, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_mcr"><a class="header" href="#invalid_mcr">INVALID_MCR</a></h3>
<pre><code class="language-solidity">error INVALID_MCR(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="mlr_cannot_be_less_than_liq_threshold"><a class="header" href="#mlr_cannot_be_less_than_liq_threshold">MLR_CANNOT_BE_LESS_THAN_LIQ_THRESHOLD</a></h3>
<pre><code class="language-solidity">error MLR_CANNOT_BE_LESS_THAN_LIQ_THRESHOLD(uint256 mlt, uint256 lt);
</code></pre>
<h3 id="invalid_liq_threshold"><a class="header" href="#invalid_liq_threshold">INVALID_LIQ_THRESHOLD</a></h3>
<pre><code class="language-solidity">error INVALID_LIQ_THRESHOLD(uint256 lt, uint256 min, uint256 max);
</code></pre>
<h3 id="invalid_protocol_fee"><a class="header" href="#invalid_protocol_fee">INVALID_PROTOCOL_FEE</a></h3>
<pre><code class="language-solidity">error INVALID_PROTOCOL_FEE(ID, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_asset_fee"><a class="header" href="#invalid_asset_fee">INVALID_ASSET_FEE</a></h3>
<pre><code class="language-solidity">error INVALID_ASSET_FEE(ID, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_oracle_deviation"><a class="header" href="#invalid_oracle_deviation">INVALID_ORACLE_DEVIATION</a></h3>
<pre><code class="language-solidity">error INVALID_ORACLE_DEVIATION(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_oracle_type"><a class="header" href="#invalid_oracle_type">INVALID_ORACLE_TYPE</a></h3>
<pre><code class="language-solidity">error INVALID_ORACLE_TYPE(uint8 invalid);
</code></pre>
<h3 id="invalid_fee_recipient"><a class="header" href="#invalid_fee_recipient">INVALID_FEE_RECIPIENT</a></h3>
<pre><code class="language-solidity">error INVALID_FEE_RECIPIENT(address invalid);
</code></pre>
<h3 id="invalid_liq_incentive"><a class="header" href="#invalid_liq_incentive">INVALID_LIQ_INCENTIVE</a></h3>
<pre><code class="language-solidity">error INVALID_LIQ_INCENTIVE(ID, uint256 invalid, uint256 min, uint256 max);
</code></pre>
<h3 id="invalid_kfactor"><a class="header" href="#invalid_kfactor">INVALID_KFACTOR</a></h3>
<pre><code class="language-solidity">error INVALID_KFACTOR(ID, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_cfactor"><a class="header" href="#invalid_cfactor">INVALID_CFACTOR</a></h3>
<pre><code class="language-solidity">error INVALID_CFACTOR(ID, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_minter_fee"><a class="header" href="#invalid_minter_fee">INVALID_MINTER_FEE</a></h3>
<pre><code class="language-solidity">error INVALID_MINTER_FEE(ID, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_price_precision"><a class="header" href="#invalid_price_precision">INVALID_PRICE_PRECISION</a></h3>
<pre><code class="language-solidity">error INVALID_PRICE_PRECISION(uint256 decimals, uint256 valid);
</code></pre>
<h3 id="invalid_decimals"><a class="header" href="#invalid_decimals">INVALID_DECIMALS</a></h3>
<pre><code class="language-solidity">error INVALID_DECIMALS(ID, uint256 decimals);
</code></pre>
<h3 id="invalid_fee"><a class="header" href="#invalid_fee">INVALID_FEE</a></h3>
<pre><code class="language-solidity">error INVALID_FEE(ID, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_fee_type"><a class="header" href="#invalid_fee_type">INVALID_FEE_TYPE</a></h3>
<pre><code class="language-solidity">error INVALID_FEE_TYPE(uint8 invalid, uint8 valid);
</code></pre>
<h3 id="invalid_vault_price"><a class="header" href="#invalid_vault_price">INVALID_VAULT_PRICE</a></h3>
<pre><code class="language-solidity">error INVALID_VAULT_PRICE(string ticker, address);
</code></pre>
<h3 id="invalid_api3_price"><a class="header" href="#invalid_api3_price">INVALID_API3_PRICE</a></h3>
<pre><code class="language-solidity">error INVALID_API3_PRICE(string ticker, address);
</code></pre>
<h3 id="invalid_cl_price"><a class="header" href="#invalid_cl_price">INVALID_CL_PRICE</a></h3>
<pre><code class="language-solidity">error INVALID_CL_PRICE(string ticker, address);
</code></pre>
<h3 id="invalid_price"><a class="header" href="#invalid_price">INVALID_PRICE</a></h3>
<pre><code class="language-solidity">error INVALID_PRICE(ID, address oracle, int256 price);
</code></pre>
<h3 id="invalid_krasset_operator"><a class="header" href="#invalid_krasset_operator">INVALID_KRASSET_OPERATOR</a></h3>
<pre><code class="language-solidity">error INVALID_KRASSET_OPERATOR(ID, address invalidOperator, address validOperator);
</code></pre>
<h3 id="invalid_denominator"><a class="header" href="#invalid_denominator">INVALID_DENOMINATOR</a></h3>
<pre><code class="language-solidity">error INVALID_DENOMINATOR(ID, uint256 denominator, uint256 valid);
</code></pre>
<h3 id="invalid_operator"><a class="header" href="#invalid_operator">INVALID_OPERATOR</a></h3>
<pre><code class="language-solidity">error INVALID_OPERATOR(ID, address who, address valid);
</code></pre>
<h3 id="invalid_supply_limit"><a class="header" href="#invalid_supply_limit">INVALID_SUPPLY_LIMIT</a></h3>
<pre><code class="language-solidity">error INVALID_SUPPLY_LIMIT(ID, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="negative_price"><a class="header" href="#negative_price">NEGATIVE_PRICE</a></h3>
<pre><code class="language-solidity">error NEGATIVE_PRICE(address asset, int256 price);
</code></pre>
<h3 id="stale_price"><a class="header" href="#stale_price">STALE_PRICE</a></h3>
<pre><code class="language-solidity">error STALE_PRICE(string ticker, uint256 price, uint256 timeFromUpdate, uint256 threshold);
</code></pre>
<h3 id="raw_price_stale"><a class="header" href="#raw_price_stale">RAW_PRICE_STALE</a></h3>
<pre><code class="language-solidity">error RAW_PRICE_STALE(
    ID asset, string ticker, int256 price, uint8 oracleType, address feed, uint256 timeFromUpdate, uint256 threshold
);
</code></pre>
<h3 id="price_unstable"><a class="header" href="#price_unstable">PRICE_UNSTABLE</a></h3>
<pre><code class="language-solidity">error PRICE_UNSTABLE(uint256 primaryPrice, uint256 referencePrice, uint256 deviationPct);
</code></pre>
<h3 id="zero_or_stale_vault_price"><a class="header" href="#zero_or_stale_vault_price">ZERO_OR_STALE_VAULT_PRICE</a></h3>
<pre><code class="language-solidity">error ZERO_OR_STALE_VAULT_PRICE(ID, address, uint256);
</code></pre>
<h3 id="zero_or_stale_price"><a class="header" href="#zero_or_stale_price">ZERO_OR_STALE_PRICE</a></h3>
<pre><code class="language-solidity">error ZERO_OR_STALE_PRICE(string ticker, uint8[2] oracles);
</code></pre>
<h3 id="raw_price_lte_zero"><a class="header" href="#raw_price_lte_zero">RAW_PRICE_LTE_ZERO</a></h3>
<pre><code class="language-solidity">error RAW_PRICE_LTE_ZERO(ID asset, string ticker, int256 price, uint8 oracleType, address feed);
</code></pre>
<h3 id="no_push_oracle_set"><a class="header" href="#no_push_oracle_set">NO_PUSH_ORACLE_SET</a></h3>
<pre><code class="language-solidity">error NO_PUSH_ORACLE_SET(string ticker);
</code></pre>
<h3 id="not_supported_yet"><a class="header" href="#not_supported_yet">NOT_SUPPORTED_YET</a></h3>
<pre><code class="language-solidity">error NOT_SUPPORTED_YET();
</code></pre>
<h3 id="wrap_not_supported"><a class="header" href="#wrap_not_supported">WRAP_NOT_SUPPORTED</a></h3>
<pre><code class="language-solidity">error WRAP_NOT_SUPPORTED();
</code></pre>
<h3 id="burn_amount_overflow"><a class="header" href="#burn_amount_overflow">BURN_AMOUNT_OVERFLOW</a></h3>
<pre><code class="language-solidity">error BURN_AMOUNT_OVERFLOW(ID, uint256 burnAmount, uint256 debtAmount);
</code></pre>
<h3 id="paused"><a class="header" href="#paused">PAUSED</a></h3>
<pre><code class="language-solidity">error PAUSED(address who);
</code></pre>
<h3 id="l2_sequencer_down"><a class="header" href="#l2_sequencer_down">L2_SEQUENCER_DOWN</a></h3>
<pre><code class="language-solidity">error L2_SEQUENCER_DOWN();
</code></pre>
<h3 id="feed_zero_address"><a class="header" href="#feed_zero_address">FEED_ZERO_ADDRESS</a></h3>
<pre><code class="language-solidity">error FEED_ZERO_ADDRESS(string ticker);
</code></pre>
<h3 id="invalid_sequencer_uptime_feed"><a class="header" href="#invalid_sequencer_uptime_feed">INVALID_SEQUENCER_UPTIME_FEED</a></h3>
<pre><code class="language-solidity">error INVALID_SEQUENCER_UPTIME_FEED(address);
</code></pre>
<h3 id="no_minted_assets"><a class="header" href="#no_minted_assets">NO_MINTED_ASSETS</a></h3>
<pre><code class="language-solidity">error NO_MINTED_ASSETS(address who);
</code></pre>
<h3 id="no_collaterals_deposited"><a class="header" href="#no_collaterals_deposited">NO_COLLATERALS_DEPOSITED</a></h3>
<pre><code class="language-solidity">error NO_COLLATERALS_DEPOSITED(address who);
</code></pre>
<h3 id="missing_phase_3_nft"><a class="header" href="#missing_phase_3_nft">MISSING_PHASE_3_NFT</a></h3>
<pre><code class="language-solidity">error MISSING_PHASE_3_NFT();
</code></pre>
<h3 id="missing_phase_2_nft"><a class="header" href="#missing_phase_2_nft">MISSING_PHASE_2_NFT</a></h3>
<pre><code class="language-solidity">error MISSING_PHASE_2_NFT();
</code></pre>
<h3 id="missing_phase_1_nft"><a class="header" href="#missing_phase_1_nft">MISSING_PHASE_1_NFT</a></h3>
<pre><code class="language-solidity">error MISSING_PHASE_1_NFT();
</code></pre>
<h3 id="cannot_re_enter"><a class="header" href="#cannot_re_enter">CANNOT_RE_ENTER</a></h3>
<pre><code class="language-solidity">error CANNOT_RE_ENTER();
</code></pre>
<h3 id="array_length_mismatch"><a class="header" href="#array_length_mismatch">ARRAY_LENGTH_MISMATCH</a></h3>
<pre><code class="language-solidity">error ARRAY_LENGTH_MISMATCH(string ticker, uint256 arr1, uint256 arr2);
</code></pre>
<h3 id="collateral_value_greater_than_required"><a class="header" href="#collateral_value_greater_than_required">COLLATERAL_VALUE_GREATER_THAN_REQUIRED</a></h3>
<pre><code class="language-solidity">error COLLATERAL_VALUE_GREATER_THAN_REQUIRED(uint256 collateralValue, uint256 minCollateralValue, uint32 ratio);
</code></pre>
<h3 id="account_collateral_value_less_than_required"><a class="header" href="#account_collateral_value_less_than_required">ACCOUNT_COLLATERAL_VALUE_LESS_THAN_REQUIRED</a></h3>
<pre><code class="language-solidity">error ACCOUNT_COLLATERAL_VALUE_LESS_THAN_REQUIRED(
    address who, uint256 collateralValue, uint256 minCollateralValue, uint32 ratio
);
</code></pre>
<h3 id="collateral_value_less_than_required"><a class="header" href="#collateral_value_less_than_required">COLLATERAL_VALUE_LESS_THAN_REQUIRED</a></h3>
<pre><code class="language-solidity">error COLLATERAL_VALUE_LESS_THAN_REQUIRED(uint256 collateralValue, uint256 minCollateralValue, uint32 ratio);
</code></pre>
<h3 id="cannot_liquidate_healthy_account"><a class="header" href="#cannot_liquidate_healthy_account">CANNOT_LIQUIDATE_HEALTHY_ACCOUNT</a></h3>
<pre><code class="language-solidity">error CANNOT_LIQUIDATE_HEALTHY_ACCOUNT(address who, uint256 collateralValue, uint256 minCollateralValue, uint32 ratio);
</code></pre>
<h3 id="cannot_liquidate_self"><a class="header" href="#cannot_liquidate_self">CANNOT_LIQUIDATE_SELF</a></h3>
<pre><code class="language-solidity">error CANNOT_LIQUIDATE_SELF();
</code></pre>
<h3 id="liquidation_amount_greater_than_debt"><a class="header" href="#liquidation_amount_greater_than_debt">LIQUIDATION_AMOUNT_GREATER_THAN_DEBT</a></h3>
<pre><code class="language-solidity">error LIQUIDATION_AMOUNT_GREATER_THAN_DEBT(ID repayAsset, uint256 repayAmount, uint256 availableAmount);
</code></pre>
<h3 id="liquidation_seized_less_than_expected"><a class="header" href="#liquidation_seized_less_than_expected">LIQUIDATION_SEIZED_LESS_THAN_EXPECTED</a></h3>
<pre><code class="language-solidity">error LIQUIDATION_SEIZED_LESS_THAN_EXPECTED(ID, uint256, uint256);
</code></pre>
<h3 id="liquidation_value_is_zero"><a class="header" href="#liquidation_value_is_zero">LIQUIDATION_VALUE_IS_ZERO</a></h3>
<pre><code class="language-solidity">error LIQUIDATION_VALUE_IS_ZERO(ID repayAsset, ID seizeAsset);
</code></pre>
<h3 id="nothing_to_withdraw"><a class="header" href="#nothing_to_withdraw">NOTHING_TO_WITHDRAW</a></h3>
<pre><code class="language-solidity">error NOTHING_TO_WITHDRAW(address who, ID, uint256 requested, uint256 principal, uint256 scaled);
</code></pre>
<h3 id="account_krasset_not_found"><a class="header" href="#account_krasset_not_found">ACCOUNT_KRASSET_NOT_FOUND</a></h3>
<pre><code class="language-solidity">error ACCOUNT_KRASSET_NOT_FOUND(address account, ID, address[] accountCollaterals);
</code></pre>
<h3 id="account_collateral_not_found"><a class="header" href="#account_collateral_not_found">ACCOUNT_COLLATERAL_NOT_FOUND</a></h3>
<pre><code class="language-solidity">error ACCOUNT_COLLATERAL_NOT_FOUND(address account, ID, address[] accountCollaterals);
</code></pre>
<h3 id="element_does_not_match_provided_index"><a class="header" href="#element_does_not_match_provided_index">ELEMENT_DOES_NOT_MATCH_PROVIDED_INDEX</a></h3>
<pre><code class="language-solidity">error ELEMENT_DOES_NOT_MATCH_PROVIDED_INDEX(ID element, uint256 index, address[] elements);
</code></pre>
<h3 id="repay_overflow"><a class="header" href="#repay_overflow">REPAY_OVERFLOW</a></h3>
<pre><code class="language-solidity">error REPAY_OVERFLOW(ID repayAsset, ID seizeAsset, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="income_amount_is_zero"><a class="header" href="#income_amount_is_zero">INCOME_AMOUNT_IS_ZERO</a></h3>
<pre><code class="language-solidity">error INCOME_AMOUNT_IS_ZERO(ID incomeAsset);
</code></pre>
<h3 id="no_liquidity_to_give_income_for"><a class="header" href="#no_liquidity_to_give_income_for">NO_LIQUIDITY_TO_GIVE_INCOME_FOR</a></h3>
<pre><code class="language-solidity">error NO_LIQUIDITY_TO_GIVE_INCOME_FOR(ID incomeAsset, uint256 userDeposits, uint256 totalDeposits);
</code></pre>
<h3 id="not_enough_swap_deposits_to_seize"><a class="header" href="#not_enough_swap_deposits_to_seize">NOT_ENOUGH_SWAP_DEPOSITS_TO_SEIZE</a></h3>
<pre><code class="language-solidity">error NOT_ENOUGH_SWAP_DEPOSITS_TO_SEIZE(ID repayAsset, ID seizeAsset, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="swap_route_not_enabled"><a class="header" href="#swap_route_not_enabled">SWAP_ROUTE_NOT_ENABLED</a></h3>
<pre><code class="language-solidity">error SWAP_ROUTE_NOT_ENABLED(ID assetIn, ID assetOut);
</code></pre>
<h3 id="received_less_than_desired"><a class="header" href="#received_less_than_desired">RECEIVED_LESS_THAN_DESIRED</a></h3>
<pre><code class="language-solidity">error RECEIVED_LESS_THAN_DESIRED(ID, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="swap_zero_amount_in"><a class="header" href="#swap_zero_amount_in">SWAP_ZERO_AMOUNT_IN</a></h3>
<pre><code class="language-solidity">error SWAP_ZERO_AMOUNT_IN(ID tokenIn);
</code></pre>
<h3 id="invalid_withdraw"><a class="header" href="#invalid_withdraw">INVALID_WITHDRAW</a></h3>
<pre><code class="language-solidity">error INVALID_WITHDRAW(ID withdrawAsset, uint256 sharesIn, uint256 assetsOut);
</code></pre>
<h3 id="rounding_error"><a class="header" href="#rounding_error">ROUNDING_ERROR</a></h3>
<pre><code class="language-solidity">error ROUNDING_ERROR(ID asset, uint256 sharesIn, uint256 assetsOut);
</code></pre>
<h3 id="max_deposit_exceeded"><a class="header" href="#max_deposit_exceeded">MAX_DEPOSIT_EXCEEDED</a></h3>
<pre><code class="language-solidity">error MAX_DEPOSIT_EXCEEDED(ID asset, uint256 assetsIn, uint256 maxDeposit);
</code></pre>
<h3 id="collateral_amount_low"><a class="header" href="#collateral_amount_low">COLLATERAL_AMOUNT_LOW</a></h3>
<pre><code class="language-solidity">error COLLATERAL_AMOUNT_LOW(ID krAssetCollateral, uint256 amount, uint256 minAmount);
</code></pre>
<h3 id="mint_value_less_than_min_debt_value"><a class="header" href="#mint_value_less_than_min_debt_value">MINT_VALUE_LESS_THAN_MIN_DEBT_VALUE</a></h3>
<pre><code class="language-solidity">error MINT_VALUE_LESS_THAN_MIN_DEBT_VALUE(ID, uint256 value, uint256 minRequiredValue);
</code></pre>
<h3 id="not_a_contract"><a class="header" href="#not_a_contract">NOT_A_CONTRACT</a></h3>
<pre><code class="language-solidity">error NOT_A_CONTRACT(address who);
</code></pre>
<h3 id="no_allowance"><a class="header" href="#no_allowance">NO_ALLOWANCE</a></h3>
<pre><code class="language-solidity">error NO_ALLOWANCE(address spender, address owner, uint256 requested, uint256 allowed);
</code></pre>
<h3 id="not_enough_balance"><a class="header" href="#not_enough_balance">NOT_ENOUGH_BALANCE</a></h3>
<pre><code class="language-solidity">error NOT_ENOUGH_BALANCE(address who, uint256 requested, uint256 available);
</code></pre>
<h3 id="sender_not_operator"><a class="header" href="#sender_not_operator">SENDER_NOT_OPERATOR</a></h3>
<pre><code class="language-solidity">error SENDER_NOT_OPERATOR(ID, address sender, address kresko);
</code></pre>
<h3 id="zero_shares_from_assets"><a class="header" href="#zero_shares_from_assets">ZERO_SHARES_FROM_ASSETS</a></h3>
<pre><code class="language-solidity">error ZERO_SHARES_FROM_ASSETS(ID, uint256 assets, ID);
</code></pre>
<h3 id="zero_shares_out"><a class="header" href="#zero_shares_out">ZERO_SHARES_OUT</a></h3>
<pre><code class="language-solidity">error ZERO_SHARES_OUT(ID, uint256 assets);
</code></pre>
<h3 id="zero_shares_in"><a class="header" href="#zero_shares_in">ZERO_SHARES_IN</a></h3>
<pre><code class="language-solidity">error ZERO_SHARES_IN(ID, uint256 assets);
</code></pre>
<h3 id="zero_assets_from_shares"><a class="header" href="#zero_assets_from_shares">ZERO_ASSETS_FROM_SHARES</a></h3>
<pre><code class="language-solidity">error ZERO_ASSETS_FROM_SHARES(ID, uint256 shares, ID);
</code></pre>
<h3 id="zero_assets_out"><a class="header" href="#zero_assets_out">ZERO_ASSETS_OUT</a></h3>
<pre><code class="language-solidity">error ZERO_ASSETS_OUT(ID, uint256 shares);
</code></pre>
<h3 id="zero_assets_in"><a class="header" href="#zero_assets_in">ZERO_ASSETS_IN</a></h3>
<pre><code class="language-solidity">error ZERO_ASSETS_IN(ID, uint256 shares);
</code></pre>
<h3 id="zero_address"><a class="header" href="#zero_address">ZERO_ADDRESS</a></h3>
<pre><code class="language-solidity">error ZERO_ADDRESS();
</code></pre>
<h3 id="zero_deposit"><a class="header" href="#zero_deposit">ZERO_DEPOSIT</a></h3>
<pre><code class="language-solidity">error ZERO_DEPOSIT(ID);
</code></pre>
<h3 id="zero_amount"><a class="header" href="#zero_amount">ZERO_AMOUNT</a></h3>
<pre><code class="language-solidity">error ZERO_AMOUNT(ID);
</code></pre>
<h3 id="zero_withdraw"><a class="header" href="#zero_withdraw">ZERO_WITHDRAW</a></h3>
<pre><code class="language-solidity">error ZERO_WITHDRAW(ID);
</code></pre>
<h3 id="zero_mint"><a class="header" href="#zero_mint">ZERO_MINT</a></h3>
<pre><code class="language-solidity">error ZERO_MINT(ID);
</code></pre>
<h3 id="zero_repay"><a class="header" href="#zero_repay">ZERO_REPAY</a></h3>
<pre><code class="language-solidity">error ZERO_REPAY(ID, uint256 repayAmount, uint256 seizeAmount);
</code></pre>
<h3 id="zero_burn"><a class="header" href="#zero_burn">ZERO_BURN</a></h3>
<pre><code class="language-solidity">error ZERO_BURN(ID);
</code></pre>
<h3 id="zero_debt"><a class="header" href="#zero_debt">ZERO_DEBT</a></h3>
<pre><code class="language-solidity">error ZERO_DEBT(ID);
</code></pre>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="id-1"><a class="header" href="#id-1">ID</a></h3>
<pre><code class="language-solidity">struct ID {
    string symbol;
    address addr;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="libmodifiers"><a class="header" href="#libmodifiers">LibModifiers</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Modifiers.sol">Git Source</a></p>
<h2 id="functions-18"><a class="header" href="#functions-18">Functions</a></h2>
<h3 id="onlyunpaused"><a class="header" href="#onlyunpaused">onlyUnpaused</a></h3>
<p><em>Simple check for the enabled flag</em></p>
<pre><code class="language-solidity">function onlyUnpaused(CommonState storage self, address _assetAddr, Enums.Action _action)
    internal
    view
    returns (Asset storage asset);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>CommonState</code></td><td></td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The address of the asset.</td></tr>
<tr><td><code>_action</code></td><td><code>Enums.Action</code></td><td>The action to this is called from.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>Asset</code></td><td>The asset struct.</td></tr>
</tbody></table>
</div>
<h3 id="onlyexistingasset"><a class="header" href="#onlyexistingasset">onlyExistingAsset</a></h3>
<pre><code class="language-solidity">function onlyExistingAsset(CommonState storage self, address _assetAddr) internal view returns (Asset storage asset);
</code></pre>
<h3 id="onlymintercollateral"><a class="header" href="#onlymintercollateral">onlyMinterCollateral</a></h3>
<p>Reverts if address is not a minter collateral asset.</p>
<pre><code class="language-solidity">function onlyMinterCollateral(CommonState storage self, address _assetAddr)
    internal
    view
    returns (Asset storage asset);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>CommonState</code></td><td></td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The address of the asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>Asset</code></td><td>The asset struct.</td></tr>
</tbody></table>
</div>
<h3 id="onlymintercollateral-1"><a class="header" href="#onlymintercollateral-1">onlyMinterCollateral</a></h3>
<pre><code class="language-solidity">function onlyMinterCollateral(CommonState storage self, address _assetAddr, Enums.Action _action)
    internal
    view
    returns (Asset storage asset);
</code></pre>
<h3 id="onlymintermintable"><a class="header" href="#onlymintermintable">onlyMinterMintable</a></h3>
<p>Reverts if address is not a Kresko Asset.</p>
<pre><code class="language-solidity">function onlyMinterMintable(CommonState storage self, address _assetAddr) internal view returns (Asset storage asset);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>CommonState</code></td><td></td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The address of the asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>Asset</code></td><td>The asset struct.</td></tr>
</tbody></table>
</div>
<h3 id="onlymintermintable-1"><a class="header" href="#onlymintermintable-1">onlyMinterMintable</a></h3>
<pre><code class="language-solidity">function onlyMinterMintable(CommonState storage self, address _assetAddr, Enums.Action _action)
    internal
    view
    returns (Asset storage asset);
</code></pre>
<h3 id="onlysharedcollateral"><a class="header" href="#onlysharedcollateral">onlySharedCollateral</a></h3>
<p>Reverts if address is not depositable to SCDP.</p>
<pre><code class="language-solidity">function onlySharedCollateral(CommonState storage self, address _assetAddr)
    internal
    view
    returns (Asset storage asset);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>CommonState</code></td><td></td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The address of the asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>Asset</code></td><td>The asset struct.</td></tr>
</tbody></table>
</div>
<h3 id="onlyswapmintable"><a class="header" href="#onlyswapmintable">onlySwapMintable</a></h3>
<p>Reverts if address is not swappable Kresko Asset.</p>
<pre><code class="language-solidity">function onlySwapMintable(CommonState storage self, address _assetAddr) internal view returns (Asset storage asset);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>CommonState</code></td><td></td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The address of the asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>Asset</code></td><td>The asset struct.</td></tr>
</tbody></table>
</div>
<h3 id="onlyactivesharedcollateral"><a class="header" href="#onlyactivesharedcollateral">onlyActiveSharedCollateral</a></h3>
<pre><code class="language-solidity">function onlyActiveSharedCollateral(CommonState storage self, address _assetAddr)
    internal
    view
    returns (Asset storage asset);
</code></pre>
<h3 id="onlycoverasset"><a class="header" href="#onlycoverasset">onlyCoverAsset</a></h3>
<pre><code class="language-solidity">function onlyCoverAsset(CommonState storage self, address _assetAddr) internal view returns (Asset storage asset);
</code></pre>
<h3 id="onlyincomeasset"><a class="header" href="#onlyincomeasset">onlyIncomeAsset</a></h3>
<pre><code class="language-solidity">function onlyIncomeAsset(CommonState storage self, address _assetAddr) internal view returns (Asset storage asset);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="modifiers"><a class="header" href="#modifiers">Modifiers</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Modifiers.sol">Git Source</a></p>
<h2 id="functions-19"><a class="header" href="#functions-19">Functions</a></h2>
<h3 id="initializeasadmin"><a class="header" href="#initializeasadmin">initializeAsAdmin</a></h3>
<p><em>Modifier that checks if the contract is initializing and if so, gives the caller the ADMIN role</em></p>
<pre><code class="language-solidity">modifier initializeAsAdmin();
</code></pre>
<h3 id="onlyrole"><a class="header" href="#onlyrole">onlyRole</a></h3>
<p><em>Modifier that checks that an account has a specific role. Reverts
with a standardized message including the required role.
The format of the revert reason is given by the following regular expression:
/^AccessControl: account (0x[0-9a-f]{40}) is missing role (0x[0-9a-f]{64})$/
<em>Available since v4.1.</em></em></p>
<pre><code class="language-solidity">modifier onlyRole(bytes32 role);
</code></pre>
<h3 id="onlyroleif"><a class="header" href="#onlyroleif">onlyRoleIf</a></h3>
<p>Ensure only trusted contracts can act on behalf of <code>_account</code></p>
<pre><code class="language-solidity">modifier onlyRoleIf(bool _accountIsNotMsgSender, bytes32 role);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_accountIsNotMsgSender</code></td><td><code>bool</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>role</code></td><td><code>bytes32</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="nonreentrant"><a class="header" href="#nonreentrant">nonReentrant</a></h3>
<pre><code class="language-solidity">modifier nonReentrant();
</code></pre>
<h3 id="gate"><a class="header" href="#gate">gate</a></h3>
<p>Reverts if the caller does not have the required NFT's for the gated phase</p>
<pre><code class="language-solidity">modifier gate();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commonstate"><a class="header" href="#commonstate">CommonState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/State.sol">Git Source</a></p>
<pre><code class="language-solidity">struct CommonState {
    mapping(address =&gt; Asset) assets;
    mapping(bytes32 =&gt; mapping(Enums.OracleType =&gt; Oracle)) oracles;
    mapping(address =&gt; mapping(Enums.Action =&gt; SafetyState)) safetyState;
    address feeRecipient;
    uint96 minDebtValue;
    address sequencerUptimeFeed;
    uint32 sequencerGracePeriodTime;
    uint32 staleTime;
    uint16 maxPriceDeviationPct;
    uint8 oracleDecimals;
    bool safetyStateSet;
    uint256 entered;
    mapping(bytes32 role =&gt; RoleData data) _roles;
    mapping(bytes32 role =&gt; EnumerableSet.AddressSet member) _roleMembers;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gatingstate"><a class="header" href="#gatingstate">GatingState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/State.sol">Git Source</a></p>
<pre><code class="language-solidity">struct GatingState {
    address kreskian;
    address questForKresk;
    uint8 phase;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gs"><a class="header" href="#gs">gs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/State.sol">Git Source</a></p>
<pre><code class="language-solidity">function gs() pure returns (GatingState storage state);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cs"><a class="header" href="#cs">cs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/State.sol">Git Source</a></p>
<pre><code class="language-solidity">function cs() pure returns (CommonState storage state);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-1"><a class="header" href="#constants-1">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/State.sol">Git Source</a></p>
<h3 id="common_storage_position"><a class="header" href="#common_storage_position">COMMON_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant COMMON_STORAGE_POSITION = keccak256(&quot;kresko.common.storage&quot;);
</code></pre>
<h3 id="gating_storage_position"><a class="header" href="#gating_storage_position">GATING_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant GATING_STORAGE_POSITION = keccak256(&quot;kresko.gating.storage&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="oracle"><a class="header" href="#oracle">Oracle</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Oracle configuration mapped to <code>Asset.ticker</code>.</p>
<pre><code class="language-solidity">struct Oracle {
    address feed;
    function(address) external view returns (uint256) priceGetter;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="feedconfiguration"><a class="header" href="#feedconfiguration">FeedConfiguration</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Feed configuration.</p>
<pre><code class="language-solidity">struct FeedConfiguration {
    Enums.OracleType[2] oracleIds;
    address[2] feeds;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asset"><a class="header" href="#asset">Asset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>All assets in the protocol share this configuration.</p>
<p>ticker is not unique, eg. krETH and WETH both would use bytes32('ETH')</p>
<p><em>Percentages use 2 decimals: 1e4 (10000) == 100.00%. See {PercentageMath.sol}.</em></p>
<p><em>Note that the percentage value for uint16 caps at 655.36%.</em></p>
<pre><code class="language-solidity">struct Asset {
    bytes32 ticker;
    address anchor;
    Enums.OracleType[2] oracles;
    uint16 factor;
    uint16 kFactor;
    uint16 openFee;
    uint16 closeFee;
    uint16 liqIncentive;
    uint256 maxDebtMinter;
    uint256 maxDebtSCDP;
    uint256 depositLimitSCDP;
    uint128 liquidityIndexSCDP;
    uint16 swapInFeeSCDP;
    uint16 swapOutFeeSCDP;
    uint16 protocolFeeShareSCDP;
    uint16 liqIncentiveSCDP;
    uint8 decimals;
    bool isMinterCollateral;
    bool isMinterMintable;
    bool isSharedCollateral;
    bool isSwapMintable;
    bool isSharedOrSwappedCollateral;
    bool isCoverAsset;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="roledata"><a class="header" href="#roledata">RoleData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>The access control role data.</p>
<pre><code class="language-solidity">struct RoleData {
    mapping(address =&gt; bool) members;
    bytes32 adminRole;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maxliqvars"><a class="header" href="#maxliqvars">MaxLiqVars</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Variables used for calculating the max liquidation value.</p>
<pre><code class="language-solidity">struct MaxLiqVars {
    Asset collateral;
    uint256 accountCollateralValue;
    uint256 minCollateralValue;
    uint256 seizeCollateralAccountValue;
    uint192 minDebtValue;
    uint32 gainFactor;
    uint32 maxLiquidationRatio;
    uint32 debtFactor;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maxliqinfo"><a class="header" href="#maxliqinfo">MaxLiqInfo</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct MaxLiqInfo {
    address account;
    address seizeAssetAddr;
    address repayAssetAddr;
    uint256 repayValue;
    uint256 repayAmount;
    uint256 seizeAmount;
    uint256 seizeValue;
    uint256 repayAssetPrice;
    uint256 repayAssetIndex;
    uint256 seizeAssetPrice;
    uint256 seizeAssetIndex;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rawprice-1"><a class="header" href="#rawprice-1">RawPrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Convenience struct for checking configurations</p>
<pre><code class="language-solidity">struct RawPrice {
    int256 answer;
    uint256 timestamp;
    bool isStale;
    bool isZero;
    Enums.OracleType oracle;
    address feed;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pause"><a class="header" href="#pause">Pause</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Configuration for pausing <code>Action</code></p>
<pre><code class="language-solidity">struct Pause {
    bool enabled;
    uint256 timestamp0;
    uint256 timestamp1;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safetystate"><a class="header" href="#safetystate">SafetyState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Safety configuration for assets</p>
<pre><code class="language-solidity">struct SafetyState {
    Pause pause;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commoninitargs"><a class="header" href="#commoninitargs">CommonInitArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Initialization arguments for common values</p>
<pre><code class="language-solidity">struct CommonInitArgs {
    address admin;
    address council;
    address treasury;
    uint64 minDebtValue;
    uint16 maxPriceDeviationPct;
    uint8 oracleDecimals;
    address sequencerUptimeFeed;
    uint32 sequencerGracePeriodTime;
    uint32 staleTime;
    address kreskian;
    address questForKresk;
    uint8 phase;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpcollateralargs"><a class="header" href="#scdpcollateralargs">SCDPCollateralArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SCDPCollateralArgs {
    uint256 depositLimit;
    uint128 liquidityIndex;
    uint8 decimals;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpkrassetargs"><a class="header" href="#scdpkrassetargs">SCDPKrAssetArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SCDPKrAssetArgs {
    uint256 maxDebtMinter;
    uint16 liqIncentive;
    uint16 protocolFee;
    uint16 openFee;
    uint16 closeFee;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="validations"><a class="header" href="#validations">Validations</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/common/Validations.sol">Git Source</a></p>
<h2 id="functions-20"><a class="header" href="#functions-20">Functions</a></h2>
<h3 id="validatepricedeviationpct"><a class="header" href="#validatepricedeviationpct">validatePriceDeviationPct</a></h3>
<pre><code class="language-solidity">function validatePriceDeviationPct(uint16 _deviationPct) internal pure;
</code></pre>
<h3 id="validatemindebtvalue"><a class="header" href="#validatemindebtvalue">validateMinDebtValue</a></h3>
<pre><code class="language-solidity">function validateMinDebtValue(uint256 _minDebtValue) internal pure;
</code></pre>
<h3 id="validatefeerecipient"><a class="header" href="#validatefeerecipient">validateFeeRecipient</a></h3>
<pre><code class="language-solidity">function validateFeeRecipient(address _feeRecipient) internal pure;
</code></pre>
<h3 id="validateoracleprecision"><a class="header" href="#validateoracleprecision">validateOraclePrecision</a></h3>
<pre><code class="language-solidity">function validateOraclePrecision(uint256 _decimalPrecision) internal pure;
</code></pre>
<h3 id="validatemincollateralratio"><a class="header" href="#validatemincollateralratio">validateMinCollateralRatio</a></h3>
<pre><code class="language-solidity">function validateMinCollateralRatio(uint256 _minCollateralRatio, uint256 _liqThreshold) internal pure;
</code></pre>
<h3 id="validateliquidationthreshold"><a class="header" href="#validateliquidationthreshold">validateLiquidationThreshold</a></h3>
<pre><code class="language-solidity">function validateLiquidationThreshold(uint256 _liquidationThreshold, uint256 _minCollateralRatio) internal pure;
</code></pre>
<h3 id="validatemaxliquidationratio"><a class="header" href="#validatemaxliquidationratio">validateMaxLiquidationRatio</a></h3>
<pre><code class="language-solidity">function validateMaxLiquidationRatio(uint256 _maxLiquidationRatio, uint256 _liquidationThreshold) internal pure;
</code></pre>
<h3 id="validateaddassetargs"><a class="header" href="#validateaddassetargs">validateAddAssetArgs</a></h3>
<pre><code class="language-solidity">function validateAddAssetArgs(address _assetAddr, Asset memory _config)
    internal
    view
    returns (string memory symbol, string memory tickerStr, uint8 decimals);
</code></pre>
<h3 id="validateupdateassetargs"><a class="header" href="#validateupdateassetargs">validateUpdateAssetArgs</a></h3>
<pre><code class="language-solidity">function validateUpdateAssetArgs(address _assetAddr, Asset memory _config)
    internal
    view
    returns (string memory symbol, string memory tickerStr, Asset storage asset);
</code></pre>
<h3 id="validateasset"><a class="header" href="#validateasset">validateAsset</a></h3>
<pre><code class="language-solidity">function validateAsset(address _assetAddr, Asset memory _config) internal view returns (bool);
</code></pre>
<h3 id="validatemintercollateral"><a class="header" href="#validatemintercollateral">validateMinterCollateral</a></h3>
<pre><code class="language-solidity">function validateMinterCollateral(address _assetAddr, Asset memory _config)
    internal
    view
    returns (bool isMinterCollateral);
</code></pre>
<h3 id="validatescdpdepositasset"><a class="header" href="#validatescdpdepositasset">validateSCDPDepositAsset</a></h3>
<pre><code class="language-solidity">function validateSCDPDepositAsset(address _assetAddr, Asset memory _config)
    internal
    view
    returns (bool isSharedCollateral);
</code></pre>
<h3 id="validateminterkrasset"><a class="header" href="#validateminterkrasset">validateMinterKrAsset</a></h3>
<pre><code class="language-solidity">function validateMinterKrAsset(address _assetAddr, Asset memory _config) internal view returns (bool isMinterKrAsset);
</code></pre>
<h3 id="validatescdpkrasset"><a class="header" href="#validatescdpkrasset">validateSCDPKrAsset</a></h3>
<pre><code class="language-solidity">function validateSCDPKrAsset(address _assetAddr, Asset memory _config) internal view returns (bool isSwapMintable);
</code></pre>
<h3 id="validatesdicoverasset"><a class="header" href="#validatesdicoverasset">validateSDICoverAsset</a></h3>
<pre><code class="language-solidity">function validateSDICoverAsset(address _assetAddr) internal view returns (Asset storage asset);
</code></pre>
<h3 id="validatekrassetcontract"><a class="header" href="#validatekrassetcontract">validateKrAssetContract</a></h3>
<pre><code class="language-solidity">function validateKrAssetContract(address _assetAddr, address _anchorAddr) internal view;
</code></pre>
<h3 id="ensureunique"><a class="header" href="#ensureunique">ensureUnique</a></h3>
<pre><code class="language-solidity">function ensureUnique(address _asset1Addr, address _asset2Addr) internal view;
</code></pre>
<h3 id="validateroute"><a class="header" href="#validateroute">validateRoute</a></h3>
<pre><code class="language-solidity">function validateRoute(address _assetInAddr, address _assetOutAddr) internal view;
</code></pre>
<h3 id="validatedecimals"><a class="header" href="#validatedecimals">validateDecimals</a></h3>
<pre><code class="language-solidity">function validateDecimals(address _assetAddr, uint8 _decimals) internal view;
</code></pre>
<h3 id="validatevaultassetdecimals"><a class="header" href="#validatevaultassetdecimals">validateVaultAssetDecimals</a></h3>
<pre><code class="language-solidity">function validateVaultAssetDecimals(address _assetAddr, uint8 _decimals) internal view;
</code></pre>
<h3 id="validateuint128"><a class="header" href="#validateuint128">validateUint128</a></h3>
<pre><code class="language-solidity">function validateUint128(address _assetAddr, uint256 _value) internal view;
</code></pre>
<h3 id="validatecfactor"><a class="header" href="#validatecfactor">validateCFactor</a></h3>
<pre><code class="language-solidity">function validateCFactor(address _assetAddr, uint16 _cFactor) internal view;
</code></pre>
<h3 id="validatekfactor"><a class="header" href="#validatekfactor">validateKFactor</a></h3>
<pre><code class="language-solidity">function validateKFactor(address _assetAddr, uint16 _kFactor) internal view;
</code></pre>
<h3 id="validatefees"><a class="header" href="#validatefees">validateFees</a></h3>
<pre><code class="language-solidity">function validateFees(address _assetAddr, uint16 _fee1, uint16 _fee2) internal view;
</code></pre>
<h3 id="validateliqincentive"><a class="header" href="#validateliqincentive">validateLiqIncentive</a></h3>
<pre><code class="language-solidity">function validateLiqIncentive(address _assetAddr, uint16 _liqIncentive) internal view;
</code></pre>
<h3 id="validateliqconfig"><a class="header" href="#validateliqconfig">validateLiqConfig</a></h3>
<pre><code class="language-solidity">function validateLiqConfig(address _assetAddr) internal view;
</code></pre>
<h3 id="validateliquidationmarket"><a class="header" href="#validateliquidationmarket">validateLiquidationMarket</a></h3>
<pre><code class="language-solidity">function validateLiquidationMarket(
    address _seizeAssetAddr,
    Asset storage seizeAsset,
    address _repayAssetAddr,
    Asset storage repayAsset
) internal view;
</code></pre>
<h3 id="validatecollateralargs"><a class="header" href="#validatecollateralargs">validateCollateralArgs</a></h3>
<pre><code class="language-solidity">function validateCollateralArgs(
    MinterState storage self,
    address _account,
    address _collateralAsset,
    uint256 _collateralIndex,
    uint256 _amount
) internal view;
</code></pre>
<h3 id="rawassetprice"><a class="header" href="#rawassetprice">rawAssetPrice</a></h3>
<pre><code class="language-solidity">function rawAssetPrice(Asset storage self) internal view returns (RawPrice memory);
</code></pre>
<h3 id="validaterawassetprice"><a class="header" href="#validaterawassetprice">validateRawAssetPrice</a></h3>
<pre><code class="language-solidity">function validateRawAssetPrice(address _assetAddr) internal view;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-6"><a class="header" href="#contents-6">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/diamond//src/contracts/core/diamond/facets">facets</a></li>
<li><a href="src/contracts/core/diamond//src/contracts/core/diamond/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/diamond/DSCore.sol/library.DSCore.html">DSCore</a></li>
<li><a href="src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a></li>
<li><a href="src/contracts/core/diamond/DSTypes.sol/struct.Facet.html">Facet</a></li>
<li><a href="src/contracts/core/diamond/DSTypes.sol/struct.FacetAddressAndPosition.html">FacetAddressAndPosition</a></li>
<li><a href="src/contracts/core/diamond/DSTypes.sol/struct.FacetFunctionSelectors.html">FacetFunctionSelectors</a></li>
<li><a href="src/contracts/core/diamond/DSTypes.sol/enum.FacetCutAction.html">FacetCutAction</a></li>
<li><a href="src/contracts/core/diamond/DSTypes.sol/struct.FacetCut.html">FacetCut</a></li>
<li><a href="src/contracts/core/diamond/DSTypes.sol/struct.Initializer.html">Initializer</a></li>
<li><a href="src/contracts/core/diamond/DState.sol/struct.DiamondState.html">DiamondState</a></li>
<li><a href="src/contracts/core/diamond/DState.sol/function.ds.html">ds</a></li>
<li><a href="src/contracts/core/diamond/DState.sol/constants.DState.html">DState constants</a></li>
<li><a href="src/contracts/core/diamond/Diamond.sol/contract.Diamond.html">Diamond</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-7"><a class="header" href="#contents-7">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol/contract.DiamondCutFacet.html">DiamondCutFacet</a></li>
<li><a href="src/contracts/core/diamond/facets/DiamondLoupeFacet.sol/contract.DiamondLoupeFacet.html">DiamondLoupeFacet</a></li>
<li><a href="src/contracts/core/diamond/facets/DiamondStateFacet.sol/contract.DiamondStateFacet.html">DiamondStateFacet</a></li>
<li><a href="src/contracts/core/diamond/facets/ERC165Facet.sol/contract.ERC165Facet.html">ERC165Facet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diamondcutfacet"><a class="header" href="#diamondcutfacet">DiamondCutFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/facets/DiamondCutFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol//docs/book/src/src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol/interface.IDiamondCutFacet.html">IDiamondCutFacet</a>, <a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol//docs/book/src/src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol/interface.IExtendedDiamondCutFacet.html">IExtendedDiamondCutFacet</a>, <a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol//docs/book/src/src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a></p>
<p><strong>Authors:</strong>
Nick Mudge, Kresko</p>
<p>Reference implementation of diamondCut. Extended to allow executing initializers without cuts.</p>
<h2 id="functions-21"><a class="header" href="#functions-21">Functions</a></h2>
<h3 id="diamondcut"><a class="header" href="#diamondcut">diamondCut</a></h3>
<p>Add/replace/remove any number of functions, optionally execute a function with delegatecall</p>
<pre><code class="language-solidity">function diamondCut(FacetCut[] calldata _diamondCut, address _initializer, bytes calldata _calldata)
    external
    onlyRole(Role.DEFAULT_ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_diamondCut</code></td><td><code>FacetCut[]</code></td><td>Contains the facet addresses and function selectors</td></tr>
<tr><td><code>_initializer</code></td><td><code>address</code></td><td>The address of the contract or facet to execute _calldata</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>A function call, including function selector and arguments _calldata is executed with delegatecall on _init</td></tr>
</tbody></table>
</div>
<h3 id="executeinitializer"><a class="header" href="#executeinitializer">executeInitializer</a></h3>
<p>Use an initializer contract without cutting.</p>
<pre><code class="language-solidity">function executeInitializer(address _initializer, bytes calldata _calldata) external onlyRole(Role.DEFAULT_ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_initializer</code></td><td><code>address</code></td><td>Address of contract or facet to execute _calldata</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>A function call, including function selector and arguments - _calldata is executed with delegatecall on _init</td></tr>
</tbody></table>
</div>
<h3 id="executeinitializers"><a class="header" href="#executeinitializers">executeInitializers</a></h3>
<p>Execute multiple initializers without cutting.</p>
<pre><code class="language-solidity">function executeInitializers(Initializer[] calldata _initializers) external onlyRole(Role.DEFAULT_ADMIN);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diamondloupefacet"><a class="header" href="#diamondloupefacet">DiamondLoupeFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/facets/DiamondLoupeFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/diamond/facets/DiamondLoupeFacet.sol//docs/book/src/src/contracts/core/diamond/interfaces/IDiamondLoupeFacet.sol/interface.IDiamondLoupeFacet.html">IDiamondLoupeFacet</a></p>
<h2 id="functions-22"><a class="header" href="#functions-22">Functions</a></h2>
<h3 id="facets"><a class="header" href="#facets">facets</a></h3>
<p>Gets all facet addresses and their four byte function selectors.</p>
<pre><code class="language-solidity">function facets() external view override returns (Facet[] memory facets_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facets_</code></td><td><code>Facet[]</code></td><td>Facet</td></tr>
</tbody></table>
</div>
<h3 id="facetfunctionselectors"><a class="header" href="#facetfunctionselectors">facetFunctionSelectors</a></h3>
<p>Gets all the function selectors supported by a specific facet.</p>
<pre><code class="language-solidity">function facetFunctionSelectors(address _facet)
    external
    view
    override
    returns (bytes4[] memory facetFunctionSelectors_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_facet</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetFunctionSelectors_</code></td><td><code>bytes4[]</code></td><td>facetFunctionSelectors_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddresses"><a class="header" href="#facetaddresses">facetAddresses</a></h3>
<p>Get all the facet addresses used by a diamond.</p>
<pre><code class="language-solidity">function facetAddresses() external view override returns (address[] memory facetAddresses_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddresses_</code></td><td><code>address[]</code></td><td>facetAddresses_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddress"><a class="header" href="#facetaddress">facetAddress</a></h3>
<p>Gets the facet that supports the given selector.</p>
<p><em>If facet is not found return address(0).</em></p>
<pre><code class="language-solidity">function facetAddress(bytes4 _functionSelector) external view override returns (address facetAddress_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_functionSelector</code></td><td><code>bytes4</code></td><td>The function selector.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddress_</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="diamondstatefacet"><a class="header" href="#diamondstatefacet">DiamondStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/facets/DiamondStateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/diamond/facets/DiamondStateFacet.sol//docs/book/src/src/contracts/core/diamond/interfaces/IDiamondStateFacet.sol/interface.IDiamondStateFacet.html">IDiamondStateFacet</a>, <a href="src/contracts/core/diamond/facets/DiamondStateFacet.sol//docs/book/src/src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a></p>
<h2 id="functions-23"><a class="header" href="#functions-23">Functions</a></h2>
<h3 id="transferownership"><a class="header" href="#transferownership">transferOwnership</a></h3>
<p>Initiate ownership transfer to a new address</p>
<pre><code class="language-solidity">function transferOwnership(address _newOwner) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newOwner</code></td><td><code>address</code></td><td>address that is set as the pending new owner</td></tr>
</tbody></table>
</div>
<h3 id="acceptownership"><a class="header" href="#acceptownership">acceptOwnership</a></h3>
<p>Transfer the ownership to the new pending owner</p>
<pre><code class="language-solidity">function acceptOwnership() external override;
</code></pre>
<h3 id="owner"><a class="header" href="#owner">owner</a></h3>
<p>Get the address of the owner</p>
<pre><code class="language-solidity">function owner() external view override returns (address owner_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner_</code></td><td><code>address</code></td><td>The address of the owner.</td></tr>
</tbody></table>
</div>
<h3 id="pendingowner"><a class="header" href="#pendingowner">pendingOwner</a></h3>
<p>Get the address of pending owner</p>
<pre><code class="language-solidity">function pendingOwner() external view override returns (address pendingOwner_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>pendingOwner_</code></td><td><code>address</code></td><td>The address of the pending owner.</td></tr>
</tbody></table>
</div>
<h3 id="initialized"><a class="header" href="#initialized">initialized</a></h3>
<pre><code class="language-solidity">function initialized() external view returns (bool);
</code></pre>
<h3 id="domainseparator"><a class="header" href="#domainseparator">domainSeparator</a></h3>
<p>The EIP-712 typehash for the contract's domain.</p>
<pre><code class="language-solidity">function domainSeparator() external view returns (bytes32);
</code></pre>
<h3 id="getstorageversion"><a class="header" href="#getstorageversion">getStorageVersion</a></h3>
<p>Get the storage version (amount of times the storage has been upgraded)</p>
<pre><code class="language-solidity">function getStorageVersion() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 The storage version.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="erc165facet"><a class="header" href="#erc165facet">ERC165Facet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/facets/ERC165Facet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/diamond/facets/ERC165Facet.sol//docs/book/src/src/contracts/core/diamond/interfaces/IERC165Facet.sol/interface.IERC165Facet.html">IERC165Facet</a>, <a href="src/contracts/core/diamond/facets/ERC165Facet.sol//docs/book/src/src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/diamond/facets/ERC165Facet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a></p>
<h2 id="functions-24"><a class="header" href="#functions-24">Functions</a></h2>
<h3 id="supportsinterface"><a class="header" href="#supportsinterface">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 _interfaceId) external view override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_interfaceId</code></td><td><code>bytes4</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
<h3 id="seterc165"><a class="header" href="#seterc165">setERC165</a></h3>
<p>set or unset ERC165 using DiamondStorage.supportedInterfaces</p>
<pre><code class="language-solidity">function setERC165(bytes4[] calldata interfaceIds, bytes4[] calldata interfaceIdsToRemove)
    external
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceIds</code></td><td><code>bytes4[]</code></td><td>list of interface id to set as supported</td></tr>
<tr><td><code>interfaceIdsToRemove</code></td><td><code>bytes4[]</code></td><td>list of interface id to unset as supported. Technically, you can remove support of ERC165 by having the IERC165 id itself being part of that array.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-8"><a class="header" href="#contents-8">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol/interface.IDiamondCutFacet.html">IDiamondCutFacet</a></li>
<li><a href="src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol/interface.IExtendedDiamondCutFacet.html">IExtendedDiamondCutFacet</a></li>
<li><a href="src/contracts/core/diamond/interfaces/IDiamondLoupeFacet.sol/interface.IDiamondLoupeFacet.html">IDiamondLoupeFacet</a></li>
<li><a href="src/contracts/core/diamond/interfaces/IDiamondStateFacet.sol/interface.IDiamondStateFacet.html">IDiamondStateFacet</a></li>
<li><a href="src/contracts/core/diamond/interfaces/IERC165Facet.sol/interface.IERC165Facet.html">IERC165Facet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="idiamondcutfacet"><a class="header" href="#idiamondcutfacet">IDiamondCutFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol">Git Source</a></p>
<h2 id="functions-25"><a class="header" href="#functions-25">Functions</a></h2>
<h3 id="diamondcut-1"><a class="header" href="#diamondcut-1">diamondCut</a></h3>
<p>Add/replace/remove any number of functions, optionally execute a function with delegatecall</p>
<pre><code class="language-solidity">function diamondCut(FacetCut[] calldata _diamondCut, address _initializer, bytes calldata _calldata) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_diamondCut</code></td><td><code>FacetCut[]</code></td><td>Contains the facet addresses and function selectors</td></tr>
<tr><td><code>_initializer</code></td><td><code>address</code></td><td>The address of the contract or facet to execute _calldata</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>A function call, including function selector and arguments _calldata is executed with delegatecall on _init</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iextendeddiamondcutfacet"><a class="header" href="#iextendeddiamondcutfacet">IExtendedDiamondCutFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol">Git Source</a></p>
<h2 id="functions-26"><a class="header" href="#functions-26">Functions</a></h2>
<h3 id="executeinitializer-1"><a class="header" href="#executeinitializer-1">executeInitializer</a></h3>
<p>Use an initializer contract without cutting.</p>
<pre><code class="language-solidity">function executeInitializer(address _initializer, bytes calldata _calldata) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_initializer</code></td><td><code>address</code></td><td>Address of contract or facet to execute _calldata</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>A function call, including function selector and arguments - _calldata is executed with delegatecall on _init</td></tr>
</tbody></table>
</div>
<h3 id="executeinitializers-1"><a class="header" href="#executeinitializers-1">executeInitializers</a></h3>
<p>Execute multiple initializers without cutting.</p>
<pre><code class="language-solidity">function executeInitializers(Initializer[] calldata _initializers) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="idiamondloupefacet"><a class="header" href="#idiamondloupefacet">IDiamondLoupeFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/interfaces/IDiamondLoupeFacet.sol">Git Source</a></p>
<h2 id="functions-27"><a class="header" href="#functions-27">Functions</a></h2>
<h3 id="facets-1"><a class="header" href="#facets-1">facets</a></h3>
<p>Gets all facet addresses and their four byte function selectors.</p>
<pre><code class="language-solidity">function facets() external view returns (Facet[] memory facets_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facets_</code></td><td><code>Facet[]</code></td><td>Facet</td></tr>
</tbody></table>
</div>
<h3 id="facetfunctionselectors-1"><a class="header" href="#facetfunctionselectors-1">facetFunctionSelectors</a></h3>
<p>Gets all the function selectors supported by a specific facet.</p>
<pre><code class="language-solidity">function facetFunctionSelectors(address _facet) external view returns (bytes4[] memory facetFunctionSelectors_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_facet</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetFunctionSelectors_</code></td><td><code>bytes4[]</code></td><td>facetFunctionSelectors_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddresses-1"><a class="header" href="#facetaddresses-1">facetAddresses</a></h3>
<p>Get all the facet addresses used by a diamond.</p>
<pre><code class="language-solidity">function facetAddresses() external view returns (address[] memory facetAddresses_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddresses_</code></td><td><code>address[]</code></td><td>facetAddresses_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddress-1"><a class="header" href="#facetaddress-1">facetAddress</a></h3>
<p>Gets the facet that supports the given selector.</p>
<p><em>If facet is not found return address(0).</em></p>
<pre><code class="language-solidity">function facetAddress(bytes4 _functionSelector) external view returns (address facetAddress_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_functionSelector</code></td><td><code>bytes4</code></td><td>The function selector.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddress_</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="idiamondstatefacet"><a class="header" href="#idiamondstatefacet">IDiamondStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/interfaces/IDiamondStateFacet.sol">Git Source</a></p>
<p>Functions for the diamond state itself.</p>
<h2 id="functions-28"><a class="header" href="#functions-28">Functions</a></h2>
<h3 id="initialized-1"><a class="header" href="#initialized-1">initialized</a></h3>
<p>Whether the diamond is initialized.</p>
<pre><code class="language-solidity">function initialized() external view returns (bool);
</code></pre>
<h3 id="domainseparator-1"><a class="header" href="#domainseparator-1">domainSeparator</a></h3>
<p>The EIP-712 typehash for the contract's domain.</p>
<pre><code class="language-solidity">function domainSeparator() external view returns (bytes32);
</code></pre>
<h3 id="getstorageversion-1"><a class="header" href="#getstorageversion-1">getStorageVersion</a></h3>
<p>Get the storage version (amount of times the storage has been upgraded)</p>
<pre><code class="language-solidity">function getStorageVersion() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 The storage version.</td></tr>
</tbody></table>
</div>
<h3 id="owner-1"><a class="header" href="#owner-1">owner</a></h3>
<p>Get the address of the owner</p>
<pre><code class="language-solidity">function owner() external view returns (address owner_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner_</code></td><td><code>address</code></td><td>The address of the owner.</td></tr>
</tbody></table>
</div>
<h3 id="pendingowner-1"><a class="header" href="#pendingowner-1">pendingOwner</a></h3>
<p>Get the address of pending owner</p>
<pre><code class="language-solidity">function pendingOwner() external view returns (address pendingOwner_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>pendingOwner_</code></td><td><code>address</code></td><td>The address of the pending owner.</td></tr>
</tbody></table>
</div>
<h3 id="transferownership-1"><a class="header" href="#transferownership-1">transferOwnership</a></h3>
<p>Initiate ownership transfer to a new address</p>
<p>caller must be the current contract owner</p>
<p>the new owner cannot be address(0)</p>
<p>emits a {PendingOwnershipTransfer} event</p>
<pre><code class="language-solidity">function transferOwnership(address _newOwner) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newOwner</code></td><td><code>address</code></td><td>address that is set as the pending new owner</td></tr>
</tbody></table>
</div>
<h3 id="acceptownership-1"><a class="header" href="#acceptownership-1">acceptOwnership</a></h3>
<p>Transfer the ownership to the new pending owner</p>
<p>caller must be the pending owner</p>
<p>emits a {OwnershipTransferred} event</p>
<pre><code class="language-solidity">function acceptOwnership() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc165facet"><a class="header" href="#ierc165facet">IERC165Facet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/interfaces/IERC165Facet.sol">Git Source</a></p>
<h2 id="functions-29"><a class="header" href="#functions-29">Functions</a></h2>
<h3 id="supportsinterface-1"><a class="header" href="#supportsinterface-1">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
<h3 id="seterc165-1"><a class="header" href="#seterc165-1">setERC165</a></h3>
<p>set or unset ERC165 using DiamondStorage.supportedInterfaces</p>
<pre><code class="language-solidity">function setERC165(bytes4[] calldata interfaceIds, bytes4[] calldata interfaceIdsToRemove) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceIds</code></td><td><code>bytes4[]</code></td><td>list of interface id to set as supported</td></tr>
<tr><td><code>interfaceIdsToRemove</code></td><td><code>bytes4[]</code></td><td>list of interface id to unset as supported. Technically, you can remove support of ERC165 by having the IERC165 id itself being part of that array.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="dscore"><a class="header" href="#dscore">DSCore</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DSCore.sol">Git Source</a></p>
<h2 id="functions-30"><a class="header" href="#functions-30">Functions</a></h2>
<h3 id="create"><a class="header" href="#create">create</a></h3>
<p>Setup the DiamondState, add initial facets and execute all initializers.</p>
<pre><code class="language-solidity">function create(FacetCut[] memory _initialFacets, Initializer[] memory _initializers, address _contractOwner)
    internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_initialFacets</code></td><td><code>FacetCut[]</code></td><td>Facets to add to the diamond.</td></tr>
<tr><td><code>_initializers</code></td><td><code>Initializer[]</code></td><td>Initializer contracts to execute.</td></tr>
<tr><td><code>_contractOwner</code></td><td><code>address</code></td><td>Address to set as the contract owner.</td></tr>
</tbody></table>
</div>
<h3 id="exec"><a class="header" href="#exec">exec</a></h3>
<p>Execute some logic on a contract through delegatecall.</p>
<pre><code class="language-solidity">function exec(address _initializer, bytes memory _calldata) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_initializer</code></td><td><code>address</code></td><td>Contract to delegatecall.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Data to pass into the delegatecall.</td></tr>
</tbody></table>
</div>
<h3 id="cut"><a class="header" href="#cut">cut</a></h3>
<pre><code class="language-solidity">function cut(FacetCut[] memory _diamondCut, address _initializer, bytes memory _calldata) internal;
</code></pre>
<h3 id="addfunctions"><a class="header" href="#addfunctions">addFunctions</a></h3>
<pre><code class="language-solidity">function addFunctions(DiamondState storage self, address _facetAddress, bytes4[] memory _functionSelectors) internal;
</code></pre>
<h3 id="replacefunctions"><a class="header" href="#replacefunctions">replaceFunctions</a></h3>
<pre><code class="language-solidity">function replaceFunctions(DiamondState storage self, address _facetAddress, bytes4[] memory _functionSelectors)
    internal;
</code></pre>
<h3 id="removefunctions"><a class="header" href="#removefunctions">removeFunctions</a></h3>
<pre><code class="language-solidity">function removeFunctions(DiamondState storage self, address _facetAddress, bytes4[] memory _functionSelectors)
    internal;
</code></pre>
<h3 id="addfacet"><a class="header" href="#addfacet">addFacet</a></h3>
<pre><code class="language-solidity">function addFacet(DiamondState storage self, address _facetAddress) internal;
</code></pre>
<h3 id="addfunction"><a class="header" href="#addfunction">addFunction</a></h3>
<pre><code class="language-solidity">function addFunction(DiamondState storage self, bytes4 _selector, uint96 _selectorPosition, address _facetAddress)
    internal;
</code></pre>
<h3 id="removefunction"><a class="header" href="#removefunction">removeFunction</a></h3>
<pre><code class="language-solidity">function removeFunction(DiamondState storage self, address _facetAddress, bytes4 _selector) internal;
</code></pre>
<h3 id="initiateownershiptransfer"><a class="header" href="#initiateownershiptransfer">initiateOwnershipTransfer</a></h3>
<p>caller must be the current contract owner</p>
<p><em>Initiate ownership transfer to a new address</em></p>
<pre><code class="language-solidity">function initiateOwnershipTransfer(DiamondState storage self, address _newOwner) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>DiamondState</code></td><td></td></tr>
<tr><td><code>_newOwner</code></td><td><code>address</code></td><td>address that is set as the pending new owner</td></tr>
</tbody></table>
</div>
<h3 id="finalizeownershiptransfer"><a class="header" href="#finalizeownershiptransfer">finalizeOwnershipTransfer</a></h3>
<p>caller must be the pending owner</p>
<p><em>Transfer the ownership to the new pending owner</em></p>
<pre><code class="language-solidity">function finalizeOwnershipTransfer(DiamondState storage self) internal;
</code></pre>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="initializerexecuted"><a class="header" href="#initializerexecuted">InitializerExecuted</a></h3>
<p>Emitted when <code>execute</code> is called with some initializer.</p>
<p><em>Overlaps DiamondCut but thats fine as its used by some indexers.</em></p>
<pre><code class="language-solidity">event InitializerExecuted(
    uint256 indexed version,
    address sender,
    address diamondOwner,
    address initializer,
    bytes data,
    uint256 facetCount,
    uint256 block,
    uint256 timestamp
);
</code></pre>
<h3 id="diamondcut-2"><a class="header" href="#diamondcut-2">DiamondCut</a></h3>
<pre><code class="language-solidity">event DiamondCut(FacetCut[] diamondCut, address initializer, bytes data);
</code></pre>
<h3 id="ownershiptransferred"><a class="header" href="#ownershiptransferred">OwnershipTransferred</a></h3>
<pre><code class="language-solidity">event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
</code></pre>
<h3 id="pendingownershiptransfer"><a class="header" href="#pendingownershiptransfer">PendingOwnershipTransfer</a></h3>
<pre><code class="language-solidity">event PendingOwnershipTransfer(address indexed previousOwner, address indexed newOwner);
</code></pre>
<h2 id="errors-2"><a class="header" href="#errors-2">Errors</a></h2>
<h3 id="diamond_function_does_not_exist"><a class="header" href="#diamond_function_does_not_exist">DIAMOND_FUNCTION_DOES_NOT_EXIST</a></h3>
<pre><code class="language-solidity">error DIAMOND_FUNCTION_DOES_NOT_EXIST(bytes4 selector);
</code></pre>
<h3 id="diamond_init_data_provided_but_init_address_was_zero"><a class="header" href="#diamond_init_data_provided_but_init_address_was_zero">DIAMOND_INIT_DATA_PROVIDED_BUT_INIT_ADDRESS_WAS_ZERO</a></h3>
<pre><code class="language-solidity">error DIAMOND_INIT_DATA_PROVIDED_BUT_INIT_ADDRESS_WAS_ZERO(bytes data);
</code></pre>
<h3 id="diamond_init_address_provided_but_init_data_was_empty"><a class="header" href="#diamond_init_address_provided_but_init_data_was_empty">DIAMOND_INIT_ADDRESS_PROVIDED_BUT_INIT_DATA_WAS_EMPTY</a></h3>
<pre><code class="language-solidity">error DIAMOND_INIT_ADDRESS_PROVIDED_BUT_INIT_DATA_WAS_EMPTY(address initializer);
</code></pre>
<h3 id="diamond_function_already_exists"><a class="header" href="#diamond_function_already_exists">DIAMOND_FUNCTION_ALREADY_EXISTS</a></h3>
<pre><code class="language-solidity">error DIAMOND_FUNCTION_ALREADY_EXISTS(address newFacet, address oldFacet, bytes4 func);
</code></pre>
<h3 id="diamond_init_failed"><a class="header" href="#diamond_init_failed">DIAMOND_INIT_FAILED</a></h3>
<pre><code class="language-solidity">error DIAMOND_INIT_FAILED(address initializer, bytes data);
</code></pre>
<h3 id="diamond_not_initializing"><a class="header" href="#diamond_not_initializing">DIAMOND_NOT_INITIALIZING</a></h3>
<pre><code class="language-solidity">error DIAMOND_NOT_INITIALIZING();
</code></pre>
<h3 id="diamond_already_initialized"><a class="header" href="#diamond_already_initialized">DIAMOND_ALREADY_INITIALIZED</a></h3>
<pre><code class="language-solidity">error DIAMOND_ALREADY_INITIALIZED(uint256 initializerVersion, uint256 currentVersion);
</code></pre>
<h3 id="diamond_cut_action_was_not_add_replace_remove"><a class="header" href="#diamond_cut_action_was_not_add_replace_remove">DIAMOND_CUT_ACTION_WAS_NOT_ADD_REPLACE_REMOVE</a></h3>
<pre><code class="language-solidity">error DIAMOND_CUT_ACTION_WAS_NOT_ADD_REPLACE_REMOVE();
</code></pre>
<h3 id="diamond_facet_address_cannot_be_zero_when_adding_functions"><a class="header" href="#diamond_facet_address_cannot_be_zero_when_adding_functions">DIAMOND_FACET_ADDRESS_CANNOT_BE_ZERO_WHEN_ADDING_FUNCTIONS</a></h3>
<pre><code class="language-solidity">error DIAMOND_FACET_ADDRESS_CANNOT_BE_ZERO_WHEN_ADDING_FUNCTIONS(bytes4[] selectors);
</code></pre>
<h3 id="diamond_facet_address_cannot_be_zero_when_replacing_functions"><a class="header" href="#diamond_facet_address_cannot_be_zero_when_replacing_functions">DIAMOND_FACET_ADDRESS_CANNOT_BE_ZERO_WHEN_REPLACING_FUNCTIONS</a></h3>
<pre><code class="language-solidity">error DIAMOND_FACET_ADDRESS_CANNOT_BE_ZERO_WHEN_REPLACING_FUNCTIONS(bytes4[] selectors);
</code></pre>
<h3 id="diamond_facet_address_must_be_zero_when_removing_functions"><a class="header" href="#diamond_facet_address_must_be_zero_when_removing_functions">DIAMOND_FACET_ADDRESS_MUST_BE_ZERO_WHEN_REMOVING_FUNCTIONS</a></h3>
<pre><code class="language-solidity">error DIAMOND_FACET_ADDRESS_MUST_BE_ZERO_WHEN_REMOVING_FUNCTIONS(address facet, bytes4[] selectors);
</code></pre>
<h3 id="diamond_no_facet_selectors"><a class="header" href="#diamond_no_facet_selectors">DIAMOND_NO_FACET_SELECTORS</a></h3>
<pre><code class="language-solidity">error DIAMOND_NO_FACET_SELECTORS(address facet);
</code></pre>
<h3 id="diamond_facet_address_cannot_be_zero_when_removing_one_function"><a class="header" href="#diamond_facet_address_cannot_be_zero_when_removing_one_function">DIAMOND_FACET_ADDRESS_CANNOT_BE_ZERO_WHEN_REMOVING_ONE_FUNCTION</a></h3>
<pre><code class="language-solidity">error DIAMOND_FACET_ADDRESS_CANNOT_BE_ZERO_WHEN_REMOVING_ONE_FUNCTION(bytes4 selector);
</code></pre>
<h3 id="diamond_replace_function_new_facet_is_same_as_old"><a class="header" href="#diamond_replace_function_new_facet_is_same_as_old">DIAMOND_REPLACE_FUNCTION_NEW_FACET_IS_SAME_AS_OLD</a></h3>
<pre><code class="language-solidity">error DIAMOND_REPLACE_FUNCTION_NEW_FACET_IS_SAME_AS_OLD(address facet, bytes4 selector);
</code></pre>
<h3 id="new_owner_cannot_be_zero_address"><a class="header" href="#new_owner_cannot_be_zero_address">NEW_OWNER_CANNOT_BE_ZERO_ADDRESS</a></h3>
<pre><code class="language-solidity">error NEW_OWNER_CANNOT_BE_ZERO_ADDRESS();
</code></pre>
<h3 id="not_diamond_owner"><a class="header" href="#not_diamond_owner">NOT_DIAMOND_OWNER</a></h3>
<pre><code class="language-solidity">error NOT_DIAMOND_OWNER(address who, address owner);
</code></pre>
<h3 id="not_pending_diamond_owner"><a class="header" href="#not_pending_diamond_owner">NOT_PENDING_DIAMOND_OWNER</a></h3>
<pre><code class="language-solidity">error NOT_PENDING_DIAMOND_OWNER(address who, address pendingOwner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dsmodifiers"><a class="header" href="#dsmodifiers">DSModifiers</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DSModifiers.sol">Git Source</a></p>
<h2 id="functions-31"><a class="header" href="#functions-31">Functions</a></h2>
<h3 id="initializer"><a class="header" href="#initializer">initializer</a></h3>
<pre><code class="language-solidity">modifier initializer(uint256 version);
</code></pre>
<h3 id="onlydiamondowner"><a class="header" href="#onlydiamondowner">onlyDiamondOwner</a></h3>
<pre><code class="language-solidity">modifier onlyDiamondOwner();
</code></pre>
<h3 id="onlypendingdiamondowner"><a class="header" href="#onlypendingdiamondowner">onlyPendingDiamondOwner</a></h3>
<pre><code class="language-solidity">modifier onlyPendingDiamondOwner();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facet"><a class="header" href="#facet">Facet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DSTypes.sol">Git Source</a></p>
<p>These functions are expected to be called frequently
by tools.</p>
<pre><code class="language-solidity">struct Facet {
    address facetAddress;
    bytes4[] functionSelectors;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facetaddressandposition"><a class="header" href="#facetaddressandposition">FacetAddressAndPosition</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DSTypes.sol">Git Source</a></p>
<pre><code class="language-solidity">struct FacetAddressAndPosition {
    address facetAddress;
    uint96 functionSelectorPosition;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facetfunctionselectors-2"><a class="header" href="#facetfunctionselectors-2">FacetFunctionSelectors</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DSTypes.sol">Git Source</a></p>
<pre><code class="language-solidity">struct FacetFunctionSelectors {
    bytes4[] functionSelectors;
    uint256 facetAddressPosition;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facetcutaction"><a class="header" href="#facetcutaction">FacetCutAction</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DSTypes.sol">Git Source</a></p>
<p><em>Add=0, Replace=1, Remove=2</em></p>
<pre><code class="language-solidity">enum FacetCutAction {
    Add,
    Replace,
    Remove
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facetcut"><a class="header" href="#facetcut">FacetCut</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DSTypes.sol">Git Source</a></p>
<pre><code class="language-solidity">struct FacetCut {
    address facetAddress;
    FacetCutAction action;
    bytes4[] functionSelectors;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="initializer-1"><a class="header" href="#initializer-1">Initializer</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DSTypes.sol">Git Source</a></p>
<pre><code class="language-solidity">struct Initializer {
    address initContract;
    bytes initData;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diamondstate"><a class="header" href="#diamondstate">DiamondState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DState.sol">Git Source</a></p>
<pre><code class="language-solidity">struct DiamondState {
    mapping(bytes4 =&gt; FacetAddressAndPosition) selectorToFacetAndPosition;
    mapping(address =&gt; FacetFunctionSelectors) facetFunctionSelectors;
    address[] facetAddresses;
    mapping(bytes4 =&gt; bool) supportedInterfaces;
    address self;
    bool initialized;
    uint8 initializing;
    bytes32 diamondDomainSeparator;
    address contractOwner;
    address pendingOwner;
    uint96 storageVersion;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ds"><a class="header" href="#ds">ds</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DState.sol">Git Source</a></p>
<p>Ds, a pure free function.</p>
<pre><code class="language-solidity">function ds() pure returns (DiamondState storage state);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>state</code></td><td><code>DiamondState</code></td><td>A DiamondState value.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="constants-2"><a class="header" href="#constants-2">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/DState.sol">Git Source</a></p>
<h3 id="diamond_storage_position"><a class="header" href="#diamond_storage_position">DIAMOND_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant DIAMOND_STORAGE_POSITION = keccak256(&quot;kresko.diamond.storage&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diamond"><a class="header" href="#diamond">Diamond</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/diamond/Diamond.sol">Git Source</a></p>
<h2 id="functions-32"><a class="header" href="#functions-32">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<pre><code class="language-solidity">constructor(address owner, FacetCut[] memory facets, Initializer[] memory initializers);
</code></pre>
<h3 id="fallback"><a class="header" href="#fallback">fallback</a></h3>
<p><em>Find the matching <code>facet</code> for the call signature and delegate.
This does not return to its internal call site, it will return directly to the external caller.</em></p>
<pre><code class="language-solidity">fallback() external payable;
</code></pre>
<h3 id="receive"><a class="header" href="#receive">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-9"><a class="header" href="#contents-9">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/factory/DeploymentFactory.sol/contract.DeploymentFactory.html">DeploymentFactory</a></li>
<li><a href="src/contracts/core/factory/IDeploymentFactory.sol/enum.CreationKind.html">CreationKind</a></li>
<li><a href="src/contracts/core/factory/IDeploymentFactory.sol/struct.Deployment.html">Deployment</a></li>
<li><a href="src/contracts/core/factory/IDeploymentFactory.sol/interface.IDeploymentFactory.html">IDeploymentFactory</a></li>
<li><a href="src/contracts/core/factory/TransparentUpgradeableProxy.sol/contract.TransparentUpgradeableProxy.html">TransparentUpgradeableProxy</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deploymentfactory"><a class="header" href="#deploymentfactory">DeploymentFactory</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/factory/DeploymentFactory.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ProxyAdmin, <a href="src/contracts/core/factory/DeploymentFactory.sol//docs/book/src/src/contracts/core/factory/IDeploymentFactory.sol/interface.IDeploymentFactory.html">IDeploymentFactory</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Deploys contracts, optionally with a {TransparentUpgradeableProxy}. Is the (immutable) admin of proxies.</p>
<p>Upgrades of proxies are only available for the owner of the DeploymentFactory.</p>
<p>Deployments can be made by the owner or whitelisted deployer.</p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="_deployer"><a class="header" href="#_deployer">_deployer</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) private _deployer;
</code></pre>
<h3 id="_deployment"><a class="header" href="#_deployment">_deployment</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; Deployment) private _deployment;
</code></pre>
<h3 id="_deploymentlist"><a class="header" href="#_deploymentlist">_deploymentList</a></h3>
<pre><code class="language-solidity">Deployment[] private _deploymentList;
</code></pre>
<h2 id="functions-33"><a class="header" href="#functions-33">Functions</a></h2>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<p><em>Set the initial owner of the contract.</em></p>
<pre><code class="language-solidity">constructor(address initialOwner) ProxyAdmin(initialOwner);
</code></pre>
<h3 id="setdeployer"><a class="header" href="#setdeployer">setDeployer</a></h3>
<pre><code class="language-solidity">function setDeployer(address who, bool value) external onlyOwner;
</code></pre>
<h3 id="isdeployer"><a class="header" href="#isdeployer">isDeployer</a></h3>
<pre><code class="language-solidity">function isDeployer(address who) external view returns (bool);
</code></pre>
<h3 id="onlydeployerorowner"><a class="header" href="#onlydeployerorowner">onlyDeployerOrOwner</a></h3>
<pre><code class="language-solidity">modifier onlyDeployerOrOwner();
</code></pre>
<h3 id="getdeployment"><a class="header" href="#getdeployment">getDeployment</a></h3>
<p>Get available deployment information for address.</p>
<pre><code class="language-solidity">function getDeployment(address addr) external view returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addr</code></td><td><code>address</code></td><td>Address of the contract.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>Deployment Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="getlatestdeployments"><a class="header" href="#getlatestdeployments">getLatestDeployments</a></h3>
<p>Get the topmost <code>count</code> of deployments.</p>
<pre><code class="language-solidity">function getLatestDeployments(uint256 count) external view returns (Deployment[] memory result);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>result</code></td><td><code>Deployment[]</code></td><td>Deployment[] List of information about the deployments.</td></tr>
</tbody></table>
</div>
<h3 id="getdeploybyindex"><a class="header" href="#getdeploybyindex">getDeployByIndex</a></h3>
<p>Get available information of deployment in index.</p>
<pre><code class="language-solidity">function getDeployByIndex(uint256 index) external view returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>index</code></td><td><code>uint256</code></td><td>Index of the deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>Deployment Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="getdeployments"><a class="header" href="#getdeployments">getDeployments</a></h3>
<p>Get all deployments.</p>
<pre><code class="language-solidity">function getDeployments() external view returns (Deployment[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment[]</code></td><td>Deployment[] Array of deployments.</td></tr>
</tbody></table>
</div>
<h3 id="getdeploycount"><a class="header" href="#getdeploycount">getDeployCount</a></h3>
<p>Get number of deployments.</p>
<pre><code class="language-solidity">function getDeployCount() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Number of deployments.</td></tr>
</tbody></table>
</div>
<h3 id="isdeployment"><a class="header" href="#isdeployment">isDeployment</a></h3>
<p>Inspect if an address is created by this contract.</p>
<pre><code class="language-solidity">function isDeployment(address addr) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addr</code></td><td><code>address</code></td><td>Address to inspect</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool True if deployment was created by this contract.</td></tr>
</tbody></table>
</div>
<h3 id="isnonproxy"><a class="header" href="#isnonproxy">isNonProxy</a></h3>
<p>Inspect if an address is a non proxy deployment created by this contract.</p>
<pre><code class="language-solidity">function isNonProxy(address addr) external view returns (bool);
</code></pre>
<h3 id="isproxy"><a class="header" href="#isproxy">isProxy</a></h3>
<p>Inspect if an address is a proxy created by this contract.</p>
<pre><code class="language-solidity">function isProxy(address addr) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addr</code></td><td><code>address</code></td><td>Address to inspect</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool True if proxy was created by this contract.</td></tr>
</tbody></table>
</div>
<h3 id="isdeterministic"><a class="header" href="#isdeterministic">isDeterministic</a></h3>
<pre><code class="language-solidity">function isDeterministic(address addr) public view returns (bool);
</code></pre>
<h3 id="getimplementation"><a class="header" href="#getimplementation">getImplementation</a></h3>
<p>Inspect the current implementation address of a proxy.</p>
<pre><code class="language-solidity">function getImplementation(address proxy) external view override returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxy</code></td><td><code>address</code></td><td>Address of the proxy.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>address Implementation address of the proxy</td></tr>
</tbody></table>
</div>
<h3 id="getproxyinitcodehash"><a class="header" href="#getproxyinitcodehash">getProxyInitCodeHash</a></h3>
<p>Get the init code hash for a proxy.</p>
<pre><code class="language-solidity">function getProxyInitCodeHash(address implementation, bytes memory _calldata) public view returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Address of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>bytes32 Hash of the init code.</td></tr>
</tbody></table>
</div>
<h3 id="getcreate2address"><a class="header" href="#getcreate2address">getCreate2Address</a></h3>
<p>Preview address from CREATE2 with given salt and creation code.</p>
<pre><code class="language-solidity">function getCreate2Address(bytes32 salt, bytes memory creationCode) public view returns (address);
</code></pre>
<h3 id="getcreate3address"><a class="header" href="#getcreate3address">getCreate3Address</a></h3>
<p>Preview address from CREATE3 with given salt.</p>
<pre><code class="language-solidity">function getCreate3Address(bytes32 salt) public view returns (address);
</code></pre>
<h3 id="previewcreateproxy"><a class="header" href="#previewcreateproxy">previewCreateProxy</a></h3>
<pre><code class="language-solidity">function previewCreateProxy(address implementation, bytes memory _calldata) external returns (address proxyPreview);
</code></pre>
<h3 id="previewcreate2proxy"><a class="header" href="#previewcreate2proxy">previewCreate2Proxy</a></h3>
<p>Preview resulting proxy address from {create2AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate2Proxy(address implementation, bytes memory _calldata, bytes32 salt)
    public
    view
    returns (address proxyPreview);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Address of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxyPreview</code></td><td><code>address</code></td><td>Address of the proxy that would be created.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreate3proxy"><a class="header" href="#previewcreate3proxy">previewCreate3Proxy</a></h3>
<p>Preview resulting proxy address from {create3AndCall} or {deployCreate3AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate3Proxy(bytes32 salt) external view returns (address proxyPreview);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxyPreview</code></td><td><code>address</code></td><td>Address of the proxy that would be created.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreateproxyandlogic"><a class="header" href="#previewcreateproxyandlogic">previewCreateProxyAndLogic</a></h3>
<pre><code class="language-solidity">function previewCreateProxyAndLogic(bytes memory implementation, bytes memory _calldata)
    external
    returns (address proxyPreview, address implementationPreview);
</code></pre>
<h3 id="previewcreate2proxyandlogic"><a class="header" href="#previewcreate2proxyandlogic">previewCreate2ProxyAndLogic</a></h3>
<p>Preview resulting proxy and implementation address from {deployCreate2AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate2ProxyAndLogic(bytes memory implementation, bytes memory _calldata, bytes32 salt)
    external
    view
    returns (address proxyPreview, address implementationPreview);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxyPreview</code></td><td><code>address</code></td><td>Address of the proxy that would be created.</td></tr>
<tr><td><code>implementationPreview</code></td><td><code>address</code></td><td>Address of the deployed implementation.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreate3proxyandlogic"><a class="header" href="#previewcreate3proxyandlogic">previewCreate3ProxyAndLogic</a></h3>
<p>Preview implementation and proxy address from {deployCreate3AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate3ProxyAndLogic(bytes32 salt)
    external
    view
    returns (address proxyPreview, address implementationPreview);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxyPreview</code></td><td><code>address</code></td><td>Address of the new proxy.</td></tr>
<tr><td><code>implementationPreview</code></td><td><code>address</code></td><td>Address of the deployed implementation.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreate2upgrade"><a class="header" href="#previewcreate2upgrade">previewCreate2Upgrade</a></h3>
<p>Preview resulting implementation address from {upgrade2AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate2Upgrade(ITransparentUpgradeableProxy proxy, bytes memory implementation)
    external
    view
    returns (address implementationPreview, uint256 version);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxy</code></td><td><code>ITransparentUpgradeableProxy</code></td><td>Existing ITransparentUpgradeableProxy address.</td></tr>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the new implementation.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementationPreview</code></td><td><code>address</code></td><td>Address for the next implementation.</td></tr>
<tr><td><code>version</code></td><td><code>uint256</code></td><td>New version number of the proxy.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreate3upgrade"><a class="header" href="#previewcreate3upgrade">previewCreate3Upgrade</a></h3>
<p>Preview resulting implementation address from {upgrade3AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate3Upgrade(ITransparentUpgradeableProxy proxy)
    external
    view
    returns (address implementationPreview, uint256 version);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxy</code></td><td><code>ITransparentUpgradeableProxy</code></td><td>Existing ITransparentUpgradeableProxy address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementationPreview</code></td><td><code>address</code></td><td>Address for the next implementation.</td></tr>
<tr><td><code>version</code></td><td><code>uint256</code></td><td>New version number of the proxy.</td></tr>
</tbody></table>
</div>
<h3 id="createproxy"><a class="header" href="#createproxy">createProxy</a></h3>
<p>Creates a new proxy for the <code>implementation</code> and initializes it with <code>data</code>.</p>
<pre><code class="language-solidity">function createProxy(address implementation, bytes memory _calldata)
    public
    payable
    onlyDeployerOrOwner
    returns (Deployment memory newProxy);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Address of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newProxy</code></td><td><code>Deployment</code></td><td>Deployment information. See {TransparentUpgradeableProxy-constructor}.</td></tr>
</tbody></table>
</div>
<h3 id="create2proxy"><a class="header" href="#create2proxy">create2Proxy</a></h3>
<p>Creates a new proxy with deterministic address derived from arguments given.</p>
<pre><code class="language-solidity">function create2Proxy(address implementation, bytes memory _calldata, bytes32 salt)
    public
    payable
    onlyDeployerOrOwner
    returns (Deployment memory newProxy);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Address of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newProxy</code></td><td><code>Deployment</code></td><td>Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="create3proxy"><a class="header" href="#create3proxy">create3Proxy</a></h3>
<p>Creates a new proxy with deterministic address derived only from the salt given.</p>
<pre><code class="language-solidity">function create3Proxy(address implementation, bytes memory _calldata, bytes32 salt)
    public
    payable
    onlyDeployerOrOwner
    returns (Deployment memory newProxy);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Address of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newProxy</code></td><td><code>Deployment</code></td><td>Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="createproxyandlogic"><a class="header" href="#createproxyandlogic">createProxyAndLogic</a></h3>
<p>Deploys an implementation and creates a proxy initialized with <code>data</code> for it.</p>
<pre><code class="language-solidity">function createProxyAndLogic(bytes memory implementation, bytes memory _calldata)
    external
    payable
    onlyDeployerOrOwner
    returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>newProxy Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="create2proxyandlogic"><a class="header" href="#create2proxyandlogic">create2ProxyAndLogic</a></h3>
<p>Deterministic version of {deployCreateAndCall} where arguments are used to derive the salt.</p>
<p><em>Implementation salt is salt + 1. Use {previewDeployCreate3} to preview.</em></p>
<pre><code class="language-solidity">function create2ProxyAndLogic(bytes memory implementation, bytes memory _calldata, bytes32 salt)
    external
    payable
    onlyDeployerOrOwner
    returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt to derive both addresses from.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>newProxy Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="create3proxyandlogic"><a class="header" href="#create3proxyandlogic">create3ProxyAndLogic</a></h3>
<p>Deterministic version of {deployCreateAndCall} where only salt matters.</p>
<p><em>Implementation salt is salt + 1. Use {previewDeployCreate3} to preview.</em></p>
<pre><code class="language-solidity">function create3ProxyAndLogic(bytes memory implementation, bytes memory _calldata, bytes32 salt)
    external
    payable
    onlyDeployerOrOwner
    returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the implementation to deploy.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt to derive both addresses from.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>newProxy Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="upgradeandcall"><a class="header" href="#upgradeandcall">upgradeAndCall</a></h3>
<pre><code class="language-solidity">function upgradeAndCall(ITransparentUpgradeableProxy proxy, address implementation, bytes memory _calldata)
    public
    payable
    override(ProxyAdmin);
</code></pre>
<h3 id="upgradeandcall-1"><a class="header" href="#upgradeandcall-1">upgradeAndCall</a></h3>
<p>Deploys the @param implementation for {upgradeAndCall} and @return Deployment information.</p>
<pre><code class="language-solidity">function upgradeAndCall(ITransparentUpgradeableProxy proxy, bytes memory implementation, bytes memory _calldata)
    external
    payable
    returns (Deployment memory);
</code></pre>
<h3 id="upgradeandcallreturn"><a class="header" href="#upgradeandcallreturn">upgradeAndCallReturn</a></h3>
<p>Same as {upgradeAndCall} but @return Deployment information.</p>
<pre><code class="language-solidity">function upgradeAndCallReturn(ITransparentUpgradeableProxy proxy, address implementation, bytes memory _calldata)
    public
    payable
    returns (Deployment memory);
</code></pre>
<h3 id="create2upgradeandcall"><a class="header" href="#create2upgradeandcall">create2UpgradeAndCall</a></h3>
<p>Deterministically deploys the upgrade implementation and calls the {ProxyAdmin-upgradeAndCall}.</p>
<p><em>Implementation salt is salt + next version. Use {previewUpgrade2} to preview.</em></p>
<pre><code class="language-solidity">function create2UpgradeAndCall(ITransparentUpgradeableProxy proxy, bytes memory implementation, bytes memory _calldata)
    external
    payable
    returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxy</code></td><td><code>ITransparentUpgradeableProxy</code></td><td>Existing ITransparentUpgradeableProxy to upgrade.</td></tr>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the new implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>Deployment Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="create3upgradeandcall"><a class="header" href="#create3upgradeandcall">create3UpgradeAndCall</a></h3>
<p>Deterministically deploys the upgrade implementatio and calls the {ProxyAdmin-upgradeAndCall}.</p>
<p><em>Implementation salt is salt + next version. Use {previewUpgrade3} to preview.</em></p>
<pre><code class="language-solidity">function create3UpgradeAndCall(ITransparentUpgradeableProxy proxy, bytes memory implementation, bytes memory _calldata)
    public
    payable
    returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxy</code></td><td><code>ITransparentUpgradeableProxy</code></td><td>Existing ITransparentUpgradeableProxy to upgrade.</td></tr>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the new implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>Deployment Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="batchstatic"><a class="header" href="#batchstatic">batchStatic</a></h3>
<p>Batch view data from this contract.</p>
<pre><code class="language-solidity">function batchStatic(bytes[] calldata calls) external view returns (bytes[] memory results);
</code></pre>
<h3 id="batch"><a class="header" href="#batch">batch</a></h3>
<p>Batch any action in this contract.</p>
<p><em>Reverts if any of the calls fail.</em></p>
<pre><code class="language-solidity">function batch(bytes[] calldata calls) external payable onlyDeployerOrOwner returns (bytes[] memory);
</code></pre>
<h3 id="deploycreate2"><a class="header" href="#deploycreate2">deployCreate2</a></h3>
<pre><code class="language-solidity">function deployCreate2(bytes memory creationCode, bytes calldata _calldata, bytes32 salt)
    external
    payable
    onlyDeployerOrOwner
    returns (Deployment memory newDeployment);
</code></pre>
<h3 id="deploycreate3"><a class="header" href="#deploycreate3">deployCreate3</a></h3>
<pre><code class="language-solidity">function deployCreate3(bytes memory creationCode, bytes calldata _calldata, bytes32 salt)
    external
    payable
    onlyDeployerOrOwner
    returns (Deployment memory newDeployment);
</code></pre>
<h3 id="_save"><a class="header" href="#_save">_save</a></h3>
<p>Updates deployment fields to _deployment and _deploymentList.</p>
<pre><code class="language-solidity">function _save(Deployment memory update) internal returns (Deployment memory);
</code></pre>
<h3 id="_tryparserevert"><a class="header" href="#_tryparserevert">_tryParseRevert</a></h3>
<p>Function that tries to extract some useful information about a failed call.</p>
<p><em>If returned data is malformed or has incorrect encoding this can fail itself.</em></p>
<pre><code class="language-solidity">function _tryParseRevert(bytes memory _returnData) internal pure;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creationkind"><a class="header" href="#creationkind">CreationKind</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/factory/IDeploymentFactory.sol">Git Source</a></p>
<pre><code class="language-solidity">enum CreationKind {
    NONE,
    CREATE,
    CREATE2,
    CREATE3
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deployment-1"><a class="header" href="#deployment-1">Deployment</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/factory/IDeploymentFactory.sol">Git Source</a></p>
<p>Deployment information</p>
<pre><code class="language-solidity">struct Deployment {
    address implementation;
    uint88 updatedAt;
    CreationKind kind;
    ITransparentUpgradeableProxy proxy;
    uint48 index;
    uint48 createdAt;
    uint256 version;
    bytes32 salt;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ideploymentfactory"><a class="header" href="#ideploymentfactory">IDeploymentFactory</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/factory/IDeploymentFactory.sol">Git Source</a></p>
<h2 id="functions-34"><a class="header" href="#functions-34">Functions</a></h2>
<h3 id="setdeployer-1"><a class="header" href="#setdeployer-1">setDeployer</a></h3>
<pre><code class="language-solidity">function setDeployer(address who, bool value) external;
</code></pre>
<h3 id="isdeployer-1"><a class="header" href="#isdeployer-1">isDeployer</a></h3>
<pre><code class="language-solidity">function isDeployer(address who) external view returns (bool);
</code></pre>
<h3 id="getdeployment-1"><a class="header" href="#getdeployment-1">getDeployment</a></h3>
<p>Get available deployment information for address.</p>
<pre><code class="language-solidity">function getDeployment(address addr) external view returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addr</code></td><td><code>address</code></td><td>Address of the contract.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>Deployment Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="getlatestdeployments-1"><a class="header" href="#getlatestdeployments-1">getLatestDeployments</a></h3>
<p>Get the topmost <code>count</code> of deployments.</p>
<pre><code class="language-solidity">function getLatestDeployments(uint256 count) external view returns (Deployment[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment[]</code></td><td>Deployment[] List of information about the deployments.</td></tr>
</tbody></table>
</div>
<h3 id="getdeploybyindex-1"><a class="header" href="#getdeploybyindex-1">getDeployByIndex</a></h3>
<p>Get available information of deployment in index.</p>
<pre><code class="language-solidity">function getDeployByIndex(uint256 index) external view returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>index</code></td><td><code>uint256</code></td><td>Index of the deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>Deployment Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="getdeployments-1"><a class="header" href="#getdeployments-1">getDeployments</a></h3>
<p>Get all deployments.</p>
<pre><code class="language-solidity">function getDeployments() external view returns (Deployment[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment[]</code></td><td>Deployment[] Array of deployments.</td></tr>
</tbody></table>
</div>
<h3 id="getdeploycount-1"><a class="header" href="#getdeploycount-1">getDeployCount</a></h3>
<p>Get number of deployments.</p>
<pre><code class="language-solidity">function getDeployCount() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Number of deployments.</td></tr>
</tbody></table>
</div>
<h3 id="isdeployment-1"><a class="header" href="#isdeployment-1">isDeployment</a></h3>
<p>Inspect if an address is created by this contract.</p>
<pre><code class="language-solidity">function isDeployment(address addr) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addr</code></td><td><code>address</code></td><td>Address to inspect</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool True if deployment was created by this contract.</td></tr>
</tbody></table>
</div>
<h3 id="isproxy-1"><a class="header" href="#isproxy-1">isProxy</a></h3>
<p>Inspect if an address is a proxy created by this contract.</p>
<pre><code class="language-solidity">function isProxy(address addr) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addr</code></td><td><code>address</code></td><td>Address to inspect</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool True if proxy was created by this contract.</td></tr>
</tbody></table>
</div>
<h3 id="isnonproxy-1"><a class="header" href="#isnonproxy-1">isNonProxy</a></h3>
<p>Inspect if an address is a non proxy deployment created by this contract.</p>
<pre><code class="language-solidity">function isNonProxy(address addr) external view returns (bool);
</code></pre>
<h3 id="isdeterministic-1"><a class="header" href="#isdeterministic-1">isDeterministic</a></h3>
<pre><code class="language-solidity">function isDeterministic(address addr) external view returns (bool);
</code></pre>
<h3 id="getimplementation-1"><a class="header" href="#getimplementation-1">getImplementation</a></h3>
<p>Inspect the current implementation address of a proxy.</p>
<pre><code class="language-solidity">function getImplementation(address proxy) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxy</code></td><td><code>address</code></td><td>Address of the proxy.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>address Implementation address of the proxy</td></tr>
</tbody></table>
</div>
<h3 id="getproxyinitcodehash-1"><a class="header" href="#getproxyinitcodehash-1">getProxyInitCodeHash</a></h3>
<p>Get the init code hash for a proxy.</p>
<pre><code class="language-solidity">function getProxyInitCodeHash(address implementation, bytes memory data) external view returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Address of the implementation.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>bytes32 Hash of the init code.</td></tr>
</tbody></table>
</div>
<h3 id="getcreate2address-1"><a class="header" href="#getcreate2address-1">getCreate2Address</a></h3>
<p>Preview address from CREATE2 with given salt and creation code.</p>
<pre><code class="language-solidity">function getCreate2Address(bytes32 _salt, bytes memory _creationCode) external view returns (address);
</code></pre>
<h3 id="getcreate3address-1"><a class="header" href="#getcreate3address-1">getCreate3Address</a></h3>
<p>Preview address from CREATE3 with given salt.</p>
<pre><code class="language-solidity">function getCreate3Address(bytes32 salt) external view returns (address);
</code></pre>
<h3 id="previewcreateproxy-1"><a class="header" href="#previewcreateproxy-1">previewCreateProxy</a></h3>
<p>Preview proxy address from {createProxy} through {CreateProxyPreview} custom error.</p>
<pre><code class="language-solidity">function previewCreateProxy(address implementation, bytes memory _calldata) external returns (address proxyPreview);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Bytecode of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxyPreview</code></td><td><code>address</code></td><td>Address of the proxy that would be created.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreate2proxy-1"><a class="header" href="#previewcreate2proxy-1">previewCreate2Proxy</a></h3>
<p>Preview resulting proxy address from {create2AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate2Proxy(address implementation, bytes memory _calldata, bytes32 salt)
    external
    view
    returns (address proxyPreview);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Address of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxyPreview</code></td><td><code>address</code></td><td>Address of the proxy that would be created.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreate3proxy-1"><a class="header" href="#previewcreate3proxy-1">previewCreate3Proxy</a></h3>
<p>Preview resulting proxy address from {create3AndCall} or {deployCreate3AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate3Proxy(bytes32 salt) external view returns (address proxyPreview);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxyPreview</code></td><td><code>address</code></td><td>Address of the proxy that would be created.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreateproxyandlogic-1"><a class="header" href="#previewcreateproxyandlogic-1">previewCreateProxyAndLogic</a></h3>
<p>Preview resulting proxy and implementation address from {deployCreateAndCall} through the {CreateProxyAndLogic} custom error.</p>
<pre><code class="language-solidity">function previewCreateProxyAndLogic(bytes memory implementation, bytes memory _calldata)
    external
    returns (address proxyPreview, address implementationPreview);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxyPreview</code></td><td><code>address</code></td><td>Address of the proxy that would be created.</td></tr>
<tr><td><code>implementationPreview</code></td><td><code>address</code></td><td>Address of the deployed implementation.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreate2proxyandlogic-1"><a class="header" href="#previewcreate2proxyandlogic-1">previewCreate2ProxyAndLogic</a></h3>
<p>Preview resulting proxy and implementation address from {deployCreate2AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate2ProxyAndLogic(bytes memory implementation, bytes memory _calldata, bytes32 salt)
    external
    view
    returns (address proxyPreview, address implementationPreview);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxyPreview</code></td><td><code>address</code></td><td>Address of the proxy that would be created.</td></tr>
<tr><td><code>implementationPreview</code></td><td><code>address</code></td><td>Address of the deployed implementation.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreate3proxyandlogic-1"><a class="header" href="#previewcreate3proxyandlogic-1">previewCreate3ProxyAndLogic</a></h3>
<p>Preview implementation and proxy address from {deployCreate3AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate3ProxyAndLogic(bytes32 salt)
    external
    view
    returns (address proxyPreview, address implementationPreview);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxyPreview</code></td><td><code>address</code></td><td>Address of the new proxy.</td></tr>
<tr><td><code>implementationPreview</code></td><td><code>address</code></td><td>Address of the deployed implementation.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreate2upgrade-1"><a class="header" href="#previewcreate2upgrade-1">previewCreate2Upgrade</a></h3>
<p>Preview resulting implementation address from {upgrade2AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate2Upgrade(ITransparentUpgradeableProxy proxy, bytes memory implementation)
    external
    view
    returns (address implementationPreview, uint256 version);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxy</code></td><td><code>ITransparentUpgradeableProxy</code></td><td>Existing ITransparentUpgradeableProxy address.</td></tr>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the new implementation.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementationPreview</code></td><td><code>address</code></td><td>Address for the next implementation.</td></tr>
<tr><td><code>version</code></td><td><code>uint256</code></td><td>New version number of the proxy.</td></tr>
</tbody></table>
</div>
<h3 id="previewcreate3upgrade-1"><a class="header" href="#previewcreate3upgrade-1">previewCreate3Upgrade</a></h3>
<p>Preview resulting implementation address from {upgrade3AndCall} with given salt.</p>
<pre><code class="language-solidity">function previewCreate3Upgrade(ITransparentUpgradeableProxy proxy)
    external
    view
    returns (address implementationPreview, uint256 version);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxy</code></td><td><code>ITransparentUpgradeableProxy</code></td><td>Existing ITransparentUpgradeableProxy address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementationPreview</code></td><td><code>address</code></td><td>Address for the next implementation.</td></tr>
<tr><td><code>version</code></td><td><code>uint256</code></td><td>New version number of the proxy.</td></tr>
</tbody></table>
</div>
<h3 id="createproxy-1"><a class="header" href="#createproxy-1">createProxy</a></h3>
<p>Creates a new proxy for the <code>implementation</code> and initializes it with <code>data</code>.</p>
<pre><code class="language-solidity">function createProxy(address implementation, bytes memory _calldata)
    external
    payable
    returns (Deployment memory newProxy);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Address of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newProxy</code></td><td><code>Deployment</code></td><td>Deployment information. See {TransparentUpgradeableProxy-constructor}.</td></tr>
</tbody></table>
</div>
<h3 id="create2proxy-1"><a class="header" href="#create2proxy-1">create2Proxy</a></h3>
<p>Creates a new proxy with deterministic address derived from arguments given.</p>
<pre><code class="language-solidity">function create2Proxy(address implementation, bytes memory _calldata, bytes32 salt)
    external
    payable
    returns (Deployment memory newProxy);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Address of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newProxy</code></td><td><code>Deployment</code></td><td>Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="create3proxy-1"><a class="header" href="#create3proxy-1">create3Proxy</a></h3>
<p>Creates a new proxy with deterministic address derived only from the salt given.</p>
<pre><code class="language-solidity">function create3Proxy(address implementation, bytes memory _calldata, bytes32 salt)
    external
    payable
    returns (Deployment memory newProxy);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>address</code></td><td>Address of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt for the deterministic deployment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newProxy</code></td><td><code>Deployment</code></td><td>Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="createproxyandlogic-1"><a class="header" href="#createproxyandlogic-1">createProxyAndLogic</a></h3>
<p>Deploys an implementation and creates a proxy initialized with <code>data</code> for it.</p>
<pre><code class="language-solidity">function createProxyAndLogic(bytes memory implementation, bytes memory _calldata)
    external
    payable
    returns (Deployment memory newProxy);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newProxy</code></td><td><code>Deployment</code></td><td>Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="create2proxyandlogic-1"><a class="header" href="#create2proxyandlogic-1">create2ProxyAndLogic</a></h3>
<p>Deterministic version of {deployCreateAndCall} where arguments are used to derive the salt.</p>
<p><em>Implementation salt is salt + 1. Use {previewDeployCreate3} to preview.</em></p>
<pre><code class="language-solidity">function create2ProxyAndLogic(bytes memory implementation, bytes memory _calldata, bytes32 salt)
    external
    payable
    returns (Deployment memory newProxy);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt to derive both addresses from.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newProxy</code></td><td><code>Deployment</code></td><td>Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="create3proxyandlogic-1"><a class="header" href="#create3proxyandlogic-1">create3ProxyAndLogic</a></h3>
<p>Deterministic version of {deployCreateAndCall} where only salt matters.</p>
<p><em>Implementation salt is salt + 1. Use {previewDeployCreate3} to preview.</em></p>
<pre><code class="language-solidity">function create3ProxyAndLogic(bytes memory implementation, bytes memory _calldata, bytes32 salt)
    external
    payable
    returns (Deployment memory newProxy);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the implementation to deploy.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>Salt to derive both addresses from.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newProxy</code></td><td><code>Deployment</code></td><td>Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="upgradeandcall-2"><a class="header" href="#upgradeandcall-2">upgradeAndCall</a></h3>
<p>Deploys the @param implementation for {upgradeAndCall} and @return Deployment information.</p>
<pre><code class="language-solidity">function upgradeAndCall(ITransparentUpgradeableProxy proxy, bytes memory implementation, bytes memory _calldata)
    external
    payable
    returns (Deployment memory);
</code></pre>
<h3 id="upgradeandcallreturn-1"><a class="header" href="#upgradeandcallreturn-1">upgradeAndCallReturn</a></h3>
<p>Same as {upgradeAndCall} but @return Deployment information.</p>
<pre><code class="language-solidity">function upgradeAndCallReturn(ITransparentUpgradeableProxy proxy, address implementation, bytes memory _calldata)
    external
    payable
    returns (Deployment memory);
</code></pre>
<h3 id="create2upgradeandcall-1"><a class="header" href="#create2upgradeandcall-1">create2UpgradeAndCall</a></h3>
<p>Deterministically deploys the upgrade implementation and calls the {ProxyAdmin-upgradeAndCall}.</p>
<p><em>Implementation salt is salt + next version. Use {previewUpgrade2} to preview.</em></p>
<pre><code class="language-solidity">function create2UpgradeAndCall(ITransparentUpgradeableProxy proxy, bytes memory implementation, bytes memory _calldata)
    external
    payable
    returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxy</code></td><td><code>ITransparentUpgradeableProxy</code></td><td>Existing ITransparentUpgradeableProxy to upgrade.</td></tr>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the new implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>Deployment Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="create3upgradeandcall-1"><a class="header" href="#create3upgradeandcall-1">create3UpgradeAndCall</a></h3>
<p>Deterministically deploys the upgrade implementatio and calls the {ProxyAdmin-upgradeAndCall}.</p>
<p><em>Implementation salt is salt + next version. Use {previewUpgrade3} to preview.</em></p>
<pre><code class="language-solidity">function create3UpgradeAndCall(ITransparentUpgradeableProxy proxy, bytes memory implementation, bytes memory _calldata)
    external
    payable
    returns (Deployment memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>proxy</code></td><td><code>ITransparentUpgradeableProxy</code></td><td>Existing ITransparentUpgradeableProxy to upgrade.</td></tr>
<tr><td><code>implementation</code></td><td><code>bytes</code></td><td>Bytecode of the new implementation.</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>Initializer calldata.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Deployment</code></td><td>Deployment Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="deploycreate2-1"><a class="header" href="#deploycreate2-1">deployCreate2</a></h3>
<p>Deploy contract using create2.</p>
<pre><code class="language-solidity">function deployCreate2(bytes memory creationCode, bytes memory _calldata, bytes32 salt)
    external
    payable
    returns (Deployment memory newDeployment);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creationCode</code></td><td><code>bytes</code></td><td>The creation code (bytes).</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>The calldata (bytes).</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>The salt (bytes32).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newDeployment</code></td><td><code>Deployment</code></td><td>Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="deploycreate3-1"><a class="header" href="#deploycreate3-1">deployCreate3</a></h3>
<p>Deploy contract using create3.</p>
<pre><code class="language-solidity">function deployCreate3(bytes memory creationCode, bytes memory _calldata, bytes32 salt)
    external
    payable
    returns (Deployment memory newDeployment);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creationCode</code></td><td><code>bytes</code></td><td>The creation code (bytes).</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>The calldata (bytes).</td></tr>
<tr><td><code>salt</code></td><td><code>bytes32</code></td><td>The salt (bytes32).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newDeployment</code></td><td><code>Deployment</code></td><td>Deployment information.</td></tr>
</tbody></table>
</div>
<h3 id="batch-1"><a class="header" href="#batch-1">batch</a></h3>
<p>Batch any action in this contract.</p>
<p><em>Reverts if any of the calls fail.</em></p>
<p><em>Delegates to self which keeps context, so msg.value is fine.</em></p>
<pre><code class="language-solidity">function batch(bytes[] calldata calls) external payable returns (bytes[] memory results);
</code></pre>
<h3 id="batchstatic-1"><a class="header" href="#batchstatic-1">batchStatic</a></h3>
<p>Batch view data from this contract.</p>
<pre><code class="language-solidity">function batchStatic(bytes[] calldata calls) external view returns (bytes[] memory results);
</code></pre>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<h3 id="deployerset"><a class="header" href="#deployerset">DeployerSet</a></h3>
<pre><code class="language-solidity">event DeployerSet(address, bool);
</code></pre>
<h3 id="deployed"><a class="header" href="#deployed">Deployed</a></h3>
<pre><code class="language-solidity">event Deployed(Deployment);
</code></pre>
<h3 id="upgrade"><a class="header" href="#upgrade">Upgrade</a></h3>
<pre><code class="language-solidity">event Upgrade(Deployment);
</code></pre>
<h2 id="errors-3"><a class="header" href="#errors-3">Errors</a></h2>
<h3 id="batchrevertsilentorcustomerror"><a class="header" href="#batchrevertsilentorcustomerror">BatchRevertSilentOrCustomError</a></h3>
<pre><code class="language-solidity">error BatchRevertSilentOrCustomError(bytes innerError);
</code></pre>
<h3 id="createproxypreview"><a class="header" href="#createproxypreview">CreateProxyPreview</a></h3>
<pre><code class="language-solidity">error CreateProxyPreview(address proxy);
</code></pre>
<h3 id="createproxyandlogicpreview"><a class="header" href="#createproxyandlogicpreview">CreateProxyAndLogicPreview</a></h3>
<pre><code class="language-solidity">error CreateProxyAndLogicPreview(address proxy, address implementation);
</code></pre>
<h3 id="invalidkind"><a class="header" href="#invalidkind">InvalidKind</a></h3>
<pre><code class="language-solidity">error InvalidKind(Deployment);
</code></pre>
<h3 id="arraylengthmismatch"><a class="header" href="#arraylengthmismatch">ArrayLengthMismatch</a></h3>
<pre><code class="language-solidity">error ArrayLengthMismatch(uint256 proxies, uint256 implementations, uint256 datas);
</code></pre>
<h3 id="invalidsalt"><a class="header" href="#invalidsalt">InvalidSalt</a></h3>
<pre><code class="language-solidity">error InvalidSalt(Deployment);
</code></pre>
<h3 id="deployeralreadyset"><a class="header" href="#deployeralreadyset">DeployerAlreadySet</a></h3>
<pre><code class="language-solidity">error DeployerAlreadySet(address, bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="transparentupgradeableproxy"><a class="header" href="#transparentupgradeableproxy">TransparentUpgradeableProxy</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/factory/TransparentUpgradeableProxy.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC1967Proxy</p>
<p>*This contract implements a proxy that is upgradeable through an associated {ProxyAdmin} instance.
To avoid https://medium.com/nomic-labs-blog/malicious-backdoors-in-ethereum-proxies-62629adf3357[proxy selector
clashing], which can potentially be used in an attack, this contract uses the
https://blog.openzeppelin.com/the-transparent-proxy-pattern/[transparent proxy pattern]. This pattern implies two
things that go hand in hand:</p>
<ol>
<li>If any account other than the admin calls the proxy, the call will be forwarded to the implementation, even if
that call matches the {ITransparentUpgradeableProxy-upgradeToAndCall} function exposed by the proxy itself.</li>
<li>If the admin calls the proxy, it can call the <code>upgradeToAndCall</code> function but any other call won't be forwarded to
the implementation. If the admin tries to call a function on the implementation it will fail with an error indicating
the proxy admin cannot fallback to the target implementation.
These properties mean that the admin account can only be used for upgrading the proxy, so it's best if it's a
dedicated account that is not used for anything else. This will avoid headaches due to sudden errors when trying to
call a function from the proxy implementation. For this reason, the proxy deploys an instance of {ProxyAdmin} and
allows upgrades only if they come through it. You should think of the <code>ProxyAdmin</code> instance as the administrative
interface of the proxy, including the ability to change who can trigger upgrades by transferring ownership.
NOTE: The real interface of this proxy is that defined in <code>ITransparentUpgradeableProxy</code>. This contract does not
inherit from that interface, and instead <code>upgradeToAndCall</code> is implicitly implemented using a custom dispatch
mechanism in <code>_fallback</code>. Consequently, the compiler will not produce an ABI for this contract. This is necessary to
fully implement transparency without decoding reverts caused by selector clashes between the proxy and the
implementation.
NOTE: This proxy does not inherit from {Context} deliberately. The {ProxyAdmin} of this contract won't send a
meta-transaction in any way, and any other meta-transaction setup should be made in the implementation contract.
IMPORTANT: This contract avoids unnecessary storage reads by setting the admin only during construction as an
immutable variable, preventing any changes thereafter. However, the admin slot defined in ERC-1967 can still be
overwritten by the implementation logic pointed to by this proxy. In such cases, the contract may end up in an
undesirable state where the admin slot is different from the actual admin.
WARNING: It is not recommended to extend this contract to add additional external functions. If you do so, the
compiler will not check that there are no selector conflicts, due to the note above. A selector clash between any new
function and the functions declared in {ITransparentUpgradeableProxy} will be resolved in favor of the new one. This
could render the <code>upgradeToAndCall</code> function inaccessible, preventing upgradeability and compromising transparency.*</li>
</ol>
<h2 id="state-variables-4"><a class="header" href="#state-variables-4">State Variables</a></h2>
<h3 id="_admin"><a class="header" href="#_admin">_admin</a></h3>
<pre><code class="language-solidity">address private immutable _admin;
</code></pre>
<h2 id="functions-35"><a class="header" href="#functions-35">Functions</a></h2>
<h3 id="constructor-2"><a class="header" href="#constructor-2">constructor</a></h3>
<p>Kresko</p>
<p><em>Initializes an upgradeable proxy managed by an instance of a {ProxyAdmin} with an <code>initialOwner</code>,
backed by the implementation at <code>_logic</code>, and optionally initialized with <code>_data</code> as explained in
{ERC1967Proxy-constructor}.</em></p>
<p><em>Removed ProxyAdmin construction - instead using the creator {DeploymentFactory} as {ProxyAdmin}.</em></p>
<p><em>Factory address is explicitly passed as argument (and not as msg.sender) to support &quot;CREATE3&quot;.</em></p>
<pre><code class="language-solidity">constructor(address _logic, address _factory, bytes memory _data) payable ERC1967Proxy(_logic, _data);
</code></pre>
<h3 id="_proxyadmin"><a class="header" href="#_proxyadmin">_proxyAdmin</a></h3>
<p><em>Returns the admin of this proxy.</em></p>
<pre><code class="language-solidity">function _proxyAdmin() internal virtual returns (address);
</code></pre>
<h3 id="_fallback"><a class="header" href="#_fallback">_fallback</a></h3>
<p><em>If caller is the admin process the call internally, otherwise transparently fallback to the proxy behavior.</em></p>
<pre><code class="language-solidity">function _fallback() internal virtual override;
</code></pre>
<h3 id="_dispatchupgradetoandcall"><a class="header" href="#_dispatchupgradetoandcall">_dispatchUpgradeToAndCall</a></h3>
<p>*Upgrade the implementation of the proxy. See {ERC1967Utils-upgradeToAndCall}.
Requirements:</p>
<ul>
<li>If <code>data</code> is empty, <code>msg.value</code> must be zero.*</li>
</ul>
<pre><code class="language-solidity">function _dispatchUpgradeToAndCall() private;
</code></pre>
<h2 id="errors-4"><a class="header" href="#errors-4">Errors</a></h2>
<h3 id="proxydeniedadminaccess"><a class="header" href="#proxydeniedadminaccess">ProxyDeniedAdminAccess</a></h3>
<p><em>The proxy caller is the current admin, and can't fallback to the proxy target.</em></p>
<pre><code class="language-solidity">error ProxyDeniedAdminAccess();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-10"><a class="header" href="#contents-10">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/kiss//src/contracts/core/kiss/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/kiss/KISS.sol/contract.KISS.html">KISS</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-11"><a class="header" href="#contents-11">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/kiss/interfaces/IKISS.sol/interface.IKISS.html">IKISS</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ikiss"><a class="header" href="#ikiss">IKISS</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kiss/interfaces/IKISS.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kiss/interfaces/IKISS.sol//docs/book/src/src/contracts/core/vault/interfaces/IVaultExtender.sol/interface.IVaultExtender.html">IVaultExtender</a>, <a href="src/contracts/core/kiss/interfaces/IKISS.sol//docs/book/src/src/contracts/core/kresko-asset/IKreskoAssetIssuer.sol/interface.IKreskoAssetIssuer.html">IKreskoAssetIssuer</a>, <a href="src/contracts/core/kiss/interfaces/IKISS.sol//docs/book/src/src/contracts/core/vendor/IERC165.sol/interface.IERC165.html">IERC165</a></p>
<h2 id="functions-36"><a class="header" href="#functions-36">Functions</a></h2>
<h3 id="issue"><a class="header" href="#issue">issue</a></h3>
<p>This function adds KISS to circulation
Caller must be a contract and have the OPERATOR_ROLE</p>
<pre><code class="language-solidity">function issue(uint256 _amount, address _to) external override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to mint</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to mint tokens to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 amount minted</td></tr>
</tbody></table>
</div>
<h3 id="destroy"><a class="header" href="#destroy">destroy</a></h3>
<p>This function removes KISS from circulation
Caller must be a contract and have the OPERATOR_ROLE</p>
<pre><code class="language-solidity">function destroy(uint256 _amount, address _from) external override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to burn</td></tr>
<tr><td><code>_from</code></td><td><code>address</code></td><td>address to burn tokens from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 amount burned</td></tr>
</tbody></table>
</div>
<h3 id="pause-1"><a class="header" href="#pause-1">pause</a></h3>
<p>Triggers stopped state.
Requirements:</p>
<ul>
<li>The contract must not be paused.</li>
</ul>
<pre><code class="language-solidity">function pause() external;
</code></pre>
<h3 id="unpause"><a class="header" href="#unpause">unpause</a></h3>
<p>Returns to normal state.
Requirements:</p>
<ul>
<li>The contract must be paused.</li>
</ul>
<pre><code class="language-solidity">function unpause() external;
</code></pre>
<h3 id="exchangerate"><a class="header" href="#exchangerate">exchangeRate</a></h3>
<p>Exchange rate of vKISS to USD.</p>
<pre><code class="language-solidity">function exchangeRate() external view returns (uint256 rate);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>rate</code></td><td><code>uint256</code></td><td>vKISS/USD exchange rate.</td></tr>
</tbody></table>
</div>
<h3 id="grantrole-3"><a class="header" href="#grantrole-3">grantRole</a></h3>
<p>Overrides <code>AccessControl.grantRole</code> for following:</p>
<p>EOA cannot be granted Role.OPERATOR role</p>
<pre><code class="language-solidity">function grantRole(bytes32 _role, address _to) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_role</code></td><td><code>bytes32</code></td><td>role to grant</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to grant role for</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="kiss"><a class="header" href="#kiss">KISS</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kiss/KISS.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kiss/KISS.sol//docs/book/src/src/contracts/core/kiss/interfaces/IKISS.sol/interface.IKISS.html">IKISS</a>, ERC20Upgradeable, PausableUpgradeable, AccessControlEnumerableUpgradeable</p>
<p><strong>Author:</strong>
Kresko</p>
<h2 id="state-variables-5"><a class="header" href="#state-variables-5">State Variables</a></h2>
<h3 id="kresko"><a class="header" href="#kresko">kresko</a></h3>
<pre><code class="language-solidity">address public kresko;
</code></pre>
<h3 id="vkiss"><a class="header" href="#vkiss">vKISS</a></h3>
<pre><code class="language-solidity">address public vKISS;
</code></pre>
<h2 id="functions-37"><a class="header" href="#functions-37">Functions</a></h2>
<h3 id="initialize"><a class="header" href="#initialize">initialize</a></h3>
<pre><code class="language-solidity">function initialize(
    string memory name_,
    string memory symbol_,
    uint8 dec_,
    address admin_,
    address kresko_,
    address vKISS_
) external initializer;
</code></pre>
<h3 id="onlycontract"><a class="header" href="#onlycontract">onlyContract</a></h3>
<pre><code class="language-solidity">modifier onlyContract();
</code></pre>
<h3 id="issue-1"><a class="header" href="#issue-1">issue</a></h3>
<p>This function adds KISS to circulation
Caller must be a contract and have the OPERATOR_ROLE</p>
<pre><code class="language-solidity">function issue(uint256 _amount, address _to) public override onlyRole(Role.OPERATOR) returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to mint</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to mint tokens to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 amount minted</td></tr>
</tbody></table>
</div>
<h3 id="destroy-1"><a class="header" href="#destroy-1">destroy</a></h3>
<p>This function removes KISS from circulation
Caller must be a contract and have the OPERATOR_ROLE</p>
<pre><code class="language-solidity">function destroy(uint256 _amount, address _from) external onlyRole(Role.OPERATOR) returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to burn</td></tr>
<tr><td><code>_from</code></td><td><code>address</code></td><td>address to burn tokens from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 amount burned</td></tr>
</tbody></table>
</div>
<h3 id="vaultdeposit"><a class="header" href="#vaultdeposit">vaultDeposit</a></h3>
<p>Deposit tokens to vault for shares and convert them to equal amount of extender token.</p>
<pre><code class="language-solidity">function vaultDeposit(address _assetAddr, uint256 _assets, address _receiver)
    external
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_assets</code></td><td><code>uint256</code></td><td>amount of <code>_assetAddr</code> to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>amount of shares/extender tokens minted</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_assetAddr</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultmint"><a class="header" href="#vaultmint">vaultMint</a></h3>
<p>Deposit supported vault assets to receive <code>_shares</code>, depositing the shares for equal amount of extender token.</p>
<pre><code class="language-solidity">function vaultMint(address _assetAddr, uint256 _shares, address _receiver)
    external
    returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>Amount of shares to receive</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of assets for <code>_shares</code></td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of <code>_assetAddr</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultwithdraw"><a class="header" href="#vaultwithdraw">vaultWithdraw</a></h3>
<p>Withdraw supported vault asset, burning extender tokens and withdrawing shares from vault.</p>
<pre><code class="language-solidity">function vaultWithdraw(address _assetAddr, uint256 _assets, address _receiver, address _owner)
    external
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_assets</code></td><td><code>uint256</code></td><td>amount of <code>_assetAddr</code> to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>Owner of extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>amount of shares/extender tokens burned</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_assetAddr</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultredeem"><a class="header" href="#vaultredeem">vaultRedeem</a></h3>
<p>Withdraw supported vault asset for  <code>_shares</code> of extender tokens.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function vaultRedeem(address _assetAddr, uint256 _shares, address _receiver, address _owner)
    external
    returns (uint256 assetsOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Token to deposit into vault for shares.</td></tr>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>amount of extender tokens to burn</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address to receive assets withdrawn</td></tr>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>Owner of extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>sharesIn amount of shares/extender tokens minted</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_assetAddr</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="deposit"><a class="header" href="#deposit">deposit</a></h3>
<p>Deposit shares for equal amount of extender token.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function deposit(uint256 _shares, address _receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>amount of vault shares to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>address to mint extender tokens to</td></tr>
</tbody></table>
</div>
<h3 id="withdraw"><a class="header" href="#withdraw">withdraw</a></h3>
<p>Withdraw shares for equal amount of extender token.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function withdraw(uint256 _amount, address _receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount of vault extender tokens to burn</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>address to send shares to</td></tr>
</tbody></table>
</div>
<h3 id="withdrawfrom"><a class="header" href="#withdrawfrom">withdrawFrom</a></h3>
<p>Withdraw shares for equal amount of extender token with allowance.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function withdrawFrom(address _from, address _to, uint256 _amount) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_from</code></td><td><code>address</code></td><td>address to burn extender tokens from</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to send shares to</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to convert</td></tr>
</tbody></table>
</div>
<h3 id="pause-2"><a class="header" href="#pause-2">pause</a></h3>
<p>Triggers stopped state.
Requirements:</p>
<ul>
<li>The contract must not be paused.</li>
</ul>
<pre><code class="language-solidity">function pause() public onlyContract onlyRole(Role.ADMIN);
</code></pre>
<h3 id="unpause-1"><a class="header" href="#unpause-1">unpause</a></h3>
<p>Returns to normal state.
Requirements:</p>
<ul>
<li>The contract must be paused.</li>
</ul>
<pre><code class="language-solidity">function unpause() public onlyContract onlyRole(Role.ADMIN);
</code></pre>
<h3 id="grantrole-4"><a class="header" href="#grantrole-4">grantRole</a></h3>
<p>Overrides <code>AccessControl.grantRole</code> for following:</p>
<pre><code class="language-solidity">function grantRole(bytes32 _role, address _to)
    public
    override(IKISS, AccessControlUpgradeable, IAccessControl)
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_role</code></td><td><code>bytes32</code></td><td>role to grant</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to grant role for</td></tr>
</tbody></table>
</div>
<h3 id="exchangerate-1"><a class="header" href="#exchangerate-1">exchangeRate</a></h3>
<p>Exchange rate of vKISS to USD.</p>
<pre><code class="language-solidity">function exchangeRate() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>rate vKISS/USD exchange rate.</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares"><a class="header" href="#converttoshares">convertToShares</a></h3>
<p>Preview conversion from KrAsset amount: @param assets to matching amount of Anchor tokens: @return shares</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets) external pure returns (uint256);
</code></pre>
<h3 id="convertmanytoshares"><a class="header" href="#convertmanytoshares">convertManyToShares</a></h3>
<p>Preview conversion from KrAsset amounts: @param assets to matching amounts of Anchor tokens: @return shares</p>
<pre><code class="language-solidity">function convertManyToShares(uint256[] calldata assets) external pure returns (uint256[] calldata shares);
</code></pre>
<h3 id="converttoassets"><a class="header" href="#converttoassets">convertToAssets</a></h3>
<p>Preview conversion from Anchor token amount: @param shares to matching KrAsset amount: @return assets</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares) external pure returns (uint256);
</code></pre>
<h3 id="convertmanytoassets"><a class="header" href="#convertmanytoassets">convertManyToAssets</a></h3>
<p>Preview conversion from Anchor token amounts: @param shares to matching amounts of KrAssets: @return assets</p>
<pre><code class="language-solidity">function convertManyToAssets(uint256[] calldata shares) external pure returns (uint256[] calldata assets);
</code></pre>
<h3 id="supportsinterface-2"><a class="header" href="#supportsinterface-2">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId)
    public
    view
    override(AccessControlEnumerableUpgradeable, IERC165)
    returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
<h3 id="_withdraw"><a class="header" href="#_withdraw">_withdraw</a></h3>
<pre><code class="language-solidity">function _withdraw(address from, address to, uint256 amount) internal;
</code></pre>
<h3 id="_beforetokentransfer"><a class="header" href="#_beforetokentransfer">_beforeTokenTransfer</a></h3>
<p>*See {ERC20-_beforeTokenTransfer}.
Requirements:</p>
<ul>
<li>the contract must not be paused.*</li>
</ul>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from, address to, uint256 amount) internal override;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-12"><a class="header" href="#contents-12">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/kresko-asset/ERC4626Upgradeable.sol/abstract.ERC4626Upgradeable.html">ERC4626Upgradeable</a></li>
<li><a href="src/contracts/core/kresko-asset/IERC4626Upgradeable.sol/interface.IERC4626Upgradeable.html">IERC4626Upgradeable</a></li>
<li><a href="src/contracts/core/kresko-asset/IKreskoAsset.sol/interface.ISyncable.html">ISyncable</a></li>
<li><a href="src/contracts/core/kresko-asset/IKreskoAsset.sol/interface.IKreskoAsset.html">IKreskoAsset</a></li>
<li><a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol/interface.IKreskoAssetAnchor.html">IKreskoAssetAnchor</a></li>
<li><a href="src/contracts/core/kresko-asset/IKreskoAssetIssuer.sol/interface.IKreskoAssetIssuer.html">IKreskoAssetIssuer</a></li>
<li><a href="src/contracts/core/kresko-asset/KreskoAsset.sol/contract.KreskoAsset.html">KreskoAsset</a></li>
<li><a href="src/contracts/core/kresko-asset/KreskoAssetAnchor.sol/contract.KreskoAssetAnchor.html">KreskoAssetAnchor</a></li>
<li><a href="src/contracts/core/kresko-asset/Rebaser.sol/library.Rebaser.html">Rebaser</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc4626upgradeable"><a class="header" href="#erc4626upgradeable">ERC4626Upgradeable</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kresko-asset/ERC4626Upgradeable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kresko-asset/ERC4626Upgradeable.sol//docs/book/src/src/contracts/core/kresko-asset/IERC4626Upgradeable.sol/interface.IERC4626Upgradeable.html">IERC4626Upgradeable</a>, ERC20Upgradeable</p>
<p><strong>Authors:</strong>
Solmate (https://github.com/Rari-Capital/solmate/blob/main/src/mixins/ERC4626.sol), Kresko (https://www.kresko.fi)</p>
<p>Minimal ERC4626 tokenized Vault implementation.</p>
<p>Kresko:
Adds issue/destroy functions that are called when KreskoAssets are minted/burned through the protocol.</p>
<p>shares = anchor tokens</p>
<p>assets = underlying KreskoAssets</p>
<h2 id="state-variables-6"><a class="header" href="#state-variables-6">State Variables</a></h2>
<h3 id="asset-1"><a class="header" href="#asset-1">asset</a></h3>
<p>The underlying Kresko Asset</p>
<pre><code class="language-solidity">IKreskoAsset public immutable asset;
</code></pre>
<h2 id="functions-38"><a class="header" href="#functions-38">Functions</a></h2>
<h3 id="constructor-3"><a class="header" href="#constructor-3">constructor</a></h3>
<pre><code class="language-solidity">constructor(IKreskoAsset _asset) payable;
</code></pre>
<h3 id="__erc4626upgradeable_init"><a class="header" href="#__erc4626upgradeable_init">__ERC4626Upgradeable_init</a></h3>
<p>Initializes the ERC4626.</p>
<p><em>decimals are read from the underlying asset</em></p>
<pre><code class="language-solidity">function __ERC4626Upgradeable_init(IERC20Permit _asset, string memory _name, string memory _symbol)
    internal
    onlyInitializing;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>IERC20Permit</code></td><td>The underlying (Kresko) Asset</td></tr>
<tr><td><code>_name</code></td><td><code>string</code></td><td>Name of the anchor token</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>Symbol of the anchor token</td></tr>
</tbody></table>
</div>
<h3 id="issue-2"><a class="header" href="#issue-2">issue</a></h3>
<p>When new KreskoAssets are minted:
Issues the equivalent amount of anchor tokens to Kresko
Issues the equivalent amount of assets to user</p>
<pre><code class="language-solidity">function issue(uint256 assets, address to) public virtual returns (uint256 shares);
</code></pre>
<h3 id="destroy-2"><a class="header" href="#destroy-2">destroy</a></h3>
<p>When new KreskoAssets are burned:
Destroys the equivalent amount of anchor tokens from Kresko
Destroys the equivalent amount of assets from user</p>
<pre><code class="language-solidity">function destroy(uint256 assets, address from) public virtual returns (uint256 shares);
</code></pre>
<h3 id="totalassets"><a class="header" href="#totalassets">totalAssets</a></h3>
<pre><code class="language-solidity">function totalAssets() public view virtual returns (uint256);
</code></pre>
<h3 id="converttoshares-1"><a class="header" href="#converttoshares-1">convertToShares</a></h3>
<pre><code class="language-solidity">function convertToShares(uint256 assets) public view virtual returns (uint256 shares);
</code></pre>
<h3 id="converttoassets-1"><a class="header" href="#converttoassets-1">convertToAssets</a></h3>
<pre><code class="language-solidity">function convertToAssets(uint256 shares) public view virtual returns (uint256 assets);
</code></pre>
<h3 id="previewissue"><a class="header" href="#previewissue">previewIssue</a></h3>
<pre><code class="language-solidity">function previewIssue(uint256 assets) public view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares for amount of @param assets</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit"><a class="header" href="#previewdeposit">previewDeposit</a></h3>
<pre><code class="language-solidity">function previewDeposit(uint256 assets) public view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares for amount of @param assets</td></tr>
</tbody></table>
</div>
<h3 id="previewdestroy"><a class="header" href="#previewdestroy">previewDestroy</a></h3>
<pre><code class="language-solidity">function previewDestroy(uint256 shares) public view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets for amount of @param shares</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem"><a class="header" href="#previewredeem">previewRedeem</a></h3>
<pre><code class="language-solidity">function previewRedeem(uint256 shares) public view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets for amount of @param shares</td></tr>
</tbody></table>
</div>
<h3 id="previewmint"><a class="header" href="#previewmint">previewMint</a></h3>
<pre><code class="language-solidity">function previewMint(uint256 shares) public view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assets for amount of @param shares</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw"><a class="header" href="#previewwithdraw">previewWithdraw</a></h3>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets) public view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>shares for amount of @param assets</td></tr>
</tbody></table>
</div>
<h3 id="maxdeposit"><a class="header" href="#maxdeposit">maxDeposit</a></h3>
<pre><code class="language-solidity">function maxDeposit(address) public view virtual returns (uint256);
</code></pre>
<h3 id="maxissue"><a class="header" href="#maxissue">maxIssue</a></h3>
<pre><code class="language-solidity">function maxIssue(address) public view virtual returns (uint256);
</code></pre>
<h3 id="maxmint"><a class="header" href="#maxmint">maxMint</a></h3>
<pre><code class="language-solidity">function maxMint(address) public view virtual returns (uint256);
</code></pre>
<h3 id="maxdestroy"><a class="header" href="#maxdestroy">maxDestroy</a></h3>
<pre><code class="language-solidity">function maxDestroy(address owner) public view virtual returns (uint256);
</code></pre>
<h3 id="maxwithdraw"><a class="header" href="#maxwithdraw">maxWithdraw</a></h3>
<pre><code class="language-solidity">function maxWithdraw(address owner) public view virtual returns (uint256);
</code></pre>
<h3 id="maxredeem"><a class="header" href="#maxredeem">maxRedeem</a></h3>
<pre><code class="language-solidity">function maxRedeem(address owner) public view virtual returns (uint256);
</code></pre>
<h3 id="deposit-1"><a class="header" href="#deposit-1">deposit</a></h3>
<p>Deposit KreskoAssets for equivalent amount of anchor tokens</p>
<pre><code class="language-solidity">function deposit(uint256 assets, address receiver) public virtual returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets to deposit</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send shares to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-1"><a class="header" href="#withdraw-1">withdraw</a></h3>
<p>Withdraw KreskoAssets for equivalent amount of anchor tokens</p>
<p><em>shares are burned from owner, not msg.sender</em></p>
<pre><code class="language-solidity">function withdraw(uint256 assets, address receiver, address owner) public virtual returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets to withdraw</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send KreskoAssets to</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Address to burn shares from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares burned</td></tr>
</tbody></table>
</div>
<h3 id="mint"><a class="header" href="#mint">mint</a></h3>
<p>Mint shares of anchor tokens for equivalent amount of KreskoAssets</p>
<pre><code class="language-solidity">function mint(uint256 shares, address receiver) public virtual returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares to mint</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send shares to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets redeemed</td></tr>
</tbody></table>
</div>
<h3 id="redeem"><a class="header" href="#redeem">redeem</a></h3>
<p>Redeem shares of anchor for KreskoAssets</p>
<pre><code class="language-solidity">function redeem(uint256 shares, address receiver, address owner) public virtual returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send KreskoAssets to</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Address to burn shares from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets redeemed</td></tr>
</tbody></table>
</div>
<h3 id="_anchorid"><a class="header" href="#_anchorid">_anchorId</a></h3>
<pre><code class="language-solidity">function _anchorId() internal view returns (Errors.ID memory);
</code></pre>
<h3 id="_assetid"><a class="header" href="#_assetid">_assetId</a></h3>
<pre><code class="language-solidity">function _assetId() internal view returns (Errors.ID memory);
</code></pre>
<h3 id="_beforewithdraw"><a class="header" href="#_beforewithdraw">_beforeWithdraw</a></h3>
<pre><code class="language-solidity">function _beforeWithdraw(uint256 assets, uint256 shares) internal virtual;
</code></pre>
<h3 id="_afterdeposit"><a class="header" href="#_afterdeposit">_afterDeposit</a></h3>
<pre><code class="language-solidity">function _afterDeposit(uint256 assets, uint256 shares) internal virtual;
</code></pre>
<h2 id="events-3"><a class="header" href="#events-3">Events</a></h2>
<h3 id="issue-3"><a class="header" href="#issue-3">Issue</a></h3>
<pre><code class="language-solidity">event Issue(address indexed caller, address indexed owner, uint256 assets, uint256 shares);
</code></pre>
<h3 id="deposit-2"><a class="header" href="#deposit-2">Deposit</a></h3>
<pre><code class="language-solidity">event Deposit(address indexed caller, address indexed owner, uint256 assets, uint256 shares);
</code></pre>
<h3 id="destroy-3"><a class="header" href="#destroy-3">Destroy</a></h3>
<pre><code class="language-solidity">event Destroy(address indexed caller, address indexed receiver, address indexed owner, uint256 assets, uint256 shares);
</code></pre>
<h3 id="withdraw-2"><a class="header" href="#withdraw-2">Withdraw</a></h3>
<pre><code class="language-solidity">event Withdraw(address indexed caller, address indexed receiver, address indexed owner, uint256 assets, uint256 shares);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc4626upgradeable"><a class="header" href="#ierc4626upgradeable">IERC4626Upgradeable</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kresko-asset/IERC4626Upgradeable.sol">Git Source</a></p>
<h2 id="functions-39"><a class="header" href="#functions-39">Functions</a></h2>
<h3 id="asset-2"><a class="header" href="#asset-2">asset</a></h3>
<p>The underlying Kresko Asset</p>
<pre><code class="language-solidity">function asset() external view returns (IKreskoAsset);
</code></pre>
<h3 id="deposit-3"><a class="header" href="#deposit-3">deposit</a></h3>
<p>Deposit KreskoAssets for equivalent amount of anchor tokens</p>
<pre><code class="language-solidity">function deposit(uint256 assets, address receiver) external returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets to deposit</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send shares to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-3"><a class="header" href="#withdraw-3">withdraw</a></h3>
<p>Withdraw KreskoAssets for equivalent amount of anchor tokens</p>
<p><em>shares are burned from owner, not msg.sender</em></p>
<pre><code class="language-solidity">function withdraw(uint256 assets, address receiver, address owner) external returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets to withdraw</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send KreskoAssets to</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Address to burn shares from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares burned</td></tr>
</tbody></table>
</div>
<h3 id="maxdeposit-1"><a class="header" href="#maxdeposit-1">maxDeposit</a></h3>
<pre><code class="language-solidity">function maxDeposit(address) external view returns (uint256);
</code></pre>
<h3 id="maxmint-1"><a class="header" href="#maxmint-1">maxMint</a></h3>
<pre><code class="language-solidity">function maxMint(address) external view returns (uint256 assets);
</code></pre>
<h3 id="maxredeem-1"><a class="header" href="#maxredeem-1">maxRedeem</a></h3>
<pre><code class="language-solidity">function maxRedeem(address owner) external view returns (uint256 assets);
</code></pre>
<h3 id="maxwithdraw-1"><a class="header" href="#maxwithdraw-1">maxWithdraw</a></h3>
<pre><code class="language-solidity">function maxWithdraw(address owner) external view returns (uint256 assets);
</code></pre>
<h3 id="mint-1"><a class="header" href="#mint-1">mint</a></h3>
<p>Mint shares of anchor tokens for equivalent amount of KreskoAssets</p>
<pre><code class="language-solidity">function mint(uint256 shares, address receiver) external returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares to mint</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send shares to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets redeemed</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-1"><a class="header" href="#previewdeposit-1">previewDeposit</a></h3>
<pre><code class="language-solidity">function previewDeposit(uint256 assets) external view returns (uint256 shares);
</code></pre>
<h3 id="previewmint-1"><a class="header" href="#previewmint-1">previewMint</a></h3>
<pre><code class="language-solidity">function previewMint(uint256 shares) external view returns (uint256 assets);
</code></pre>
<h3 id="previewredeem-1"><a class="header" href="#previewredeem-1">previewRedeem</a></h3>
<pre><code class="language-solidity">function previewRedeem(uint256 shares) external view returns (uint256 assets);
</code></pre>
<h3 id="previewwithdraw-1"><a class="header" href="#previewwithdraw-1">previewWithdraw</a></h3>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets) external view returns (uint256 shares);
</code></pre>
<h3 id="totalassets-1"><a class="header" href="#totalassets-1">totalAssets</a></h3>
<p>Track the underlying amount</p>
<pre><code class="language-solidity">function totalAssets() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Total supply for the underlying</td></tr>
</tbody></table>
</div>
<h3 id="redeem-1"><a class="header" href="#redeem-1">redeem</a></h3>
<p>Redeem shares of anchor for KreskoAssets</p>
<pre><code class="language-solidity">function redeem(uint256 shares, address receiver, address owner) external returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send KreskoAssets to</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Address to burn shares from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets redeemed</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="isyncable"><a class="header" href="#isyncable">ISyncable</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kresko-asset/IKreskoAsset.sol">Git Source</a></p>
<h2 id="functions-40"><a class="header" href="#functions-40">Functions</a></h2>
<h3 id="sync"><a class="header" href="#sync">sync</a></h3>
<pre><code class="language-solidity">function sync() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ikreskoasset"><a class="header" href="#ikreskoasset">IKreskoAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kresko-asset/IKreskoAsset.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC20Permit, IAccessControlEnumerable, <a href="src/contracts/core/kresko-asset/IKreskoAsset.sol//docs/book/src/src/contracts/core/vendor/IERC165.sol/interface.IERC165.html">IERC165</a></p>
<h2 id="functions-41"><a class="header" href="#functions-41">Functions</a></h2>
<h3 id="initialize-1"><a class="header" href="#initialize-1">initialize</a></h3>
<p>Initializes a KreskoAsset ERC20 token.</p>
<p><em>Intended to be operated by the Kresko smart contract.</em></p>
<pre><code class="language-solidity">function initialize(
    string memory _name,
    string memory _symbol,
    uint8 _decimals,
    address _admin,
    address _kresko,
    address _underlyingAddr,
    address _feeRecipient,
    uint48 _openFee,
    uint40 _closeFee
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>The name of the KreskoAsset.</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>The symbol of the KreskoAsset.</td></tr>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>Decimals for the asset.</td></tr>
<tr><td><code>_admin</code></td><td><code>address</code></td><td>The adminstrator of this contract.</td></tr>
<tr><td><code>_kresko</code></td><td><code>address</code></td><td>The protocol, can perform mint and burn.</td></tr>
<tr><td><code>_underlyingAddr</code></td><td><code>address</code></td><td>The underlying token if available.</td></tr>
<tr><td><code>_feeRecipient</code></td><td><code>address</code></td><td>Fee recipient for synth wraps.</td></tr>
<tr><td><code>_openFee</code></td><td><code>uint48</code></td><td>Synth warp open fee.</td></tr>
<tr><td><code>_closeFee</code></td><td><code>uint40</code></td><td>Synth wrap close fee.</td></tr>
</tbody></table>
</div>
<h3 id="kresko-1"><a class="header" href="#kresko-1">kresko</a></h3>
<pre><code class="language-solidity">function kresko() external view returns (address);
</code></pre>
<h3 id="rebaseinfo"><a class="header" href="#rebaseinfo">rebaseInfo</a></h3>
<pre><code class="language-solidity">function rebaseInfo() external view returns (Rebase memory);
</code></pre>
<h3 id="wrappinginfo"><a class="header" href="#wrappinginfo">wrappingInfo</a></h3>
<pre><code class="language-solidity">function wrappingInfo() external view returns (Wrapping memory);
</code></pre>
<h3 id="isrebased"><a class="header" href="#isrebased">isRebased</a></h3>
<pre><code class="language-solidity">function isRebased() external view returns (bool);
</code></pre>
<h3 id="rebase"><a class="header" href="#rebase">rebase</a></h3>
<p>Perform a rebase, changing the denumerator and its operator</p>
<p><em>denumerator values 0 and 1 ether will disable the rebase</em></p>
<pre><code class="language-solidity">function rebase(uint248 _denominator, bool _positive, address[] calldata _pools) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_denominator</code></td><td><code>uint248</code></td><td>the denumerator for the operator, 1 ether = 1</td></tr>
<tr><td><code>_positive</code></td><td><code>bool</code></td><td>supply increasing/reducing rebase</td></tr>
<tr><td><code>_pools</code></td><td><code>address[]</code></td><td>UniswapV2Pair address to sync so we wont get rekt by skim() calls.</td></tr>
</tbody></table>
</div>
<h3 id="reinitializeerc20"><a class="header" href="#reinitializeerc20">reinitializeERC20</a></h3>
<p>Updates ERC20 metadata for the token in case eg. a ticker change</p>
<pre><code class="language-solidity">function reinitializeERC20(string memory _name, string memory _symbol, uint8 _version) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>new name for the asset</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>new symbol for the asset</td></tr>
<tr><td><code>_version</code></td><td><code>uint8</code></td><td>number that must be greater than latest emitted <code>Initialized</code> version</td></tr>
</tbody></table>
</div>
<h3 id="mint-2"><a class="header" href="#mint-2">mint</a></h3>
<p>Mints tokens to an address.</p>
<p><em>Only callable by operator.</em></p>
<p><em>Internal balances are always unrebased, events emitted are not.</em></p>
<pre><code class="language-solidity">function mint(address _to, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_to</code></td><td><code>address</code></td><td>The address to mint tokens to.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of tokens to mint.</td></tr>
</tbody></table>
</div>
<h3 id="burn"><a class="header" href="#burn">burn</a></h3>
<p>Burns tokens from an address.</p>
<p><em>Only callable by operator.</em></p>
<p><em>Internal balances are always unrebased, events emitted are not.</em></p>
<pre><code class="language-solidity">function burn(address _from, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_from</code></td><td><code>address</code></td><td>The address to burn tokens from.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of tokens to burn.</td></tr>
</tbody></table>
</div>
<h3 id="pause-3"><a class="header" href="#pause-3">pause</a></h3>
<p>Triggers stopped state.
Requirements:</p>
<ul>
<li>The contract must not be paused.</li>
</ul>
<pre><code class="language-solidity">function pause() external;
</code></pre>
<h3 id="unpause-2"><a class="header" href="#unpause-2">unpause</a></h3>
<p>Returns to normal state.
Requirements:</p>
<ul>
<li>The contract must be paused.</li>
</ul>
<pre><code class="language-solidity">function unpause() external;
</code></pre>
<h3 id="wrap"><a class="header" href="#wrap">wrap</a></h3>
<p>Deposit underlying tokens to receive equal value of krAsset (-fee).</p>
<pre><code class="language-solidity">function wrap(address _to, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_to</code></td><td><code>address</code></td><td>The to address.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="unwrap"><a class="header" href="#unwrap">unwrap</a></h3>
<p>Withdraw kreskoAsset to receive underlying tokens / native (-fee).</p>
<pre><code class="language-solidity">function unwrap(uint256 _amount, bool _receiveNative) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
<tr><td><code>_receiveNative</code></td><td><code>bool</code></td><td>bool whether to receive underlying as native</td></tr>
</tbody></table>
</div>
<h3 id="setanchortoken"><a class="header" href="#setanchortoken">setAnchorToken</a></h3>
<p>Sets anchor token address</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setAnchorToken(address _anchor) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_anchor</code></td><td><code>address</code></td><td>The anchor address.</td></tr>
</tbody></table>
</div>
<h3 id="enablenativeunderlying"><a class="header" href="#enablenativeunderlying">enableNativeUnderlying</a></h3>
<p>Enables depositing native token ETH in case of krETH</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function enableNativeUnderlying(bool _enabled) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>The enabled (bool).</td></tr>
</tbody></table>
</div>
<h3 id="setfeerecipient-2"><a class="header" href="#setfeerecipient-2">setFeeRecipient</a></h3>
<p>Sets fee recipient address</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setFeeRecipient(address _feeRecipient) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feeRecipient</code></td><td><code>address</code></td><td>The fee recipient address.</td></tr>
</tbody></table>
</div>
<h3 id="setopenfee"><a class="header" href="#setopenfee">setOpenFee</a></h3>
<p>Sets deposit fee</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setOpenFee(uint48 _openFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_openFee</code></td><td><code>uint48</code></td><td>The open fee (uint48).</td></tr>
</tbody></table>
</div>
<h3 id="setclosefee"><a class="header" href="#setclosefee">setCloseFee</a></h3>
<p>Sets withdraw fee</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setCloseFee(uint40 _closeFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_closeFee</code></td><td><code>uint40</code></td><td>The open fee (uint48).</td></tr>
</tbody></table>
</div>
<h3 id="setunderlying"><a class="header" href="#setunderlying">setUnderlying</a></h3>
<p>Sets underlying token address (and its decimals)</p>
<p>Zero address will disable functionality provided for the underlying.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setUnderlying(address _underlyingAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_underlyingAddr</code></td><td><code>address</code></td><td>The underlying address.</td></tr>
</tbody></table>
</div>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="rebase-1"><a class="header" href="#rebase-1">Rebase</a></h3>
<p>Rebase information</p>
<pre><code class="language-solidity">struct Rebase {
    uint248 denominator;
    bool positive;
}
</code></pre>
<h3 id="wrapping"><a class="header" href="#wrapping">Wrapping</a></h3>
<p>Wrapping information for the Kresko Asset</p>
<pre><code class="language-solidity">struct Wrapping {
    address underlying;
    uint8 underlyingDecimals;
    uint48 openFee;
    uint40 closeFee;
    bool nativeUnderlyingEnabled;
    address payable feeRecipient;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ikreskoassetanchor"><a class="header" href="#ikreskoassetanchor">IKreskoAssetAnchor</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol//docs/book/src/src/contracts/core/kresko-asset/IKreskoAssetIssuer.sol/interface.IKreskoAssetIssuer.html">IKreskoAssetIssuer</a>, <a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol//docs/book/src/src/contracts/core/kresko-asset/IERC4626Upgradeable.sol/interface.IERC4626Upgradeable.html">IERC4626Upgradeable</a>, IERC20Permit, IAccessControlEnumerable, <a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol//docs/book/src/src/contracts/core/vendor/IERC165.sol/interface.IERC165.html">IERC165</a></p>
<h2 id="functions-42"><a class="header" href="#functions-42">Functions</a></h2>
<h3 id="totalassets-2"><a class="header" href="#totalassets-2">totalAssets</a></h3>
<pre><code class="language-solidity">function totalAssets() external view override(IERC4626Upgradeable) returns (uint256);
</code></pre>
<h3 id="initialize-2"><a class="header" href="#initialize-2">initialize</a></h3>
<p>Initializes the Kresko Asset Anchor.</p>
<p><em>Decimals are not supplied as they are read from the underlying Kresko Asset</em></p>
<pre><code class="language-solidity">function initialize(IKreskoAsset _asset, string memory _name, string memory _symbol, address _admin) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>IKreskoAsset</code></td><td>The underlying (Kresko) Asset</td></tr>
<tr><td><code>_name</code></td><td><code>string</code></td><td>Name of the anchor token</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>Symbol of the anchor token</td></tr>
<tr><td><code>_admin</code></td><td><code>address</code></td><td>The adminstrator of this contract.</td></tr>
</tbody></table>
</div>
<h3 id="reinitializeerc20-1"><a class="header" href="#reinitializeerc20-1">reinitializeERC20</a></h3>
<p>Updates ERC20 metadata for the token in case eg. a ticker change</p>
<pre><code class="language-solidity">function reinitializeERC20(string memory _name, string memory _symbol, uint8 _version) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>new name for the asset</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>new symbol for the asset</td></tr>
<tr><td><code>_version</code></td><td><code>uint8</code></td><td>number that must be greater than latest emitted <code>Initialized</code> version</td></tr>
</tbody></table>
</div>
<h3 id="wrap-1"><a class="header" href="#wrap-1">wrap</a></h3>
<p>Mint Kresko Anchor Asset to Kresko Asset (Only KreskoAsset can call)</p>
<pre><code class="language-solidity">function wrap(uint256 assets) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The assets (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="unwrap-1"><a class="header" href="#unwrap-1">unwrap</a></h3>
<p>Burn Kresko Anchor Asset to Kresko Asset (Only KreskoAsset can call)</p>
<pre><code class="language-solidity">function unwrap(uint256 assets) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The assets (uint256).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ikreskoassetissuer"><a class="header" href="#ikreskoassetissuer">IKreskoAssetIssuer</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kresko-asset/IKreskoAssetIssuer.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Contract that allows minting and burning through Kresko.</p>
<p><em>All mintable assets in Kresko must implement this. (enforced through introspection)</em></p>
<h2 id="functions-43"><a class="header" href="#functions-43">Functions</a></h2>
<h3 id="issue-4"><a class="header" href="#issue-4">issue</a></h3>
<p>Mints @param _assets of krAssets for @param _to,</p>
<p>Mints relative @return _shares of anchor tokens.</p>
<pre><code class="language-solidity">function issue(uint256 _assets, address _to) external returns (uint256 shares);
</code></pre>
<h3 id="destroy-4"><a class="header" href="#destroy-4">destroy</a></h3>
<p>Burns @param _assets of krAssets from @param _from,</p>
<p>Burns relative @return _shares of anchor tokens.</p>
<pre><code class="language-solidity">function destroy(uint256 _assets, address _from) external returns (uint256 shares);
</code></pre>
<h3 id="converttoshares-2"><a class="header" href="#converttoshares-2">convertToShares</a></h3>
<p>Preview conversion from KrAsset amount: @param assets to matching amount of Anchor tokens: @return shares</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets) external view returns (uint256 shares);
</code></pre>
<h3 id="converttoassets-2"><a class="header" href="#converttoassets-2">convertToAssets</a></h3>
<p>Preview conversion from Anchor token amount: @param shares to matching KrAsset amount: @return assets</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares) external view returns (uint256 assets);
</code></pre>
<h3 id="convertmanytoassets-1"><a class="header" href="#convertmanytoassets-1">convertManyToAssets</a></h3>
<p>Preview conversion from Anchor token amounts: @param shares to matching amounts of KrAssets: @return assets</p>
<pre><code class="language-solidity">function convertManyToAssets(uint256[] calldata shares) external view returns (uint256[] memory assets);
</code></pre>
<h3 id="convertmanytoshares-1"><a class="header" href="#convertmanytoshares-1">convertManyToShares</a></h3>
<p>Preview conversion from KrAsset amounts: @param assets to matching amounts of Anchor tokens: @return shares</p>
<pre><code class="language-solidity">function convertManyToShares(uint256[] calldata assets) external view returns (uint256[] memory shares);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kreskoasset"><a class="header" href="#kreskoasset">KreskoAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kresko-asset/KreskoAsset.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC20Upgradeable, AccessControlEnumerableUpgradeable, PausableUpgradeable, <a href="src/contracts/core/kresko-asset/KreskoAsset.sol//docs/book/src/src/contracts/core/kresko-asset/IKreskoAsset.sol/interface.IKreskoAsset.html">IKreskoAsset</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Rebases to adjust for stock splits and reverse stock splits</p>
<p>Minting, burning and rebasing can only be performed by the <code>Role.OPERATOR</code></p>
<h2 id="state-variables-7"><a class="header" href="#state-variables-7">State Variables</a></h2>
<h3 id="rebasing"><a class="header" href="#rebasing">rebasing</a></h3>
<pre><code class="language-solidity">Rebase private rebasing;
</code></pre>
<h3 id="isrebased-1"><a class="header" href="#isrebased-1">isRebased</a></h3>
<pre><code class="language-solidity">bool public isRebased;
</code></pre>
<h3 id="kresko-2"><a class="header" href="#kresko-2">kresko</a></h3>
<pre><code class="language-solidity">address public kresko;
</code></pre>
<h3 id="anchor"><a class="header" href="#anchor">anchor</a></h3>
<pre><code class="language-solidity">address public anchor;
</code></pre>
<h3 id="wrapping-1"><a class="header" href="#wrapping-1">wrapping</a></h3>
<pre><code class="language-solidity">Wrapping private wrapping;
</code></pre>
<h2 id="functions-44"><a class="header" href="#functions-44">Functions</a></h2>
<h3 id="constructor-4"><a class="header" href="#constructor-4">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="initialize-3"><a class="header" href="#initialize-3">initialize</a></h3>
<p>Initializes a KreskoAsset ERC20 token.</p>
<p><em>Intended to be operated by the Kresko smart contract.</em></p>
<pre><code class="language-solidity">function initialize(
    string memory _name,
    string memory _symbol,
    uint8 _decimals,
    address _admin,
    address _kresko,
    address _underlying,
    address _feeRecipient,
    uint48 _openFee,
    uint40 _closeFee
) external initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>The name of the KreskoAsset.</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>The symbol of the KreskoAsset.</td></tr>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>Decimals for the asset.</td></tr>
<tr><td><code>_admin</code></td><td><code>address</code></td><td>The adminstrator of this contract.</td></tr>
<tr><td><code>_kresko</code></td><td><code>address</code></td><td>The protocol, can perform mint and burn.</td></tr>
<tr><td><code>_underlying</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_feeRecipient</code></td><td><code>address</code></td><td>Fee recipient for synth wraps.</td></tr>
<tr><td><code>_openFee</code></td><td><code>uint48</code></td><td>Synth warp open fee.</td></tr>
<tr><td><code>_closeFee</code></td><td><code>uint40</code></td><td>Synth wrap close fee.</td></tr>
</tbody></table>
</div>
<h3 id="setanchortoken-1"><a class="header" href="#setanchortoken-1">setAnchorToken</a></h3>
<p>Sets anchor token address</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setAnchorToken(address _anchor) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_anchor</code></td><td><code>address</code></td><td>The anchor address.</td></tr>
</tbody></table>
</div>
<h3 id="setunderlying-1"><a class="header" href="#setunderlying-1">setUnderlying</a></h3>
<p>Sets underlying token address (and its decimals)</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setUnderlying(address _underlyingAddr) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_underlyingAddr</code></td><td><code>address</code></td><td>The underlying address.</td></tr>
</tbody></table>
</div>
<h3 id="enablenativeunderlying-1"><a class="header" href="#enablenativeunderlying-1">enableNativeUnderlying</a></h3>
<p>Enables depositing native token ETH in case of krETH</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function enableNativeUnderlying(bool _enabled) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>The enabled (bool).</td></tr>
</tbody></table>
</div>
<h3 id="setfeerecipient-3"><a class="header" href="#setfeerecipient-3">setFeeRecipient</a></h3>
<p>Sets fee recipient address</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setFeeRecipient(address _feeRecipient) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feeRecipient</code></td><td><code>address</code></td><td>The fee recipient address.</td></tr>
</tbody></table>
</div>
<h3 id="setopenfee-1"><a class="header" href="#setopenfee-1">setOpenFee</a></h3>
<p>Sets deposit fee</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setOpenFee(uint48 _openFee) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_openFee</code></td><td><code>uint48</code></td><td>The open fee (uint48).</td></tr>
</tbody></table>
</div>
<h3 id="setclosefee-1"><a class="header" href="#setclosefee-1">setCloseFee</a></h3>
<p>Sets withdraw fee</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setCloseFee(uint40 _closeFee) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_closeFee</code></td><td><code>uint40</code></td><td>The open fee (uint48).</td></tr>
</tbody></table>
</div>
<h3 id="supportsinterface-3"><a class="header" href="#supportsinterface-3">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId)
    public
    view
    virtual
    override(AccessControlEnumerableUpgradeable, IERC165)
    returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
<h3 id="wrappinginfo-1"><a class="header" href="#wrappinginfo-1">wrappingInfo</a></h3>
<pre><code class="language-solidity">function wrappingInfo() external view override returns (Wrapping memory);
</code></pre>
<h3 id="rebaseinfo-1"><a class="header" href="#rebaseinfo-1">rebaseInfo</a></h3>
<pre><code class="language-solidity">function rebaseInfo() external view override returns (Rebase memory);
</code></pre>
<h3 id="totalsupply"><a class="header" href="#totalsupply">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() public view override(ERC20Upgradeable, IERC20) returns (uint256);
</code></pre>
<h3 id="balanceof-1"><a class="header" href="#balanceof-1">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address _account) public view override(ERC20Upgradeable, IERC20) returns (uint256);
</code></pre>
<h3 id="allowance"><a class="header" href="#allowance">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address _owner, address _account) public view override(ERC20Upgradeable, IERC20) returns (uint256);
</code></pre>
<h3 id="pause-4"><a class="header" href="#pause-4">pause</a></h3>
<p>Triggers stopped state.
Requirements:</p>
<ul>
<li>The contract must not be paused.</li>
</ul>
<pre><code class="language-solidity">function pause() public onlyRole(Role.ADMIN);
</code></pre>
<h3 id="unpause-3"><a class="header" href="#unpause-3">unpause</a></h3>
<p>Returns to normal state.
Requirements:</p>
<ul>
<li>The contract must be paused.</li>
</ul>
<pre><code class="language-solidity">function unpause() public onlyRole(Role.ADMIN);
</code></pre>
<h3 id="reinitializeerc20-2"><a class="header" href="#reinitializeerc20-2">reinitializeERC20</a></h3>
<p>Updates ERC20 metadata for the token in case eg. a ticker change</p>
<pre><code class="language-solidity">function reinitializeERC20(string memory _name, string memory _symbol, uint8 _version)
    external
    onlyRole(Role.ADMIN)
    reinitializer(_version);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>new name for the asset</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>new symbol for the asset</td></tr>
<tr><td><code>_version</code></td><td><code>uint8</code></td><td>number that must be greater than latest emitted <code>Initialized</code> version</td></tr>
</tbody></table>
</div>
<h3 id="approve"><a class="header" href="#approve">approve</a></h3>
<pre><code class="language-solidity">function approve(address _spender, uint256 _amount) public override(ERC20Upgradeable, IERC20) returns (bool);
</code></pre>
<h3 id="transfer"><a class="header" href="#transfer">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address _to, uint256 _amount) public override(ERC20Upgradeable, IERC20) returns (bool);
</code></pre>
<h3 id="transferfrom"><a class="header" href="#transferfrom">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address _from, address _to, uint256 _amount)
    public
    override(ERC20Upgradeable, IERC20)
    returns (bool);
</code></pre>
<h3 id="rebase-2"><a class="header" href="#rebase-2">rebase</a></h3>
<p>Perform a rebase, changing the denumerator and its operator</p>
<p><em>denumerator values 0 and 1 ether will disable the rebase</em></p>
<pre><code class="language-solidity">function rebase(uint248 _denominator, bool _positive, address[] calldata _pools) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_denominator</code></td><td><code>uint248</code></td><td>the denumerator for the operator, 1 ether = 1</td></tr>
<tr><td><code>_positive</code></td><td><code>bool</code></td><td>supply increasing/reducing rebase</td></tr>
<tr><td><code>_pools</code></td><td><code>address[]</code></td><td>UniswapV2Pair address to sync so we wont get rekt by skim() calls.</td></tr>
</tbody></table>
</div>
<h3 id="mint-3"><a class="header" href="#mint-3">mint</a></h3>
<p>Mints tokens to an address.</p>
<p><em>Only callable by operator.</em></p>
<pre><code class="language-solidity">function mint(address _to, uint256 _amount) external onlyRole(Role.OPERATOR);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_to</code></td><td><code>address</code></td><td>The address to mint tokens to.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of tokens to mint.</td></tr>
</tbody></table>
</div>
<h3 id="burn-1"><a class="header" href="#burn-1">burn</a></h3>
<p>Burns tokens from an address.</p>
<p><em>Only callable by operator.</em></p>
<pre><code class="language-solidity">function burn(address _from, uint256 _amount) external onlyRole(Role.OPERATOR);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_from</code></td><td><code>address</code></td><td>The address to burn tokens from.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of tokens to burn.</td></tr>
</tbody></table>
</div>
<h3 id="wrap-2"><a class="header" href="#wrap-2">wrap</a></h3>
<p>Deposit underlying tokens to receive equal value of krAsset (-fee).</p>
<pre><code class="language-solidity">function wrap(address _to, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_to</code></td><td><code>address</code></td><td>The to address.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="unwrap-2"><a class="header" href="#unwrap-2">unwrap</a></h3>
<p>Withdraw kreskoAsset to receive underlying tokens / native (-fee).</p>
<pre><code class="language-solidity">function unwrap(uint256 _amount, bool _receiveNative) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
<tr><td><code>_receiveNative</code></td><td><code>bool</code></td><td>bool whether to receive underlying as native</td></tr>
</tbody></table>
</div>
<h3 id="receive-1"><a class="header" href="#receive-1">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="_mint"><a class="header" href="#_mint">_mint</a></h3>
<pre><code class="language-solidity">function _mint(address _to, uint256 _amount) internal override;
</code></pre>
<h3 id="_burn"><a class="header" href="#_burn">_burn</a></h3>
<pre><code class="language-solidity">function _burn(address _from, uint256 _amount) internal override;
</code></pre>
<h3 id="_transfer"><a class="header" href="#_transfer">_transfer</a></h3>
<p><em>Internal balances are always unrebased, events emitted are not.</em></p>
<pre><code class="language-solidity">function _transfer(address _from, address _to, uint256 _amount) internal returns (bool);
</code></pre>
<h3 id="_adjustdecimals"><a class="header" href="#_adjustdecimals">_adjustDecimals</a></h3>
<pre><code class="language-solidity">function _adjustDecimals(uint256 _amount, uint8 _fromDecimal, uint8 _toDecimal) internal pure returns (uint256);
</code></pre>
<h3 id="_assetid-1"><a class="header" href="#_assetid-1">_assetId</a></h3>
<pre><code class="language-solidity">function _assetId() internal view returns (Errors.ID memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kreskoassetanchor"><a class="header" href="#kreskoassetanchor">KreskoAssetAnchor</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kresko-asset/KreskoAssetAnchor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kresko-asset/KreskoAssetAnchor.sol//docs/book/src/src/contracts/core/kresko-asset/ERC4626Upgradeable.sol/abstract.ERC4626Upgradeable.html">ERC4626Upgradeable</a>, <a href="src/contracts/core/kresko-asset/KreskoAssetAnchor.sol//docs/book/src/src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol/interface.IKreskoAssetAnchor.html">IKreskoAssetAnchor</a>, AccessControlEnumerableUpgradeable</p>
<p><strong>Author:</strong>
Kresko</p>
<p>Main purpose of this token is to represent a static amount of the possibly rebased underlying KreskoAsset.
Main use-cases are normalized book-keeping, bridging and integration with external contracts.</p>
<p>Shares means amount of this token.</p>
<p>Assets mean amount of KreskoAssets.</p>
<h2 id="functions-45"><a class="header" href="#functions-45">Functions</a></h2>
<h3 id="constructor-5"><a class="header" href="#constructor-5">constructor</a></h3>
<pre><code class="language-solidity">constructor(IKreskoAsset _asset) payable ERC4626Upgradeable(_asset);
</code></pre>
<h3 id="initialize-4"><a class="header" href="#initialize-4">initialize</a></h3>
<p>Initializes the Kresko Asset Anchor.</p>
<p><em>Decimals are not supplied as they are read from the underlying Kresko Asset</em></p>
<pre><code class="language-solidity">function initialize(IKreskoAsset _asset, string memory _name, string memory _symbol, address _admin)
    external
    initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>IKreskoAsset</code></td><td>The underlying (Kresko) Asset</td></tr>
<tr><td><code>_name</code></td><td><code>string</code></td><td>Name of the anchor token</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>Symbol of the anchor token</td></tr>
<tr><td><code>_admin</code></td><td><code>address</code></td><td>The adminstrator of this contract.</td></tr>
</tbody></table>
</div>
<h3 id="supportsinterface-4"><a class="header" href="#supportsinterface-4">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId)
    public
    view
    virtual
    override(AccessControlEnumerableUpgradeable, IERC165)
    returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
<h3 id="reinitializeerc20-3"><a class="header" href="#reinitializeerc20-3">reinitializeERC20</a></h3>
<p>Updates ERC20 metadata for the token in case eg. a ticker change</p>
<pre><code class="language-solidity">function reinitializeERC20(string memory _name, string memory _symbol, uint8 _version)
    external
    onlyRole(Role.ADMIN)
    reinitializer(_version);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>new name for the asset</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>new symbol for the asset</td></tr>
<tr><td><code>_version</code></td><td><code>uint8</code></td><td>number that must be greater than latest emitted <code>Initialized</code> version</td></tr>
</tbody></table>
</div>
<h3 id="totalassets-3"><a class="header" href="#totalassets-3">totalAssets</a></h3>
<pre><code class="language-solidity">function totalAssets() public view virtual override(IKreskoAssetAnchor, ERC4626Upgradeable) returns (uint256);
</code></pre>
<h3 id="converttoassets-3"><a class="header" href="#converttoassets-3">convertToAssets</a></h3>
<p>Preview conversion from Anchor token amount: @param shares to matching KrAsset amount: @return assets</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares)
    public
    view
    virtual
    override(ERC4626Upgradeable, IKreskoAssetIssuer)
    returns (uint256 assets);
</code></pre>
<h3 id="convertmanytoshares-2"><a class="header" href="#convertmanytoshares-2">convertManyToShares</a></h3>
<pre><code class="language-solidity">function convertManyToShares(uint256[] calldata assets) external view returns (uint256[] memory shares);
</code></pre>
<h3 id="convertmanytoassets-2"><a class="header" href="#convertmanytoassets-2">convertManyToAssets</a></h3>
<p>Preview conversion from Anchor token amounts: @param shares to matching amounts of KrAssets: @return assets</p>
<pre><code class="language-solidity">function convertManyToAssets(uint256[] calldata shares) external view returns (uint256[] memory assets);
</code></pre>
<h3 id="converttoshares-3"><a class="header" href="#converttoshares-3">convertToShares</a></h3>
<p>Preview conversion from KrAsset amount: @param assets to matching amount of Anchor tokens: @return shares</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets)
    public
    view
    virtual
    override(ERC4626Upgradeable, IKreskoAssetIssuer)
    returns (uint256 shares);
</code></pre>
<h3 id="issue-5"><a class="header" href="#issue-5">issue</a></h3>
<p>Mints @param _assets of krAssets for @param _to,</p>
<pre><code class="language-solidity">function issue(uint256 _assets, address _to)
    public
    virtual
    override(ERC4626Upgradeable, IKreskoAssetIssuer)
    returns (uint256 shares);
</code></pre>
<h3 id="destroy-5"><a class="header" href="#destroy-5">destroy</a></h3>
<p>Burns @param _assets of krAssets from @param _from,</p>
<pre><code class="language-solidity">function destroy(uint256 _assets, address _from)
    public
    virtual
    override(ERC4626Upgradeable, IKreskoAssetIssuer)
    returns (uint256 shares);
</code></pre>
<h3 id="wrap-3"><a class="header" href="#wrap-3">wrap</a></h3>
<p>Mint Kresko Anchor Asset to Kresko Asset (Only KreskoAsset can call)</p>
<pre><code class="language-solidity">function wrap(uint256 assets) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The assets (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="unwrap-3"><a class="header" href="#unwrap-3">unwrap</a></h3>
<p>Burn Kresko Anchor Asset to Kresko Asset (Only KreskoAsset can call)</p>
<pre><code class="language-solidity">function unwrap(uint256 assets) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The assets (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="deposit-4"><a class="header" href="#deposit-4">deposit</a></h3>
<p>reverting function, kept to maintain compatibility with ERC4626 standard</p>
<pre><code class="language-solidity">function deposit(uint256, address) public pure override(ERC4626Upgradeable, IERC4626Upgradeable) returns (uint256);
</code></pre>
<h3 id="withdraw-4"><a class="header" href="#withdraw-4">withdraw</a></h3>
<p>reverting function, kept to maintain compatibility with ERC4626 standard</p>
<pre><code class="language-solidity">function withdraw(uint256, address, address)
    public
    pure
    override(ERC4626Upgradeable, IERC4626Upgradeable)
    returns (uint256);
</code></pre>
<h3 id="redeem-2"><a class="header" href="#redeem-2">redeem</a></h3>
<p>reverting function, kept to maintain compatibility with ERC4626 standard</p>
<pre><code class="language-solidity">function redeem(uint256, address, address)
    public
    pure
    override(ERC4626Upgradeable, IERC4626Upgradeable)
    returns (uint256);
</code></pre>
<h3 id="_onlyoperator"><a class="header" href="#_onlyoperator">_onlyOperator</a></h3>
<pre><code class="language-solidity">function _onlyOperator() internal view;
</code></pre>
<h3 id="_onlyoperatororasset"><a class="header" href="#_onlyoperatororasset">_onlyOperatorOrAsset</a></h3>
<pre><code class="language-solidity">function _onlyOperatorOrAsset() private view;
</code></pre>
<h3 id="_beforewithdraw-1"><a class="header" href="#_beforewithdraw-1">_beforeWithdraw</a></h3>
<pre><code class="language-solidity">function _beforeWithdraw(uint256 assets, uint256 shares) internal virtual override;
</code></pre>
<h3 id="_afterdeposit-1"><a class="header" href="#_afterdeposit-1">_afterDeposit</a></h3>
<pre><code class="language-solidity">function _afterDeposit(uint256 assets, uint256 shares) internal virtual override;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rebaser"><a class="header" href="#rebaser">Rebaser</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/kresko-asset/Rebaser.sol">Git Source</a></p>
<h2 id="functions-46"><a class="header" href="#functions-46">Functions</a></h2>
<h3 id="unrebase"><a class="header" href="#unrebase">unrebase</a></h3>
<p>Unrebase a value by a given rebase struct.</p>
<pre><code class="language-solidity">function unrebase(uint256 self, IKreskoAsset.Rebase storage _rebase) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>uint256</code></td><td>The value to unrebase.</td></tr>
<tr><td><code>_rebase</code></td><td><code>IKreskoAsset.Rebase</code></td><td>The rebase struct.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The unrebased value.</td></tr>
</tbody></table>
</div>
<h3 id="rebase-3"><a class="header" href="#rebase-3">rebase</a></h3>
<p>Rebase a value by a given rebase struct.</p>
<pre><code class="language-solidity">function rebase(uint256 self, IKreskoAsset.Rebase storage _rebase) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>uint256</code></td><td>The value to rebase.</td></tr>
<tr><td><code>_rebase</code></td><td><code>IKreskoAsset.Rebase</code></td><td>The rebase struct.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The rebased value.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-13"><a class="header" href="#contents-13">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/libs/Arrays.sol/library.Arrays.html">Arrays</a></li>
<li><a href="src/contracts/core/libs/EnumerableSet.sol/library.EnumerableSet.html">EnumerableSet</a></li>
<li><a href="src/contracts/core/libs/FixedPointMath.sol/library.FixedPointMath.html">FixedPointMath</a></li>
<li><a href="src/contracts/core/libs/Meta.sol/library.Meta.html">Meta</a></li>
<li><a href="src/contracts/core/libs/PercentageMath.sol/library.PercentageMath.html">PercentageMath</a></li>
<li><a href="src/contracts/core/libs/Redstone.sol/library.Redstone.html">Redstone</a></li>
<li><a href="src/contracts/core/libs/RedstoneInternals.sol/library.NumericArrayLib.html">NumericArrayLib</a></li>
<li><a href="src/contracts/core/libs/RedstoneInternals.sol/library.RedstoneDefaultsLib.html">RedstoneDefaultsLib</a></li>
<li><a href="src/contracts/core/libs/RedstoneInternals.sol/library.BitmapLib.html">BitmapLib</a></li>
<li><a href="src/contracts/core/libs/RedstoneInternals.sol/library.SignatureLib.html">SignatureLib</a></li>
<li><a href="src/contracts/core/libs/RedstoneInternals.sol/library.RedstoneError.html">RedstoneError</a></li>
<li><a href="src/contracts/core/libs/Solady.sol/library.Solady.html">Solady</a></li>
<li><a href="src/contracts/core/libs/Strings.sol/library.Strings.html">Strings</a></li>
<li><a href="src/contracts/core/libs/Utils.sol/library.Conversions.html">Conversions</a></li>
<li><a href="src/contracts/core/libs/Utils.sol/library.Deploys.html">Deploys</a></li>
<li><a href="src/contracts/core/libs/Utils.sol/library.Proxies.html">Proxies</a></li>
<li><a href="src/contracts/core/libs/WadRay.sol/library.WadRay.html">WadRay</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="arrays"><a class="header" href="#arrays">Arrays</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/Arrays.sol">Git Source</a></p>
<h2 id="functions-47"><a class="header" href="#functions-47">Functions</a></h2>
<h3 id="empty"><a class="header" href="#empty">empty</a></h3>
<pre><code class="language-solidity">function empty(address[2] memory _addresses) internal pure returns (bool);
</code></pre>
<h3 id="empty-1"><a class="header" href="#empty-1">empty</a></h3>
<pre><code class="language-solidity">function empty(Enums.OracleType[2] memory _oracles) internal pure returns (bool);
</code></pre>
<h3 id="find"><a class="header" href="#find">find</a></h3>
<pre><code class="language-solidity">function find(address[] storage _elements, address _elementToFind) internal pure returns (FindResult memory result);
</code></pre>
<h3 id="find-1"><a class="header" href="#find-1">find</a></h3>
<pre><code class="language-solidity">function find(bytes32[] storage _elements, bytes32 _elementToFind) internal pure returns (FindResult memory result);
</code></pre>
<h3 id="find-2"><a class="header" href="#find-2">find</a></h3>
<pre><code class="language-solidity">function find(string[] storage _elements, string memory _elementToFind)
    internal
    pure
    returns (FindResult memory result);
</code></pre>
<h3 id="pushunique"><a class="header" href="#pushunique">pushUnique</a></h3>
<pre><code class="language-solidity">function pushUnique(address[] storage _elements, address _elementToAdd) internal;
</code></pre>
<h3 id="pushunique-1"><a class="header" href="#pushunique-1">pushUnique</a></h3>
<pre><code class="language-solidity">function pushUnique(bytes32[] storage _elements, bytes32 _elementToAdd) internal;
</code></pre>
<h3 id="pushunique-2"><a class="header" href="#pushunique-2">pushUnique</a></h3>
<pre><code class="language-solidity">function pushUnique(string[] storage _elements, string memory _elementToAdd) internal;
</code></pre>
<h3 id="removeexisting"><a class="header" href="#removeexisting">removeExisting</a></h3>
<pre><code class="language-solidity">function removeExisting(address[] storage _addresses, address _elementToRemove) internal;
</code></pre>
<h3 id="removeaddress"><a class="header" href="#removeaddress">removeAddress</a></h3>
<p><em>Removes an element by copying the last element to the element to remove's place and removing
the last element.</em></p>
<pre><code class="language-solidity">function removeAddress(address[] storage _addresses, address _elementToRemove, uint256 _elementIndex) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_addresses</code></td><td><code>address[]</code></td><td>The address array containing the item to be removed.</td></tr>
<tr><td><code>_elementToRemove</code></td><td><code>address</code></td><td>The element to be removed.</td></tr>
<tr><td><code>_elementIndex</code></td><td><code>uint256</code></td><td>The index of the element to be removed.</td></tr>
</tbody></table>
</div>
<h2 id="structs-2"><a class="header" href="#structs-2">Structs</a></h2>
<h3 id="findresult"><a class="header" href="#findresult">FindResult</a></h3>
<pre><code class="language-solidity">struct FindResult {
    uint256 index;
    bool exists;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enumerableset"><a class="header" href="#enumerableset">EnumerableSet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/EnumerableSet.sol">Git Source</a></p>
<p>*Library for managing
https://en.wikipedia.org/wiki/Set_(abstract_data_type)[sets] of primitive
types.
Sets have the following properties:</p>
<ul>
<li>Elements are added, removed, and checked for existence in constant time
(O(1)).</li>
<li>Elements are enumerated in O(n). No guarantees are made on the ordering.</li>
</ul>
<pre><code>contract Example {
// Add the library methods
using EnumerableSet for EnumerableSet.AddressSet;
// Declare a set state variable
EnumerableSet.AddressSet private mySet;
}
</code></pre>
<p>As of v3.3.0, sets of type <code>bytes32</code> (<code>Bytes32Set</code>), <code>address</code> (<code>AddressSet</code>)
and <code>uint256</code> (<code>UintSet</code>) are supported.*</p>
<h2 id="functions-48"><a class="header" href="#functions-48">Functions</a></h2>
<h3 id="_add"><a class="header" href="#_add">_add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function _add(Set storage set, bytes32 value) private returns (bool);
</code></pre>
<h3 id="_remove"><a class="header" href="#_remove">_remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function _remove(Set storage set, bytes32 value) private returns (bool);
</code></pre>
<h3 id="_contains"><a class="header" href="#_contains">_contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function _contains(Set storage set, bytes32 value) private view returns (bool);
</code></pre>
<h3 id="_length"><a class="header" href="#_length">_length</a></h3>
<p><em>Returns the number of values on the set. O(1).</em></p>
<pre><code class="language-solidity">function _length(Set storage set) private view returns (uint256);
</code></pre>
<h3 id="_at"><a class="header" href="#_at">_at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function _at(Set storage set, uint256 index) private view returns (bytes32);
</code></pre>
<h3 id="_values"><a class="header" href="#_values">_values</a></h3>
<p><em>Return the entire set in an array
WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed
to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that
this function has an unbounded cost, and using it as part of a state-changing function may render the function
uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.</em></p>
<pre><code class="language-solidity">function _values(Set storage set) private view returns (bytes32[] memory);
</code></pre>
<h3 id="add"><a class="header" href="#add">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(Bytes32Set storage set, bytes32 value) internal returns (bool);
</code></pre>
<h3 id="remove"><a class="header" href="#remove">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(Bytes32Set storage set, bytes32 value) internal returns (bool);
</code></pre>
<h3 id="contains"><a class="header" href="#contains">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(Bytes32Set storage set, bytes32 value) internal view returns (bool);
</code></pre>
<h3 id="length"><a class="header" href="#length">length</a></h3>
<p><em>Returns the number of values in the set. O(1).</em></p>
<pre><code class="language-solidity">function length(Bytes32Set storage set) internal view returns (uint256);
</code></pre>
<h3 id="at"><a class="header" href="#at">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(Bytes32Set storage set, uint256 index) internal view returns (bytes32);
</code></pre>
<h3 id="values"><a class="header" href="#values">values</a></h3>
<p><em>Return the entire set in an array
WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed
to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that
this function has an unbounded cost, and using it as part of a state-changing function may render the function
uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.</em></p>
<pre><code class="language-solidity">function values(Bytes32Set storage set) internal view returns (bytes32[] memory);
</code></pre>
<h3 id="add-1"><a class="header" href="#add-1">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(AddressSet storage set, address value) internal returns (bool);
</code></pre>
<h3 id="remove-1"><a class="header" href="#remove-1">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(AddressSet storage set, address value) internal returns (bool);
</code></pre>
<h3 id="contains-1"><a class="header" href="#contains-1">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(AddressSet storage set, address value) internal view returns (bool);
</code></pre>
<h3 id="length-1"><a class="header" href="#length-1">length</a></h3>
<p><em>Returns the number of values in the set. O(1).</em></p>
<pre><code class="language-solidity">function length(AddressSet storage set) internal view returns (uint256);
</code></pre>
<h3 id="at-1"><a class="header" href="#at-1">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(AddressSet storage set, uint256 index) internal view returns (address);
</code></pre>
<h3 id="values-1"><a class="header" href="#values-1">values</a></h3>
<p><em>Return the entire set in an array
WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed
to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that
this function has an unbounded cost, and using it as part of a state-changing function may render the function
uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.</em></p>
<pre><code class="language-solidity">function values(AddressSet storage set) internal view returns (address[] memory);
</code></pre>
<h3 id="add-2"><a class="header" href="#add-2">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(UintSet storage set, uint256 value) internal returns (bool);
</code></pre>
<h3 id="remove-2"><a class="header" href="#remove-2">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(UintSet storage set, uint256 value) internal returns (bool);
</code></pre>
<h3 id="contains-2"><a class="header" href="#contains-2">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(UintSet storage set, uint256 value) internal view returns (bool);
</code></pre>
<h3 id="length-2"><a class="header" href="#length-2">length</a></h3>
<p><em>Returns the number of values on the set. O(1).</em></p>
<pre><code class="language-solidity">function length(UintSet storage set) internal view returns (uint256);
</code></pre>
<h3 id="at-2"><a class="header" href="#at-2">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(UintSet storage set, uint256 index) internal view returns (uint256);
</code></pre>
<h3 id="values-2"><a class="header" href="#values-2">values</a></h3>
<p><em>Return the entire set in an array
WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed
to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that
this function has an unbounded cost, and using it as part of a state-changing function may render the function
uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.</em></p>
<pre><code class="language-solidity">function values(UintSet storage set) internal view returns (uint256[] memory);
</code></pre>
<h2 id="structs-3"><a class="header" href="#structs-3">Structs</a></h2>
<h3 id="set"><a class="header" href="#set">Set</a></h3>
<pre><code class="language-solidity">struct Set {
    bytes32[] _values;
    mapping(bytes32 =&gt; uint256) _indexes;
}
</code></pre>
<h3 id="bytes32set"><a class="header" href="#bytes32set">Bytes32Set</a></h3>
<pre><code class="language-solidity">struct Bytes32Set {
    Set _inner;
}
</code></pre>
<h3 id="addressset"><a class="header" href="#addressset">AddressSet</a></h3>
<pre><code class="language-solidity">struct AddressSet {
    Set _inner;
}
</code></pre>
<h3 id="uintset"><a class="header" href="#uintset">UintSet</a></h3>
<pre><code class="language-solidity">struct UintSet {
    Set _inner;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fixedpointmath"><a class="header" href="#fixedpointmath">FixedPointMath</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/FixedPointMath.sol">Git Source</a></p>
<p><strong>Authors:</strong>
Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/FixedPointMathLib.sol), Inspired by USM (https://github.com/usmfum/USM/blob/master/contracts/WadMath.sol)</p>
<p>Arithmetic library with operations for fixed-point numbers.</p>
<h2 id="state-variables-8"><a class="header" href="#state-variables-8">State Variables</a></h2>
<h3 id="max_uint256"><a class="header" href="#max_uint256">MAX_UINT256</a></h3>
<pre><code class="language-solidity">uint256 internal constant MAX_UINT256 = 2 ** 256 - 1;
</code></pre>
<h3 id="wad"><a class="header" href="#wad">WAD</a></h3>
<pre><code class="language-solidity">uint256 internal constant WAD = 1e18;
</code></pre>
<h2 id="functions-49"><a class="header" href="#functions-49">Functions</a></h2>
<h3 id="mulwaddown"><a class="header" href="#mulwaddown">mulWadDown</a></h3>
<pre><code class="language-solidity">function mulWadDown(uint256 x, uint256 y) internal pure returns (uint256);
</code></pre>
<h3 id="mulwadup"><a class="header" href="#mulwadup">mulWadUp</a></h3>
<pre><code class="language-solidity">function mulWadUp(uint256 x, uint256 y) internal pure returns (uint256);
</code></pre>
<h3 id="divwaddown"><a class="header" href="#divwaddown">divWadDown</a></h3>
<pre><code class="language-solidity">function divWadDown(uint256 x, uint256 y) internal pure returns (uint256);
</code></pre>
<h3 id="divwadup"><a class="header" href="#divwadup">divWadUp</a></h3>
<pre><code class="language-solidity">function divWadUp(uint256 x, uint256 y) internal pure returns (uint256);
</code></pre>
<h3 id="muldivdown"><a class="header" href="#muldivdown">mulDivDown</a></h3>
<pre><code class="language-solidity">function mulDivDown(uint256 x, uint256 y, uint256 denominator) internal pure returns (uint256 z);
</code></pre>
<h3 id="muldivup"><a class="header" href="#muldivup">mulDivUp</a></h3>
<pre><code class="language-solidity">function mulDivUp(uint256 x, uint256 y, uint256 denominator) internal pure returns (uint256 z);
</code></pre>
<h3 id="rpow"><a class="header" href="#rpow">rpow</a></h3>
<pre><code class="language-solidity">function rpow(uint256 x, uint256 n, uint256 scalar) internal pure returns (uint256 z);
</code></pre>
<h3 id="sqrt"><a class="header" href="#sqrt">sqrt</a></h3>
<pre><code class="language-solidity">function sqrt(uint256 x) internal pure returns (uint256 z);
</code></pre>
<h3 id="unsafemod"><a class="header" href="#unsafemod">unsafeMod</a></h3>
<pre><code class="language-solidity">function unsafeMod(uint256 x, uint256 y) internal pure returns (uint256 z);
</code></pre>
<h3 id="unsafediv"><a class="header" href="#unsafediv">unsafeDiv</a></h3>
<pre><code class="language-solidity">function unsafeDiv(uint256 x, uint256 y) internal pure returns (uint256 r);
</code></pre>
<h3 id="unsafedivup"><a class="header" href="#unsafedivup">unsafeDivUp</a></h3>
<pre><code class="language-solidity">function unsafeDivUp(uint256 x, uint256 y) internal pure returns (uint256 z);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meta"><a class="header" href="#meta">Meta</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/Meta.sol">Git Source</a></p>
<h2 id="state-variables-9"><a class="header" href="#state-variables-9">State Variables</a></h2>
<h3 id="eip712_domain_typehash"><a class="header" href="#eip712_domain_typehash">EIP712_DOMAIN_TYPEHASH</a></h3>
<pre><code class="language-solidity">bytes32 internal constant EIP712_DOMAIN_TYPEHASH =
    keccak256(bytes(&quot;EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)&quot;));
</code></pre>
<h2 id="functions-50"><a class="header" href="#functions-50">Functions</a></h2>
<h3 id="domainseparator-2"><a class="header" href="#domainseparator-2">domainSeparator</a></h3>
<pre><code class="language-solidity">function domainSeparator(string memory name, string memory version) internal view returns (bytes32 domainSeparator_);
</code></pre>
<h3 id="getchainid"><a class="header" href="#getchainid">getChainID</a></h3>
<pre><code class="language-solidity">function getChainID() internal view returns (uint256 id);
</code></pre>
<h3 id="msgsender"><a class="header" href="#msgsender">msgSender</a></h3>
<pre><code class="language-solidity">function msgSender() internal view returns (address sender_);
</code></pre>
<h3 id="enforcehascontractcode"><a class="header" href="#enforcehascontractcode">enforceHasContractCode</a></h3>
<pre><code class="language-solidity">function enforceHasContractCode(address _contract) internal view;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="percentagemath"><a class="header" href="#percentagemath">PercentageMath</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/PercentageMath.sol">Git Source</a></p>
<p><strong>Author:</strong>
Aave</p>
<p>Provides functions to perform percentage calculations</p>
<p><em>PercentageMath are defined by default with 2 decimals of precision (100.00).
The precision is indicated by PERCENTAGE_FACTOR</em></p>
<p><em>Operations are rounded. If a value is &gt;=.5, will be rounded up, otherwise rounded down.</em></p>
<h2 id="state-variables-10"><a class="header" href="#state-variables-10">State Variables</a></h2>
<h3 id="percentage_factor"><a class="header" href="#percentage_factor">PERCENTAGE_FACTOR</a></h3>
<pre><code class="language-solidity">uint256 internal constant PERCENTAGE_FACTOR = 1e4;
</code></pre>
<h3 id="half_percentage_factor"><a class="header" href="#half_percentage_factor">HALF_PERCENTAGE_FACTOR</a></h3>
<pre><code class="language-solidity">uint256 internal constant HALF_PERCENTAGE_FACTOR = 0.5e4;
</code></pre>
<h2 id="functions-51"><a class="header" href="#functions-51">Functions</a></h2>
<h3 id="percentmul"><a class="header" href="#percentmul">percentMul</a></h3>
<p>Executes a percentage multiplication</p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function percentMul(uint256 value, uint256 percentage) internal pure returns (uint256 result);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The value of which the percentage needs to be calculated</td></tr>
<tr><td><code>percentage</code></td><td><code>uint256</code></td><td>The percentage of the value to be calculated</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>result</code></td><td><code>uint256</code></td><td>value percentmul percentage</td></tr>
</tbody></table>
</div>
<h3 id="percentdiv"><a class="header" href="#percentdiv">percentDiv</a></h3>
<p>Executes a percentage division</p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function percentDiv(uint256 value, uint256 percentage) internal pure returns (uint256 result);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The value of which the percentage needs to be calculated</td></tr>
<tr><td><code>percentage</code></td><td><code>uint256</code></td><td>The percentage of the value to be calculated</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>result</code></td><td><code>uint256</code></td><td>value percentdiv percentage</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="redstone"><a class="header" href="#redstone">Redstone</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/Redstone.sol">Git Source</a></p>
<h2 id="state-variables-11"><a class="header" href="#state-variables-11">State Variables</a></h2>
<h3 id="standard_slot_bs"><a class="header" href="#standard_slot_bs">STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant STANDARD_SLOT_BS = 32;
</code></pre>
<h3 id="free_memory_ptr"><a class="header" href="#free_memory_ptr">FREE_MEMORY_PTR</a></h3>
<pre><code class="language-solidity">uint256 internal constant FREE_MEMORY_PTR = 0x40;
</code></pre>
<h3 id="bytes_arr_len_var_bs"><a class="header" href="#bytes_arr_len_var_bs">BYTES_ARR_LEN_VAR_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant BYTES_ARR_LEN_VAR_BS = 32;
</code></pre>
<h3 id="function_signature_bs"><a class="header" href="#function_signature_bs">FUNCTION_SIGNATURE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant FUNCTION_SIGNATURE_BS = 4;
</code></pre>
<h3 id="revert_msg_offset"><a class="header" href="#revert_msg_offset">REVERT_MSG_OFFSET</a></h3>
<pre><code class="language-solidity">uint256 internal constant REVERT_MSG_OFFSET = 68;
</code></pre>
<h3 id="string_err_message_mask"><a class="header" href="#string_err_message_mask">STRING_ERR_MESSAGE_MASK</a></h3>
<pre><code class="language-solidity">uint256 internal constant STRING_ERR_MESSAGE_MASK = 0x08c379a000000000000000000000000000000000000000000000000000000000;
</code></pre>
<h3 id="sig_bs"><a class="header" href="#sig_bs">SIG_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant SIG_BS = 65;
</code></pre>
<h3 id="timestamp_bs"><a class="header" href="#timestamp_bs">TIMESTAMP_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant TIMESTAMP_BS = 6;
</code></pre>
<h3 id="data_packages_count_bs"><a class="header" href="#data_packages_count_bs">DATA_PACKAGES_COUNT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_PACKAGES_COUNT_BS = 2;
</code></pre>
<h3 id="data_points_count_bs"><a class="header" href="#data_points_count_bs">DATA_POINTS_COUNT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_POINTS_COUNT_BS = 3;
</code></pre>
<h3 id="data_point_value_byte_size_bs"><a class="header" href="#data_point_value_byte_size_bs">DATA_POINT_VALUE_BYTE_SIZE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_POINT_VALUE_BYTE_SIZE_BS = 4;
</code></pre>
<h3 id="data_point_symbol_bs"><a class="header" href="#data_point_symbol_bs">DATA_POINT_SYMBOL_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_POINT_SYMBOL_BS = 32;
</code></pre>
<h3 id="default_data_point_value_bs"><a class="header" href="#default_data_point_value_bs">DEFAULT_DATA_POINT_VALUE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DEFAULT_DATA_POINT_VALUE_BS = 32;
</code></pre>
<h3 id="unsigned_metadata_byte_size_bs"><a class="header" href="#unsigned_metadata_byte_size_bs">UNSIGNED_METADATA_BYTE_SIZE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant UNSIGNED_METADATA_BYTE_SIZE_BS = 3;
</code></pre>
<h3 id="redstone_marker_bs"><a class="header" href="#redstone_marker_bs">REDSTONE_MARKER_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant REDSTONE_MARKER_BS = 9;
</code></pre>
<h3 id="redstone_marker_mask"><a class="header" href="#redstone_marker_mask">REDSTONE_MARKER_MASK</a></h3>
<pre><code class="language-solidity">uint256 internal constant REDSTONE_MARKER_MASK = 0x0000000000000000000000000000000000000000000000000002ed57011e0000;
</code></pre>
<h3 id="timestamp_negative_offset_in_data_package_with_standard_slot_bs"><a class="header" href="#timestamp_negative_offset_in_data_package_with_standard_slot_bs">TIMESTAMP_NEGATIVE_OFFSET_IN_DATA_PACKAGE_WITH_STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant TIMESTAMP_NEGATIVE_OFFSET_IN_DATA_PACKAGE_WITH_STANDARD_SLOT_BS = 104;
</code></pre>
<h3 id="data_package_without_data_points_bs"><a class="header" href="#data_package_without_data_points_bs">DATA_PACKAGE_WITHOUT_DATA_POINTS_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_PACKAGE_WITHOUT_DATA_POINTS_BS = 78;
</code></pre>
<h3 id="data_package_without_data_points_and_sig_bs"><a class="header" href="#data_package_without_data_points_and_sig_bs">DATA_PACKAGE_WITHOUT_DATA_POINTS_AND_SIG_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_PACKAGE_WITHOUT_DATA_POINTS_AND_SIG_BS = 13;
</code></pre>
<h3 id="redstone_marker_bs_plus_standard_slot_bs"><a class="header" href="#redstone_marker_bs_plus_standard_slot_bs">REDSTONE_MARKER_BS_PLUS_STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant REDSTONE_MARKER_BS_PLUS_STANDARD_SLOT_BS = 41;
</code></pre>
<h2 id="functions-52"><a class="header" href="#functions-52">Functions</a></h2>
<h3 id="sub"><a class="header" href="#sub">sub</a></h3>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="add-3"><a class="header" href="#add-3">add</a></h3>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="getprice-2"><a class="header" href="#getprice-2">getPrice</a></h3>
<p><em>This function can be used in a consumer contract to securely extract an
oracle value for a given data feed id. Security is achieved by
signatures verification, timestamp validation, and aggregating values
from different authorised signers into a single numeric value. If any of the
required conditions do not match, the function will revert.
Note! This function expects that tx calldata contains redstone payload in the end
Learn more about redstone payload here: https://github.com/redstone-finance/redstone-oracles-monorepo/tree/main/packages/evm-connector#readme</em></p>
<pre><code class="language-solidity">function getPrice(bytes32 dataFeedId) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dataFeedId</code></td><td><code>bytes32</code></td><td>bytes32 value that uniquely identifies the data feed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Extracted and verified numeric oracle value for the given data feed id</td></tr>
</tbody></table>
</div>
<h3 id="getauthorisedsignerindex"><a class="header" href="#getauthorisedsignerindex">getAuthorisedSignerIndex</a></h3>
<pre><code class="language-solidity">function getAuthorisedSignerIndex(address signerAddress) internal pure returns (uint8);
</code></pre>
<h3 id="getprices"><a class="header" href="#getprices">getPrices</a></h3>
<p><em>This function can be used in a consumer contract to securely extract several
numeric oracle values for a given array of data feed ids. Security is achieved by
signatures verification, timestamp validation, and aggregating values
from different authorised signers into a single numeric value. If any of the
required conditions do not match, the function will revert.
Note! This function expects that tx calldata contains redstone payload in the end
Learn more about redstone payload here: https://github.com/redstone-finance/redstone-oracles-monorepo/tree/main/packages/evm-connector#readme</em></p>
<pre><code class="language-solidity">function getPrices(bytes32[] memory dataFeedIds) internal view returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dataFeedIds</code></td><td><code>bytes32[]</code></td><td>An array of unique data feed identifiers</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>An array of the extracted and verified oracle values in the same order as they are requested in the dataFeedIds array</td></tr>
</tbody></table>
</div>
<h3 id="validatetimestamp"><a class="header" href="#validatetimestamp">validateTimestamp</a></h3>
<p><em>This function may be overridden by the child consumer contract.
It should validate the timestamp against the current time (block.timestamp)
It should revert with a helpful message if the timestamp is not valid</em></p>
<pre><code class="language-solidity">function validateTimestamp(uint256 receivedTimestampMilliseconds) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receivedTimestampMilliseconds</code></td><td><code>uint256</code></td><td>Timestamp extracted from calldata</td></tr>
</tbody></table>
</div>
<h3 id="getuniquesignersthreshold"><a class="header" href="#getuniquesignersthreshold">getUniqueSignersThreshold</a></h3>
<p><em>This function should be overridden by the child consumer contract.</em></p>
<pre><code class="language-solidity">function getUniqueSignersThreshold() internal pure returns (uint8);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint8</code></td><td>The minimum required value of unique authorised signers</td></tr>
</tbody></table>
</div>
<h3 id="aggregatevalues"><a class="header" href="#aggregatevalues">aggregateValues</a></h3>
<p><em>This function may be overridden by the child consumer contract.
It should aggregate values from different signers to a single uint value.
By default, it calculates the median value</em></p>
<pre><code class="language-solidity">function aggregateValues(uint256[] memory values) internal pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>values</code></td><td><code>uint256[]</code></td><td>An array of uint256 values from different signers</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Result of the aggregation in the form of a single number</td></tr>
</tbody></table>
</div>
<h3 id="_securelyextractoraclevaluesfromtxmsg"><a class="header" href="#_securelyextractoraclevaluesfromtxmsg">_securelyExtractOracleValuesFromTxMsg</a></h3>
<p><em>This is an internal helpful function for secure extraction oracle values
from the tx calldata. Security is achieved by signatures verification, timestamp
validation, and aggregating values from different authorised signers into a
single numeric value. If any of the required conditions (e.g. too old timestamp or
insufficient number of authorised signers) do not match, the function will revert.
Note! You should not call this function in a consumer contract. You can use
<code>getOracleNumericValuesFromTxMsg</code> or <code>getOracleNumericValueFromTxMsg</code> instead.</em></p>
<pre><code class="language-solidity">function _securelyExtractOracleValuesFromTxMsg(bytes32[] memory dataFeedIds) private view returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dataFeedIds</code></td><td><code>bytes32[]</code></td><td>An array of unique data feed identifiers</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>An array of the extracted and verified oracle values in the same order as they are requested in dataFeedIds array</td></tr>
</tbody></table>
</div>
<h3 id="_extractdatapackage"><a class="header" href="#_extractdatapackage">_extractDataPackage</a></h3>
<p><em>This is a private helpful function, which extracts data for a data package based
on the given negative calldata offset, verifies them, and in the case of successful
verification updates the corresponding data package values in memory</em></p>
<pre><code class="language-solidity">function _extractDataPackage(
    bytes32[] memory dataFeedIds,
    uint256[] memory uniqueSignerCountForDataFeedIds,
    uint256[] memory signersBitmapForDataFeedIds,
    uint256[][] memory valuesForDataFeeds,
    uint256 calldataNegativeOffset
) private view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dataFeedIds</code></td><td><code>bytes32[]</code></td><td>an array of unique data feed identifiers</td></tr>
<tr><td><code>uniqueSignerCountForDataFeedIds</code></td><td><code>uint256[]</code></td><td>an array with the numbers of unique signers for each data feed</td></tr>
<tr><td><code>signersBitmapForDataFeedIds</code></td><td><code>uint256[]</code></td><td>an array of signer bitmaps for data feeds</td></tr>
<tr><td><code>valuesForDataFeeds</code></td><td><code>uint256[][]</code></td><td>2-dimensional array, valuesForDataFeeds[i][j] contains j-th value for the i-th data feed</td></tr>
<tr><td><code>calldataNegativeOffset</code></td><td><code>uint256</code></td><td>negative calldata offset for the given data package</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>An array of the aggregated values</td></tr>
</tbody></table>
</div>
<h3 id="_getaggregatedvalues"><a class="header" href="#_getaggregatedvalues">_getAggregatedValues</a></h3>
<p><em>This is a private helpful function, which aggregates values from different
authorised signers for the given arrays of values for each data feed</em></p>
<pre><code class="language-solidity">function _getAggregatedValues(uint256[][] memory valuesForDataFeeds, uint256[] memory uniqueSignerCountForDataFeedIds)
    private
    pure
    returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>valuesForDataFeeds</code></td><td><code>uint256[][]</code></td><td>2-dimensional array, valuesForDataFeeds[i][j] contains j-th value for the i-th data feed</td></tr>
<tr><td><code>uniqueSignerCountForDataFeedIds</code></td><td><code>uint256[]</code></td><td>an array with the numbers of unique signers for each data feed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>An array of the aggregated values</td></tr>
</tbody></table>
</div>
<h3 id="_extractdatapointsdetailsfordatapackage"><a class="header" href="#_extractdatapointsdetailsfordatapackage">_extractDataPointsDetailsForDataPackage</a></h3>
<pre><code class="language-solidity">function _extractDataPointsDetailsForDataPackage(uint256 calldataNegativeOffsetForDataPackage)
    private
    pure
    returns (uint256 dataPointsCount, uint256 eachDataPointValueByteSize);
</code></pre>
<h3 id="_extractbytesizeofunsignedmetadata"><a class="header" href="#_extractbytesizeofunsignedmetadata">_extractByteSizeOfUnsignedMetadata</a></h3>
<pre><code class="language-solidity">function _extractByteSizeOfUnsignedMetadata() private pure returns (uint256);
</code></pre>
<h3 id="_extractdatapackagescountfromcalldata"><a class="header" href="#_extractdatapackagescountfromcalldata">_extractDataPackagesCountFromCalldata</a></h3>
<pre><code class="language-solidity">function _extractDataPackagesCountFromCalldata(uint256 calldataNegativeOffset)
    private
    pure
    returns (uint16 dataPackagesCount);
</code></pre>
<h3 id="_extractdatapointvalueanddatafeedid"><a class="header" href="#_extractdatapointvalueanddatafeedid">_extractDataPointValueAndDataFeedId</a></h3>
<pre><code class="language-solidity">function _extractDataPointValueAndDataFeedId(
    uint256 calldataNegativeOffsetForDataPackage,
    uint256 defaultDataPointValueByteSize,
    uint256 dataPointIndex
) private pure returns (bytes32 dataPointDataFeedId, uint256 dataPointValue);
</code></pre>
<h3 id="proxycalldata"><a class="header" href="#proxycalldata">proxyCalldata</a></h3>
<pre><code class="language-solidity">function proxyCalldata(address contractAddress, bytes memory encodedFunction, bool forwardValue)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="proxydelegatecalldata"><a class="header" href="#proxydelegatecalldata">proxyDelegateCalldata</a></h3>
<pre><code class="language-solidity">function proxyDelegateCalldata(address contractAddress, bytes memory encodedFunction) internal returns (bytes memory);
</code></pre>
<h3 id="proxycalldataview"><a class="header" href="#proxycalldataview">proxyCalldataView</a></h3>
<pre><code class="language-solidity">function proxyCalldataView(address contractAddress, bytes memory encodedFunction)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="_preparemessage"><a class="header" href="#_preparemessage">_prepareMessage</a></h3>
<pre><code class="language-solidity">function _prepareMessage(bytes memory encodedFunction) private pure returns (bytes memory);
</code></pre>
<h3 id="_getredstonepayloadbytesize"><a class="header" href="#_getredstonepayloadbytesize">_getRedstonePayloadByteSize</a></h3>
<pre><code class="language-solidity">function _getRedstonePayloadByteSize() private pure returns (uint256);
</code></pre>
<h3 id="_getdatapackagebytesize"><a class="header" href="#_getdatapackagebytesize">_getDataPackageByteSize</a></h3>
<pre><code class="language-solidity">function _getDataPackageByteSize(uint256 calldataNegativeOffset) private pure returns (uint256);
</code></pre>
<h3 id="_preparereturnvalue"><a class="header" href="#_preparereturnvalue">_prepareReturnValue</a></h3>
<pre><code class="language-solidity">function _prepareReturnValue(bool success, bytes memory result) internal pure returns (bytes memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="numericarraylib"><a class="header" href="#numericarraylib">NumericArrayLib</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/RedstoneInternals.sol">Git Source</a></p>
<h2 id="state-variables-12"><a class="header" href="#state-variables-12">State Variables</a></h2>
<h3 id="bytes_arr_len_var_bs-1"><a class="header" href="#bytes_arr_len_var_bs-1">BYTES_ARR_LEN_VAR_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant BYTES_ARR_LEN_VAR_BS = 32;
</code></pre>
<h3 id="uint256_value_bs"><a class="header" href="#uint256_value_bs">UINT256_VALUE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant UINT256_VALUE_BS = 32;
</code></pre>
<h2 id="functions-53"><a class="header" href="#functions-53">Functions</a></h2>
<h3 id="pickmedian"><a class="header" href="#pickmedian">pickMedian</a></h3>
<pre><code class="language-solidity">function pickMedian(uint256[] memory arr) internal pure returns (uint256);
</code></pre>
<h3 id="sort"><a class="header" href="#sort">sort</a></h3>
<pre><code class="language-solidity">function sort(uint256[] memory arr) internal pure;
</code></pre>
<h2 id="errors-5"><a class="header" href="#errors-5">Errors</a></h2>
<h3 id="cannotpickmedianofemptyarray"><a class="header" href="#cannotpickmedianofemptyarray">CanNotPickMedianOfEmptyArray</a></h3>
<pre><code class="language-solidity">error CanNotPickMedianOfEmptyArray();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redstonedefaultslib"><a class="header" href="#redstonedefaultslib">RedstoneDefaultsLib</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/RedstoneInternals.sol">Git Source</a></p>
<p><strong>Author:</strong>
The Redstone Oracles team</p>
<h2 id="state-variables-13"><a class="header" href="#state-variables-13">State Variables</a></h2>
<h3 id="default_max_data_timestamp_delay_seconds"><a class="header" href="#default_max_data_timestamp_delay_seconds">DEFAULT_MAX_DATA_TIMESTAMP_DELAY_SECONDS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DEFAULT_MAX_DATA_TIMESTAMP_DELAY_SECONDS = 3 minutes;
</code></pre>
<h3 id="default_max_data_timestamp_ahead_seconds"><a class="header" href="#default_max_data_timestamp_ahead_seconds">DEFAULT_MAX_DATA_TIMESTAMP_AHEAD_SECONDS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DEFAULT_MAX_DATA_TIMESTAMP_AHEAD_SECONDS = 1 minutes;
</code></pre>
<h2 id="functions-54"><a class="header" href="#functions-54">Functions</a></h2>
<h3 id="validatetimestamp-1"><a class="header" href="#validatetimestamp-1">validateTimestamp</a></h3>
<pre><code class="language-solidity">function validateTimestamp(uint256 receivedTimestampMilliseconds) internal view;
</code></pre>
<h3 id="aggregatevalues-1"><a class="header" href="#aggregatevalues-1">aggregateValues</a></h3>
<pre><code class="language-solidity">function aggregateValues(uint256[] memory values) internal pure returns (uint256);
</code></pre>
<h2 id="errors-6"><a class="header" href="#errors-6">Errors</a></h2>
<h3 id="timestampfromtoolongfuture"><a class="header" href="#timestampfromtoolongfuture">TimestampFromTooLongFuture</a></h3>
<pre><code class="language-solidity">error TimestampFromTooLongFuture(uint256 receivedTimestampSeconds, uint256 blockTimestamp);
</code></pre>
<h3 id="timestampistooold"><a class="header" href="#timestampistooold">TimestampIsTooOld</a></h3>
<pre><code class="language-solidity">error TimestampIsTooOld(uint256 receivedTimestampSeconds, uint256 blockTimestamp);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bitmaplib"><a class="header" href="#bitmaplib">BitmapLib</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/RedstoneInternals.sol">Git Source</a></p>
<h2 id="functions-55"><a class="header" href="#functions-55">Functions</a></h2>
<h3 id="setbitinbitmap"><a class="header" href="#setbitinbitmap">setBitInBitmap</a></h3>
<pre><code class="language-solidity">function setBitInBitmap(uint256 bitmap, uint256 bitIndex) internal pure returns (uint256);
</code></pre>
<h3 id="getbitfrombitmap"><a class="header" href="#getbitfrombitmap">getBitFromBitmap</a></h3>
<pre><code class="language-solidity">function getBitFromBitmap(uint256 bitmap, uint256 bitIndex) internal pure returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="signaturelib"><a class="header" href="#signaturelib">SignatureLib</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/RedstoneInternals.sol">Git Source</a></p>
<h2 id="state-variables-14"><a class="header" href="#state-variables-14">State Variables</a></h2>
<h3 id="ecdsa_sig_r_bs"><a class="header" href="#ecdsa_sig_r_bs">ECDSA_SIG_R_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant ECDSA_SIG_R_BS = 32;
</code></pre>
<h3 id="ecdsa_sig_s_bs"><a class="header" href="#ecdsa_sig_s_bs">ECDSA_SIG_S_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant ECDSA_SIG_S_BS = 32;
</code></pre>
<h2 id="functions-56"><a class="header" href="#functions-56">Functions</a></h2>
<h3 id="recoversigneraddress"><a class="header" href="#recoversigneraddress">recoverSignerAddress</a></h3>
<pre><code class="language-solidity">function recoverSignerAddress(bytes32 signedHash, uint256 signatureCalldataNegativeOffset)
    internal
    pure
    returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redstoneerror"><a class="header" href="#redstoneerror">RedstoneError</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/RedstoneInternals.sol">Git Source</a></p>
<p><strong>Author:</strong>
The Redstone Oracles team</p>
<p><em>It mainly contains redstone-related values, which improve readability
of other contracts (e.g. CalldataExtractor and RedstoneConsumerBase)</em></p>
<h2 id="errors-7"><a class="header" href="#errors-7">Errors</a></h2>
<h3 id="proxycalldatafailedwithouterrmsg2"><a class="header" href="#proxycalldatafailedwithouterrmsg2">ProxyCalldataFailedWithoutErrMsg2</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithoutErrMsg2();
</code></pre>
<h3 id="proxycalldatafailedwithouterrmsg"><a class="header" href="#proxycalldatafailedwithouterrmsg">ProxyCalldataFailedWithoutErrMsg</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithoutErrMsg();
</code></pre>
<h3 id="calldataoverorunderflow"><a class="header" href="#calldataoverorunderflow">CalldataOverOrUnderFlow</a></h3>
<pre><code class="language-solidity">error CalldataOverOrUnderFlow();
</code></pre>
<h3 id="proxycalldatafailedwithcustomerror"><a class="header" href="#proxycalldatafailedwithcustomerror">ProxyCalldataFailedWithCustomError</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithCustomError(bytes result);
</code></pre>
<h3 id="incorrectunsignedmetadatasize"><a class="header" href="#incorrectunsignedmetadatasize">IncorrectUnsignedMetadataSize</a></h3>
<pre><code class="language-solidity">error IncorrectUnsignedMetadataSize();
</code></pre>
<h3 id="proxycalldatafailedwithstringmessage"><a class="header" href="#proxycalldatafailedwithstringmessage">ProxyCalldataFailedWithStringMessage</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithStringMessage(string);
</code></pre>
<h3 id="insufficientnumberofuniquesigners"><a class="header" href="#insufficientnumberofuniquesigners">InsufficientNumberOfUniqueSigners</a></h3>
<pre><code class="language-solidity">error InsufficientNumberOfUniqueSigners(uint256 receivedSignersCount, uint256 requiredSignersCount);
</code></pre>
<h3 id="eachsignermustprovidethesamevalue"><a class="header" href="#eachsignermustprovidethesamevalue">EachSignerMustProvideTheSameValue</a></h3>
<pre><code class="language-solidity">error EachSignerMustProvideTheSameValue();
</code></pre>
<h3 id="emptycalldatapointersarr"><a class="header" href="#emptycalldatapointersarr">EmptyCalldataPointersArr</a></h3>
<pre><code class="language-solidity">error EmptyCalldataPointersArr();
</code></pre>
<h3 id="invalidcalldatapointer"><a class="header" href="#invalidcalldatapointer">InvalidCalldataPointer</a></h3>
<pre><code class="language-solidity">error InvalidCalldataPointer();
</code></pre>
<h3 id="calldatamusthavevalidpayload"><a class="header" href="#calldatamusthavevalidpayload">CalldataMustHaveValidPayload</a></h3>
<pre><code class="language-solidity">error CalldataMustHaveValidPayload();
</code></pre>
<h3 id="signernotauthorised"><a class="header" href="#signernotauthorised">SignerNotAuthorised</a></h3>
<pre><code class="language-solidity">error SignerNotAuthorised(address receivedSigner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="solady"><a class="header" href="#solady">Solady</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/Solady.sol">Git Source</a></p>
<p><strong>Author:</strong>
Solady https://github.com/Vectorized/solady</p>
<h2 id="state-variables-15"><a class="header" href="#state-variables-15">State Variables</a></h2>
<h3 id="_proxy_bytecode"><a class="header" href="#_proxy_bytecode">_PROXY_BYTECODE</a></h3>
<p>-------------------------------------------------------------------+
Opcode      | Mnemonic         | Stack        | Memory             |
-------------------------------------------------------------------|
36          | CALLDATASIZE     | cds          |                    |
3d          | RETURNDATASIZE   | 0 cds        |                    |
3d          | RETURNDATASIZE   | 0 0 cds      |                    |
37          | CALLDATACOPY     |              | [0..cds): calldata |
36          | CALLDATASIZE     | cds          | [0..cds): calldata |
3d          | RETURNDATASIZE   | 0 cds        | [0..cds): calldata |
34          | CALLVALUE        | value 0 cds  | [0..cds): calldata |
f0          | CREATE           | newContract  | [0..cds): calldata |
-------------------------------------------------------------------|
Opcode      | Mnemonic         | Stack        | Memory             |
-------------------------------------------------------------------|
67 bytecode | PUSH8 bytecode   | bytecode     |                    |
3d          | RETURNDATASIZE   | 0 bytecode   |                    |
52          | MSTORE           |              | [0..8): bytecode   |
60 0x08     | PUSH1 0x08       | 0x08         | [0..8): bytecode   |
60 0x18     | PUSH1 0x18       | 0x18 0x08    | [0..8): bytecode   |
f3          | RETURN           |              | [0..8): bytecode   |
-------------------------------------------------------------------+</p>
<p><em>The proxy bytecode.</em></p>
<pre><code class="language-solidity">uint256 private constant _PROXY_BYTECODE = 0x67363d3d37363d34f03d5260086018f3;
</code></pre>
<h3 id="_proxy_bytecode_hash"><a class="header" href="#_proxy_bytecode_hash">_PROXY_BYTECODE_HASH</a></h3>
<p><em>Hash of the <code>_PROXY_BYTECODE</code>.
Equivalent to <code>keccak256(abi.encodePacked(hex&quot;67363d3d37363d34f03d5260086018f3&quot;))</code>.</em></p>
<pre><code class="language-solidity">bytes32 private constant _PROXY_BYTECODE_HASH = 0x21c35dbe1b344a2488cf3321d6ce542f8e9f305544ff09e4993a62319a497c1f;
</code></pre>
<h2 id="functions-57"><a class="header" href="#functions-57">Functions</a></h2>
<h3 id="create3"><a class="header" href="#create3">create3</a></h3>
<p>Deploy to deterministic addresses without an initcode factor.
Modified from Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/CREATE3.sol)
Modified from 0xSequence (https://github.com/0xSequence/create3/blob/master/contracts/Create3.sol)</p>
<p><em>Deploys <code>creationCode</code> deterministically with a <code>salt</code>.
The deployed contract is funded with <code>value</code> (in wei) ETH.
Returns the deterministic address of the deployed contract,
which solely depends on <code>salt</code>.</em></p>
<pre><code class="language-solidity">function create3(bytes32 salt, bytes memory creationCode, uint256 value) internal returns (address deployed);
</code></pre>
<h3 id="peek3"><a class="header" href="#peek3">peek3</a></h3>
<p><em>Returns the deterministic address for <code>salt</code>.</em></p>
<pre><code class="language-solidity">function peek3(bytes32 salt) internal view returns (address deployed);
</code></pre>
<h3 id="multicall"><a class="header" href="#multicall">multicall</a></h3>
<p>Enables a single call to call multiple methods on itself.
Solady (https://github.com/vectorized/solady/blob/main/src/utils/Multicallable.sol)
Modified from Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/Multicallable.sol)</p>
<p><em>Apply <code>DELEGATECALL</code> with the current contract to each calldata in <code>data</code>,
and store the <code>abi.encode</code> formatted results of each <code>DELEGATECALL</code> into <code>results</code>.
If any of the <code>DELEGATECALL</code>s reverts, the entire context is reverted,
and the error is bubbled up.
For payable, see: https://www.paradigm.xyz/2021/08/two-rights-might-make-a-wrong)
For efficiency, this function will directly return the results, terminating the context.
If called internally, it must be called at the end of a function
that returns <code>(bytes[] memory)</code>.</em></p>
<pre><code class="language-solidity">function multicall(bytes[] calldata data) internal returns (bytes[] memory);
</code></pre>
<h2 id="errors-8"><a class="header" href="#errors-8">Errors</a></h2>
<h3 id="deploymentfailed"><a class="header" href="#deploymentfailed">DeploymentFailed</a></h3>
<p><em>Unable to deploy the contract.</em></p>
<pre><code class="language-solidity">error DeploymentFailed();
</code></pre>
<h3 id="initializationfailed"><a class="header" href="#initializationfailed">InitializationFailed</a></h3>
<p><em>Unable to initialize the contract.</em></p>
<pre><code class="language-solidity">error InitializationFailed();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strings"><a class="header" href="#strings">Strings</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/Strings.sol">Git Source</a></p>
<p><em>String operations.</em></p>
<h2 id="state-variables-16"><a class="header" href="#state-variables-16">State Variables</a></h2>
<h3 id="_hex_symbols"><a class="header" href="#_hex_symbols">_HEX_SYMBOLS</a></h3>
<pre><code class="language-solidity">bytes16 private constant _HEX_SYMBOLS = &quot;0123456789abcdef&quot;;
</code></pre>
<h2 id="functions-58"><a class="header" href="#functions-58">Functions</a></h2>
<h3 id="tostring"><a class="header" href="#tostring">toString</a></h3>
<pre><code class="language-solidity">function toString(bytes32 value) internal pure returns (string memory);
</code></pre>
<h3 id="tostring-1"><a class="header" href="#tostring-1">toString</a></h3>
<p><em>Converts a <code>uint256</code> to its ASCII <code>string</code> decimal representation.</em></p>
<pre><code class="language-solidity">function toString(uint256 value) internal pure returns (string memory);
</code></pre>
<h3 id="tohexstring"><a class="header" href="#tohexstring">toHexString</a></h3>
<p><em>Converts a <code>uint256</code> to its ASCII <code>string</code> hexadecimal representation.</em></p>
<pre><code class="language-solidity">function toHexString(uint256 value) internal pure returns (string memory);
</code></pre>
<h3 id="tohexstring-1"><a class="header" href="#tohexstring-1">toHexString</a></h3>
<p><em>Converts a <code>uint256</code> to its ASCII <code>string</code> hexadecimal representation with fixed length.</em></p>
<pre><code class="language-solidity">function toHexString(uint256 value, uint256 length) internal pure returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conversions"><a class="header" href="#conversions">Conversions</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/Utils.sol">Git Source</a></p>
<h2 id="functions-59"><a class="header" href="#functions-59">Functions</a></h2>
<h3 id="toaddress"><a class="header" href="#toaddress">toAddress</a></h3>
<pre><code class="language-solidity">function toAddress(bytes32 b) internal pure returns (address);
</code></pre>
<h3 id="tobytes32"><a class="header" href="#tobytes32">toBytes32</a></h3>
<pre><code class="language-solidity">function toBytes32(address a) internal pure returns (bytes32);
</code></pre>
<h3 id="toaddr"><a class="header" href="#toaddr">toAddr</a></h3>
<pre><code class="language-solidity">function toAddr(bytes memory b) internal pure returns (address);
</code></pre>
<h3 id="todeployment"><a class="header" href="#todeployment">toDeployment</a></h3>
<pre><code class="language-solidity">function toDeployment(bytes memory b) internal pure returns (Deployment memory);
</code></pre>
<h3 id="toasset"><a class="header" href="#toasset">toAsset</a></h3>
<pre><code class="language-solidity">function toAsset(bytes memory b) internal pure returns (Asset memory);
</code></pre>
<h3 id="toarray"><a class="header" href="#toarray">toArray</a></h3>
<pre><code class="language-solidity">function toArray(bytes memory value) internal pure returns (bytes[] memory result);
</code></pre>
<h3 id="add-4"><a class="header" href="#add-4">add</a></h3>
<pre><code class="language-solidity">function add(bytes32 a, uint256 b) internal pure returns (bytes32);
</code></pre>
<h3 id="sub-1"><a class="header" href="#sub-1">sub</a></h3>
<pre><code class="language-solidity">function sub(bytes32 a, uint256 b) internal pure returns (bytes32);
</code></pre>
<h3 id="map"><a class="header" href="#map">map</a></h3>
<pre><code class="language-solidity">function map(bytes[] memory rawData, function(bytes memory) pure returns (address) dataHandler)
    internal
    pure
    returns (address[] memory result);
</code></pre>
<h3 id="map-1"><a class="header" href="#map-1">map</a></h3>
<pre><code class="language-solidity">function map(bytes[] memory rawData, function(bytes memory) pure returns (Deployment memory) dataHandler)
    internal
    pure
    returns (Deployment[] memory result);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deploys"><a class="header" href="#deploys">Deploys</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/Utils.sol">Git Source</a></p>
<h2 id="functions-60"><a class="header" href="#functions-60">Functions</a></h2>
<h3 id="create-1"><a class="header" href="#create-1">create</a></h3>
<pre><code class="language-solidity">function create(bytes memory creationCode, uint256 value) internal returns (address location);
</code></pre>
<h3 id="create2"><a class="header" href="#create2">create2</a></h3>
<pre><code class="language-solidity">function create2(bytes32 salt, bytes memory creationCode, uint256 value) internal returns (address location);
</code></pre>
<h3 id="create3-1"><a class="header" href="#create3-1">create3</a></h3>
<pre><code class="language-solidity">function create3(bytes32 salt, bytes memory creationCode, uint256 value) internal returns (address location);
</code></pre>
<h3 id="create-2"><a class="header" href="#create-2">create</a></h3>
<pre><code class="language-solidity">function create(bytes memory creationCode) internal returns (address location);
</code></pre>
<h3 id="create2-1"><a class="header" href="#create2-1">create2</a></h3>
<pre><code class="language-solidity">function create2(bytes32 salt, bytes memory creationCode) internal returns (address location);
</code></pre>
<h3 id="create3-2"><a class="header" href="#create3-2">create3</a></h3>
<pre><code class="language-solidity">function create3(bytes32 salt, bytes memory creationCode) internal returns (address location);
</code></pre>
<h3 id="peek2"><a class="header" href="#peek2">peek2</a></h3>
<pre><code class="language-solidity">function peek2(bytes32 salt, address _c2caller, bytes memory creationCode) internal pure returns (address);
</code></pre>
<h3 id="peek3-1"><a class="header" href="#peek3-1">peek3</a></h3>
<pre><code class="language-solidity">function peek3(bytes32 salt) internal view returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proxies"><a class="header" href="#proxies">Proxies</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/Utils.sol">Git Source</a></p>
<h2 id="functions-61"><a class="header" href="#functions-61">Functions</a></h2>
<h3 id="proxyinitcode"><a class="header" href="#proxyinitcode">proxyInitCode</a></h3>
<pre><code class="language-solidity">function proxyInitCode(address implementation, address _factory, bytes memory _calldata)
    internal
    pure
    returns (bytes memory);
</code></pre>
<h3 id="proxyinitcode-1"><a class="header" href="#proxyinitcode-1">proxyInitCode</a></h3>
<pre><code class="language-solidity">function proxyInitCode(address implementation, bytes memory _calldata) internal view returns (bytes memory);
</code></pre>
<h3 id="proxyinitcodehash"><a class="header" href="#proxyinitcodehash">proxyInitCodeHash</a></h3>
<pre><code class="language-solidity">function proxyInitCodeHash(address implementation, address _factory, bytes memory _calldata)
    internal
    pure
    returns (bytes32);
</code></pre>
<h3 id="proxyinitcodehash-1"><a class="header" href="#proxyinitcodehash-1">proxyInitCodeHash</a></h3>
<pre><code class="language-solidity">function proxyInitCodeHash(address implementation, bytes memory _calldata) internal view returns (bytes32);
</code></pre>
<h3 id="asinterface"><a class="header" href="#asinterface">asInterface</a></h3>
<pre><code class="language-solidity">function asInterface(address proxy) internal pure returns (ITransparentUpgradeableProxy);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wadray"><a class="header" href="#wadray">WadRay</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/libs/WadRay.sol">Git Source</a></p>
<p><strong>Author:</strong>
Aave</p>
<p>Provides functions to perform calculations with Wad and Ray units</p>
<p><em>Provides mul and div function for wads (decimal numbers with 18 digits of precision) and rays (decimal numbers
with 27 digits of precision)</em></p>
<p><em>Operations are rounded. If a value is &gt;=.5, will be rounded up, otherwise rounded down.</em></p>
<h2 id="state-variables-17"><a class="header" href="#state-variables-17">State Variables</a></h2>
<h3 id="wad-1"><a class="header" href="#wad-1">WAD</a></h3>
<pre><code class="language-solidity">uint256 internal constant WAD = 1e18;
</code></pre>
<h3 id="half_wad"><a class="header" href="#half_wad">HALF_WAD</a></h3>
<pre><code class="language-solidity">uint256 internal constant HALF_WAD = 0.5e18;
</code></pre>
<h3 id="ray"><a class="header" href="#ray">RAY</a></h3>
<pre><code class="language-solidity">uint256 internal constant RAY = 1e27;
</code></pre>
<h3 id="half_ray"><a class="header" href="#half_ray">HALF_RAY</a></h3>
<pre><code class="language-solidity">uint256 internal constant HALF_RAY = 0.5e27;
</code></pre>
<h3 id="wad_ray_ratio"><a class="header" href="#wad_ray_ratio">WAD_RAY_RATIO</a></h3>
<pre><code class="language-solidity">uint256 internal constant WAD_RAY_RATIO = 1e9;
</code></pre>
<h2 id="functions-62"><a class="header" href="#functions-62">Functions</a></h2>
<h3 id="wadmul"><a class="header" href="#wadmul">wadMul</a></h3>
<p><em>Multiplies two wad, rounding half up to the nearest wad</em></p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function wadMul(uint256 a, uint256 b) internal pure returns (uint256 c);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Wad</td></tr>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>Wad</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>c</code></td><td><code>uint256</code></td><td>= a*b, in wad</td></tr>
</tbody></table>
</div>
<h3 id="waddiv"><a class="header" href="#waddiv">wadDiv</a></h3>
<p><em>Divides two wad, rounding half up to the nearest wad</em></p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function wadDiv(uint256 a, uint256 b) internal pure returns (uint256 c);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Wad</td></tr>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>Wad</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>c</code></td><td><code>uint256</code></td><td>= a/b, in wad</td></tr>
</tbody></table>
</div>
<h3 id="raymul"><a class="header" href="#raymul">rayMul</a></h3>
<p>Multiplies two ray, rounding half up to the nearest ray</p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function rayMul(uint256 a, uint256 b) internal pure returns (uint256 c);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Ray</td></tr>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>Ray</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>c</code></td><td><code>uint256</code></td><td>= a raymul b</td></tr>
</tbody></table>
</div>
<h3 id="raydiv"><a class="header" href="#raydiv">rayDiv</a></h3>
<p>Divides two ray, rounding half up to the nearest ray</p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function rayDiv(uint256 a, uint256 b) internal pure returns (uint256 c);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Ray</td></tr>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>Ray</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>c</code></td><td><code>uint256</code></td><td>= a raydiv b</td></tr>
</tbody></table>
</div>
<h3 id="raytowad"><a class="header" href="#raytowad">rayToWad</a></h3>
<p><em>Casts ray down to wad</em></p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function rayToWad(uint256 a) internal pure returns (uint256 b);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Ray</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>= a converted to wad, rounded half up to the nearest wad</td></tr>
</tbody></table>
</div>
<h3 id="wadtoray"><a class="header" href="#wadtoray">wadToRay</a></h3>
<p><em>Converts wad up to ray</em></p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function wadToRay(uint256 a) internal pure returns (uint256 b);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Wad</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>= a converted in ray</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-14"><a class="header" href="#contents-14">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/minter//src/contracts/core/minter/facets">facets</a></li>
<li><a href="src/contracts/core/minter//src/contracts/core/minter/funcs">funcs</a></li>
<li><a href="src/contracts/core/minter//src/contracts/core/minter/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/minter/MEvent.sol/interface.IEventFieldProvider.html">IEventFieldProvider</a></li>
<li><a href="src/contracts/core/minter/MEvent.sol/library.MEvent.html">MEvent</a></li>
<li><a href="src/contracts/core/minter/MState.sol/struct.MinterState.html">MinterState</a></li>
<li><a href="src/contracts/core/minter/MState.sol/function.ms.html">ms</a></li>
<li><a href="src/contracts/core/minter/MState.sol/constants.MState.html">MState constants</a></li>
<li><a href="src/contracts/core/minter/MTypes.sol/struct.LiquidateExecution.html">LiquidateExecution</a></li>
<li><a href="src/contracts/core/minter/MTypes.sol/struct.LiquidationArgs.html">LiquidationArgs</a></li>
<li><a href="src/contracts/core/minter/MTypes.sol/struct.MinterAccountState.html">MinterAccountState</a></li>
<li><a href="src/contracts/core/minter/MTypes.sol/struct.MinterInitArgs.html">MinterInitArgs</a></li>
<li><a href="src/contracts/core/minter/MTypes.sol/struct.MinterParams.html">MinterParams</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-15"><a class="header" href="#contents-15">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/minter/facets/MinterAccountStateFacet.sol/contract.MinterAccountStateFacet.html">MinterAccountStateFacet</a></li>
<li><a href="src/contracts/core/minter/facets/MinterAccountStateFacet.sol/function.accountTotalDebtValues.html">accountTotalDebtValues</a></li>
<li><a href="src/contracts/core/minter/facets/MinterAccountStateFacet.sol/function.accountTotalCollateralValues.html">accountTotalCollateralValues</a></li>
<li><a href="src/contracts/core/minter/facets/MinterBurnFacet.sol/contract.MinterBurnFacet.html">MinterBurnFacet</a></li>
<li><a href="src/contracts/core/minter/facets/MinterConfigurationFacet.sol/contract.MinterConfigurationFacet.html">MinterConfigurationFacet</a></li>
<li><a href="src/contracts/core/minter/facets/MinterDepositWithdrawFacet.sol/contract.MinterDepositWithdrawFacet.html">MinterDepositWithdrawFacet</a></li>
<li><a href="src/contracts/core/minter/facets/MinterLiquidationFacet.sol/contract.MinterLiquidationFacet.html">MinterLiquidationFacet</a></li>
<li><a href="src/contracts/core/minter/facets/MinterMintFacet.sol/contract.MinterMintFacet.html">MinterMintFacet</a></li>
<li><a href="src/contracts/core/minter/facets/MinterStateFacet.sol/contract.MinterStateFacet.html">MinterStateFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minteraccountstatefacet"><a class="header" href="#minteraccountstatefacet">MinterAccountStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/facets/MinterAccountStateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/MinterAccountStateFacet.sol//docs/book/src/src/contracts/core/minter/interfaces/IMinterAccountStateFacet.sol/interface.IMinterAccountStateFacet.html">IMinterAccountStateFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Views concerning account state</p>
<h2 id="functions-63"><a class="header" href="#functions-63">Functions</a></h2>
<h3 id="getaccountliquidatable"><a class="header" href="#getaccountliquidatable">getAccountLiquidatable</a></h3>
<p>Calculates if an account's current collateral value is under its minimum collateral value</p>
<pre><code class="language-solidity">function getAccountLiquidatable(address _account) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool Indicates if the account can be liquidated.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountstate"><a class="header" href="#getaccountstate">getAccountState</a></h3>
<p>Get accounts state in the Minter.</p>
<pre><code class="language-solidity">function getAccountState(address _account) external view returns (MinterAccountState memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account address to get the state for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MinterAccountState</code></td><td>MinterAccountState Total debt value, total collateral value and collateral ratio.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmintindex"><a class="header" href="#getaccountmintindex">getAccountMintIndex</a></h3>
<p>Gets an index for the Kresko asset the account has minted.</p>
<pre><code class="language-solidity">function getAccountMintIndex(address _account, address _krAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the minted Kresko assets for.</td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The asset lookup address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>index The index of asset in the minted assets array.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmintedassets"><a class="header" href="#getaccountmintedassets">getAccountMintedAssets</a></h3>
<p>Gets an array of Kresko assets the account has minted.</p>
<pre><code class="language-solidity">function getAccountMintedAssets(address _account) external view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the minted Kresko assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] Array of Kresko Asset addresses the account has minted.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldebtvalues"><a class="header" href="#getaccounttotaldebtvalues">getAccountTotalDebtValues</a></h3>
<p>Gets the total Kresko asset debt value in USD for an account.</p>
<pre><code class="language-solidity">function getAccountTotalDebtValues(address _account) external view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the Kresko asset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value of debt.</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>The kFactor adjusted value of debt.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldebtvalue"><a class="header" href="#getaccounttotaldebtvalue">getAccountTotalDebtValue</a></h3>
<p>Gets the total Kresko asset debt value in USD for an account.</p>
<pre><code class="language-solidity">function getAccountTotalDebtValue(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to calculate the Kresko asset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Total debt value of <code>_account</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountdebtamount"><a class="header" href="#getaccountdebtamount">getAccountDebtAmount</a></h3>
<p>Get <code>_account</code> debt amount for <code>_asset</code></p>
<pre><code class="language-solidity">function getAccountDebtAmount(address _account, address _assetAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to query amount for</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Amount of debt for <code>_assetAddr</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralassets"><a class="header" href="#getaccountcollateralassets">getAccountCollateralAssets</a></h3>
<p>Gets an array of collateral assets the account has deposited.</p>
<pre><code class="language-solidity">function getAccountCollateralAssets(address _account) external view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the deposited collateral assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] Array of collateral asset addresses the account has deposited.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralamount"><a class="header" href="#getaccountcollateralamount">getAccountCollateralAmount</a></h3>
<p>Get <code>_account</code> collateral deposit amount for <code>_assetAddr</code></p>
<pre><code class="language-solidity">function getAccountCollateralAmount(address _account, address _assetAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to query amount for</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Amount of collateral deposited for <code>_assetAddr</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountdepositindex"><a class="header" href="#getaccountdepositindex">getAccountDepositIndex</a></h3>
<p>Gets an index for the collateral asset the account has deposited.</p>
<pre><code class="language-solidity">function getAccountDepositIndex(address _account, address _collateralAsset) external view returns (uint256 i);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the index for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>i</code></td><td><code>uint256</code></td><td>Index of the minted collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalcollateralvalue"><a class="header" href="#getaccounttotalcollateralvalue">getAccountTotalCollateralValue</a></h3>
<p>Gets the adjusted collateral value of a particular account.</p>
<pre><code class="language-solidity">function getAccountTotalCollateralValue(address _account) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the collateral value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>valueAdjusted Collateral value of a particular account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalcollateralvalues"><a class="header" href="#getaccounttotalcollateralvalues">getAccountTotalCollateralValues</a></h3>
<p>Gets the adjusted and unadjusted collateral value of <code>_account</code>.</p>
<pre><code class="language-solidity">function getAccountTotalCollateralValues(address _account) public view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the values for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Unadjusted total value of the collateral deposits.</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>cFactor adjusted total value of the collateral deposits.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralvalues"><a class="header" href="#getaccountcollateralvalues">getAccountCollateralValues</a></h3>
<p>Get the unadjusted and the adjusted value of collateral deposits of <code>_assetAddr</code> for <code>_account</code>.</p>
<pre><code class="language-solidity">function getAccountCollateralValues(address _account, address _assetAddr)
    external
    view
    returns (uint256 value, uint256 adjustedValue, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the collateral values for.</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to get the collateral values for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Unadjusted value of the collateral deposits.</td></tr>
<tr><td><code>adjustedValue</code></td><td><code>uint256</code></td><td>valueAdjusted cFactor adjusted value of the collateral deposits.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>Price for the collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmincollateralatratio"><a class="header" href="#getaccountmincollateralatratio">getAccountMinCollateralAtRatio</a></h3>
<p>Get an account's minimum collateral value required
to back a Kresko asset amount at a given collateralization ratio.</p>
<p><em>Accounts that have their collateral value under the minimum collateral value are considered unhealthy,
accounts with their collateral value under the liquidation threshold are considered liquidatable.</em></p>
<pre><code class="language-solidity">function getAccountMinCollateralAtRatio(address _account, uint32 _ratio) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the minimum collateral value for.</td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Collateralization ratio required: higher ratio = more collateral required</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Minimum collateral value of a particular account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralratio"><a class="header" href="#getaccountcollateralratio">getAccountCollateralRatio</a></h3>
<p>Get a list of accounts and their collateral ratios</p>
<pre><code class="language-solidity">function getAccountCollateralRatio(address _account) public view returns (uint256 ratio);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>ratio</code></td><td><code>uint256</code></td><td>The collateral ratio of <code>_account</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralratios"><a class="header" href="#getaccountcollateralratios">getAccountCollateralRatios</a></h3>
<p>Get a list of account collateral ratios</p>
<pre><code class="language-solidity">function getAccountCollateralRatios(address[] calldata _accounts) external view returns (uint256[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>ratios Collateral ratios of the <code>_accounts</code></td></tr>
</tbody></table>
</div>
<h3 id="previewfee"><a class="header" href="#previewfee">previewFee</a></h3>
<p>Calculates the expected fee to be taken from a user's deposited collateral assets,
by imitating calcFee without modifying state.</p>
<pre><code class="language-solidity">function previewFee(address _account, address _krAsset, uint256 _kreskoAssetAmount, Enums.MinterFee _feeType)
    external
    view
    returns (address[] memory, uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to charge the open fee from.</td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>Address of the kresko asset being burned.</td></tr>
<tr><td><code>_kreskoAssetAmount</code></td><td><code>uint256</code></td><td>Amount of the kresko asset being minted.</td></tr>
<tr><td><code>_feeType</code></td><td><code>Enums.MinterFee</code></td><td>Fee type (open or close).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>assets Collateral types as an array of addresses.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>amounts Collateral amounts as an array of uint256.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="accounttotaldebtvalues"><a class="header" href="#accounttotaldebtvalues">accountTotalDebtValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/facets/MinterAccountStateFacet.sol">Git Source</a></p>
<p>Gets the total debt value in USD for an account.</p>
<pre><code class="language-solidity">function accountTotalDebtValues(address _account) view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the KreskoAsset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Total kresko asset debt value</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>Total adjusted kresko asset debt value</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="accounttotalcollateralvalues"><a class="header" href="#accounttotalcollateralvalues">accountTotalCollateralValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/facets/MinterAccountStateFacet.sol">Git Source</a></p>
<p>Gets the collateral value of a particular account.</p>
<pre><code class="language-solidity">function accountTotalCollateralValues(address _account) view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to calculate the collateral value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Total collateral value</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>Total adjusted collateral value</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="minterburnfacet"><a class="header" href="#minterburnfacet">MinterBurnFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/facets/MinterBurnFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/MinterBurnFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a>, <a href="src/contracts/core/minter/facets/MinterBurnFacet.sol//docs/book/src/src/contracts/core/minter/interfaces/IMinterBurnFacet.sol/interface.IMinterBurnFacet.html">IMinterBurnFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Core burning functionality for Kresko Minter.</p>
<h2 id="functions-64"><a class="header" href="#functions-64">Functions</a></h2>
<h3 id="burnkreskoasset"><a class="header" href="#burnkreskoasset">burnKreskoAsset</a></h3>
<p>Burns existing Kresko assets.</p>
<pre><code class="language-solidity">function burnKreskoAsset(address _account, address _krAsset, uint256 _burnAmount, uint256 _mintedKreskoAssetIndex)
    external
    nonReentrant
    onlyRoleIf(_account != msg.sender, Role.MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to burn kresko assets for</td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to be burned.</td></tr>
<tr><td><code>_mintedKreskoAssetIndex</code></td><td><code>uint256</code></td><td>The index of the kresko asset in the user's minted assets array. Only needed if burning all principal debt of a particular collateral asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="minterconfigurationfacet"><a class="header" href="#minterconfigurationfacet">MinterConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/facets/MinterConfigurationFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/MinterConfigurationFacet.sol//docs/book/src/src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/minter/facets/MinterConfigurationFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a>, <a href="src/contracts/core/minter/facets/MinterConfigurationFacet.sol//docs/book/src/src/contracts/core/minter/interfaces/IMinterConfigurationFacet.sol/interface.IMinterConfigurationFacet.html">IMinterConfigurationFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Functionality for <code>Role.ADMIN</code> level actions.</p>
<p>Can be only initialized by the deployer/owner.</p>
<h2 id="functions-65"><a class="header" href="#functions-65">Functions</a></h2>
<h3 id="initializeminter"><a class="header" href="#initializeminter">initializeMinter</a></h3>
<pre><code class="language-solidity">function initializeMinter(MinterInitArgs calldata args) external initializer(3) initializeAsAdmin;
</code></pre>
<h3 id="setmincollateralratiominter"><a class="header" href="#setmincollateralratiominter">setMinCollateralRatioMinter</a></h3>
<p><em>Updates the contract's collateralization ratio.</em></p>
<pre><code class="language-solidity">function setMinCollateralRatioMinter(uint32 _newMinCollateralRatio) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMinCollateralRatio</code></td><td><code>uint32</code></td><td>The new minimum collateralization ratio as wad.</td></tr>
</tbody></table>
</div>
<h3 id="setliquidationthresholdminter"><a class="header" href="#setliquidationthresholdminter">setLiquidationThresholdMinter</a></h3>
<p><em>Updates the contract's liquidation threshold value</em></p>
<pre><code class="language-solidity">function setLiquidationThresholdMinter(uint32 _newLT) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newLT</code></td><td><code>uint32</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="setmaxliquidationratiominter"><a class="header" href="#setmaxliquidationratiominter">setMaxLiquidationRatioMinter</a></h3>
<p>Updates the max liquidation ratior value.</p>
<pre><code class="language-solidity">function setMaxLiquidationRatioMinter(uint32 _newMaxLiquidationRatio) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMaxLiquidationRatio</code></td><td><code>uint32</code></td><td>Percent value in wad precision.</td></tr>
</tbody></table>
</div>
<h3 id="setcollateralliquidationincentiveminter"><a class="header" href="#setcollateralliquidationincentiveminter">setCollateralLiquidationIncentiveMinter</a></h3>
<p>Updates the liquidation incentive multiplier.</p>
<pre><code class="language-solidity">function setCollateralLiquidationIncentiveMinter(address _collateralAsset, uint16 _newLiqIncentive)
    public
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to update.</td></tr>
<tr><td><code>_newLiqIncentive</code></td><td><code>uint16</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="minterdepositwithdrawfacet"><a class="header" href="#minterdepositwithdrawfacet">MinterDepositWithdrawFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/facets/MinterDepositWithdrawFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/MinterDepositWithdrawFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a>, <a href="src/contracts/core/minter/facets/MinterDepositWithdrawFacet.sol//docs/book/src/src/contracts/core/minter/interfaces/IMinterDepositWithdrawFacet.sol/interface.IMinterDepositWithdrawFacet.html">IMinterDepositWithdrawFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Core collateral deposit and withdrawal functionality for Kresko Minter.</p>
<h2 id="functions-66"><a class="header" href="#functions-66">Functions</a></h2>
<h3 id="depositcollateral"><a class="header" href="#depositcollateral">depositCollateral</a></h3>
<p>Deposits collateral into the protocol.</p>
<pre><code class="language-solidity">function depositCollateral(address _account, address _collateralAsset, uint256 _depositAmount)
    external
    nonReentrant
    gate;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The user to deposit collateral for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_depositAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to deposit.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawcollateral"><a class="header" href="#withdrawcollateral">withdrawCollateral</a></h3>
<p>Withdraws sender's collateral from the protocol.</p>
<p><em>Requires that the post-withdrawal collateral value does not violate minimum collateral requirement.</em></p>
<pre><code class="language-solidity">function withdrawCollateral(
    address _account,
    address _collateralAsset,
    uint256 _withdrawAmount,
    uint256 _collateralIndex
) external nonReentrant onlyRoleIf(_account != msg.sender, Role.MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to withdraw assets for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>The index of the collateral asset in the sender's deposited collateral assets array. Only needed if withdrawing the entire deposit of a particular collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawcollateralunchecked"><a class="header" href="#withdrawcollateralunchecked">withdrawCollateralUnchecked</a></h3>
<p>Withdraws sender's collateral from the protocol before checking minimum collateral ratio.</p>
<p><em>Executes post-withdraw-callback triggering onUncheckedCollateralWithdraw on the caller</em></p>
<pre><code class="language-solidity">function withdrawCollateralUnchecked(
    address _account,
    address _collateralAsset,
    uint256 _withdrawAmount,
    uint256 _collateralIndex,
    bytes memory _userData
) external onlyRole(Role.MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to withdraw assets for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>The index of the collateral asset in the sender's deposited collateral assets array. Only needed if withdrawing the entire deposit of a particular collateral asset.</td></tr>
<tr><td><code>_userData</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="minterliquidationfacet"><a class="header" href="#minterliquidationfacet">MinterLiquidationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/facets/MinterLiquidationFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/MinterLiquidationFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a>, <a href="src/contracts/core/minter/facets/MinterLiquidationFacet.sol//docs/book/src/src/contracts/core/minter/interfaces/IMinterLiquidationFacet.sol/interface.IMinterLiquidationFacet.html">IMinterLiquidationFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Main end-user functionality concerning liquidations within Kresko's Minter system.</p>
<h2 id="functions-67"><a class="header" href="#functions-67">Functions</a></h2>
<h3 id="liquidate"><a class="header" href="#liquidate">liquidate</a></h3>
<p>Attempts to liquidate an account by repaying the portion of the account's Kresko asset
debt, receiving in return a portion of the account's collateral at a discounted rate.</p>
<pre><code class="language-solidity">function liquidate(LiquidationArgs memory _args) external nonReentrant gate;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_args</code></td><td><code>LiquidationArgs</code></td><td>LiquidationArgs struct containing the arguments necessary to perform a liquidation.</td></tr>
</tbody></table>
</div>
<h3 id="getmaxliqvalue"><a class="header" href="#getmaxliqvalue">getMaxLiqValue</a></h3>
<p><em>Calculates the total value that is allowed to be liquidated from an account (if it is liquidatable)</em></p>
<pre><code class="language-solidity">function getMaxLiqValue(address _account, address _repayAssetAddr, address _seizeAssetAddr)
    external
    view
    returns (MaxLiqInfo memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Address of the account to liquidate</td></tr>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>Address of Kresko Asset to repay</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>Address of Collateral to seize</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MaxLiqInfo</code></td><td>MaxLiqInfo Calculated information about the maximum liquidation.</td></tr>
</tbody></table>
</div>
<h3 id="_liquidateassets"><a class="header" href="#_liquidateassets">_liquidateAssets</a></h3>
<pre><code class="language-solidity">function _liquidateAssets(Asset storage collateral, Asset storage krAsset, LiquidateExecution memory args)
    internal
    returns (uint256 seizedAmount);
</code></pre>
<h3 id="_getmaxliqvalue"><a class="header" href="#_getmaxliqvalue">_getMaxLiqValue</a></h3>
<pre><code class="language-solidity">function _getMaxLiqValue(
    address _account,
    Asset storage _repayAsset,
    Asset storage _seizeAsset,
    address _seizeAssetAddr
) internal view returns (uint256 maxValue);
</code></pre>
<h3 id="_calcmaxliqvalue"><a class="header" href="#_calcmaxliqvalue">_calcMaxLiqValue</a></h3>
<pre><code class="language-solidity">function _calcMaxLiqValue(
    Asset storage _repayAsset,
    Asset storage _seizeAsset,
    uint256 _minCollateralValue,
    uint256 _totalCollateralValue,
    uint256 _seizeAssetValue,
    uint96 _minDebtValue,
    uint32 _maxLiquidationRatio
) internal view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mintermintfacet"><a class="header" href="#mintermintfacet">MinterMintFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/facets/MinterMintFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/MinterMintFacet.sol//docs/book/src/src/contracts/core/minter/interfaces/IMinterMintFacet.sol/interface.IMinterMintFacet.html">IMinterMintFacet</a>, <a href="src/contracts/core/minter/facets/MinterMintFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Core minting functionality for Kresko Minter.</p>
<h2 id="functions-68"><a class="header" href="#functions-68">Functions</a></h2>
<h3 id="mintkreskoasset"><a class="header" href="#mintkreskoasset">mintKreskoAsset</a></h3>
<p>Mints new Kresko assets.</p>
<pre><code class="language-solidity">function mintKreskoAsset(address _account, address _krAsset, uint256 _mintAmount)
    external
    onlyRoleIf(_account != msg.sender, Role.MANAGER)
    nonReentrant
    gate;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to mint assets for.</td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to be minted.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="minterstatefacet"><a class="header" href="#minterstatefacet">MinterStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/facets/MinterStateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/MinterStateFacet.sol//docs/book/src/src/contracts/core/minter/interfaces/IMinterStateFacet.sol/interface.IMinterStateFacet.html">IMinterStateFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p><em>As structs do not create views for members, we must expose most of the state values explicitly.</em></p>
<h2 id="functions-69"><a class="header" href="#functions-69">Functions</a></h2>
<h3 id="getmincollateralratiominter"><a class="header" href="#getmincollateralratiominter">getMinCollateralRatioMinter</a></h3>
<p>The minimum ratio of collateral to debt that can be taken by direct action.</p>
<pre><code class="language-solidity">function getMinCollateralRatioMinter() external view returns (uint32);
</code></pre>
<h3 id="getliquidationthresholdminter"><a class="header" href="#getliquidationthresholdminter">getLiquidationThresholdMinter</a></h3>
<p>The collateralization ratio at which positions may be liquidated.</p>
<pre><code class="language-solidity">function getLiquidationThresholdMinter() external view returns (uint32);
</code></pre>
<h3 id="getmaxliquidationratiominter"><a class="header" href="#getmaxliquidationratiominter">getMaxLiquidationRatioMinter</a></h3>
<p>Multiplies max liquidation multiplier, if a full liquidation happens this is the resulting CR.</p>
<pre><code class="language-solidity">function getMaxLiquidationRatioMinter() external view returns (uint32);
</code></pre>
<h3 id="getparametersminter"><a class="header" href="#getparametersminter">getParametersMinter</a></h3>
<p>get all meaningful protocol parameters</p>
<pre><code class="language-solidity">function getParametersMinter() external view returns (MinterParams memory);
</code></pre>
<h3 id="getkrassetexists"><a class="header" href="#getkrassetexists">getKrAssetExists</a></h3>
<p>simple check if kresko asset exists</p>
<pre><code class="language-solidity">function getKrAssetExists(address _krAsset) external view returns (bool);
</code></pre>
<h3 id="getcollateralexists"><a class="header" href="#getcollateralexists">getCollateralExists</a></h3>
<p>simple check if collateral asset exists</p>
<pre><code class="language-solidity">function getCollateralExists(address _collateralAsset) external view returns (bool);
</code></pre>
<h3 id="getcollateralvaluewithprice"><a class="header" href="#getcollateralvaluewithprice">getCollateralValueWithPrice</a></h3>
<p>Gets the USD value for a single collateral asset and amount.</p>
<pre><code class="language-solidity">function getCollateralValueWithPrice(address _collateralAsset, uint256 _amount)
    external
    view
    returns (uint256 value, uint256 adjustedValue, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to calculate the value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value for the provided amount of the collateral asset.</td></tr>
<tr><td><code>adjustedValue</code></td><td><code>uint256</code></td><td>The (cFactor) adjusted value for the provided amount of the collateral asset.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>The price of the collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="getdebtvaluewithprice"><a class="header" href="#getdebtvaluewithprice">getDebtValueWithPrice</a></h3>
<p>Gets the USD value for a single Kresko asset and amount.</p>
<pre><code class="language-solidity">function getDebtValueWithPrice(address _krAsset, uint256 _amount)
    external
    view
    returns (uint256 value, uint256 adjustedValue, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to calculate the value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value for the provided amount of the debt asset.</td></tr>
<tr><td><code>adjustedValue</code></td><td><code>uint256</code></td><td>The (kFactor) adjusted value for the provided amount of the debt asset.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>The price of the debt asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-16"><a class="header" href="#contents-16">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/minter/funcs/MAccounts.sol/library.MAccounts.html">MAccounts</a></li>
<li><a href="src/contracts/core/minter/funcs/MCore.sol/library.MCore.html">MCore</a></li>
<li><a href="src/contracts/core/minter/funcs/MFees.sol/function.handleMinterFee.html">handleMinterFee</a></li>
<li><a href="src/contracts/core/minter/funcs/MFees.sol/function._calcFeeAndHandleCollateralRemoval.html">_calcFeeAndHandleCollateralRemoval</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maccounts"><a class="header" href="#maccounts">MAccounts</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/funcs/MAccounts.sol">Git Source</a></p>
<h2 id="functions-70"><a class="header" href="#functions-70">Functions</a></h2>
<h3 id="checkaccountliquidatable"><a class="header" href="#checkaccountliquidatable">checkAccountLiquidatable</a></h3>
<p>Checks if accounts collateral value is less than required.</p>
<p>Reverts if account is not liquidatable.</p>
<pre><code class="language-solidity">function checkAccountLiquidatable(MinterState storage self, address _account) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to check.</td></tr>
</tbody></table>
</div>
<h3 id="isaccountliquidatable"><a class="header" href="#isaccountliquidatable">isAccountLiquidatable</a></h3>
<p>Gets the liquidatable status of an account.</p>
<pre><code class="language-solidity">function isAccountLiquidatable(MinterState storage self, address _account) internal view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool Indicating if the account is liquidatable.</td></tr>
</tbody></table>
</div>
<h3 id="checkaccountcollateral"><a class="header" href="#checkaccountcollateral">checkAccountCollateral</a></h3>
<p>verifies that the account has enough collateral value</p>
<pre><code class="language-solidity">function checkAccountCollateral(MinterState storage self, address _account) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address of the account to verify the collateral for.</td></tr>
</tbody></table>
</div>
<h3 id="accounttotaldebtvalue"><a class="header" href="#accounttotaldebtvalue">accountTotalDebtValue</a></h3>
<p>Gets the total debt value in USD for an account.</p>
<pre><code class="language-solidity">function accountTotalDebtValue(MinterState storage self, address _account) internal view returns (uint256 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the KreskoAsset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Total kresko asset debt value of <code>_account</code>.</td></tr>
</tbody></table>
</div>
<h3 id="accountdebtamount"><a class="header" href="#accountdebtamount">accountDebtAmount</a></h3>
<p>Gets <code>_account</code> principal debt amount for <code>_asset</code></p>
<p><em>Principal debt is rebase adjusted due to possible stock splits/reverse splits</em></p>
<pre><code class="language-solidity">function accountDebtAmount(MinterState storage self, address _account, address _assetAddr, Asset storage _asset)
    internal
    view
    returns (uint256 debtAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get debt amount for.</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Kresko asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>Asset truct for the kresko asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>debtAmount</code></td><td><code>uint256</code></td><td>Amount of debt the <code>_account</code> has for <code>_asset</code></td></tr>
</tbody></table>
</div>
<h3 id="accountmintindex"><a class="header" href="#accountmintindex">accountMintIndex</a></h3>
<p>Gets an index for the Kresko asset the account has minted.</p>
<pre><code class="language-solidity">function accountMintIndex(MinterState storage self, address _account, address _krAsset)
    internal
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the minted Kresko assets for.</td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Index of the minted asset. Reverts if not found.</td></tr>
</tbody></table>
</div>
<h3 id="accountdebtassets"><a class="header" href="#accountdebtassets">accountDebtAssets</a></h3>
<p>Gets an array of kresko assets the account has minted.</p>
<pre><code class="language-solidity">function accountDebtAssets(MinterState storage self, address _account)
    internal
    view
    returns (address[] memory mintedAssets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the minted kresko assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mintedAssets</code></td><td><code>address[]</code></td><td>Array of addresses of kresko assets the account has minted.</td></tr>
</tbody></table>
</div>
<h3 id="accountmincollateralatratio"><a class="header" href="#accountmincollateralatratio">accountMinCollateralAtRatio</a></h3>
<p>Gets accounts min collateral value required to cover debt at a given collateralization ratio.</p>
<p>Account with min collateral value under MCR cannot borrow.</p>
<p>Account with min collateral value under LT can be liquidated up to maxLiquidationRatio.</p>
<pre><code class="language-solidity">function accountMinCollateralAtRatio(MinterState storage self, address _account, uint32 _ratio)
    internal
    view
    returns (uint256 minCollateralValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the minimum collateral value for.</td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Collateralization ratio to apply for the minimum collateral value.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minCollateralValue</code></td><td><code>uint256</code></td><td>Minimum collateral value required for the account with <code>_ratio</code>.</td></tr>
</tbody></table>
</div>
<h3 id="accountcollateralassets"><a class="header" href="#accountcollateralassets">accountCollateralAssets</a></h3>
<p>Gets the array of collateral assets the account has deposited.</p>
<pre><code class="language-solidity">function accountCollateralAssets(MinterState storage self, address _account)
    internal
    view
    returns (address[] memory depositedAssets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the deposited collateral assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>depositedAssets</code></td><td><code>address[]</code></td><td>Array of deposited collateral assets for <code>_account</code>.</td></tr>
</tbody></table>
</div>
<h3 id="accountcollateralamount"><a class="header" href="#accountcollateralamount">accountCollateralAmount</a></h3>
<p>Gets the deposited collateral asset amount for an account</p>
<p>Performs rebasing conversion for KreskoAssets</p>
<pre><code class="language-solidity">function accountCollateralAmount(
    MinterState storage self,
    address _account,
    address _assetAddress,
    Asset storage _asset
) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to query amount for</td></tr>
<tr><td><code>_assetAddress</code></td><td><code>address</code></td><td>Collateral asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>Asset struct of the collateral asset</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Collateral deposit amount of <code>_asset</code> for <code>_account</code></td></tr>
</tbody></table>
</div>
<h3 id="accounttotalcollateralvalue"><a class="header" href="#accounttotalcollateralvalue">accountTotalCollateralValue</a></h3>
<p>Gets the collateral value of a particular account.</p>
<pre><code class="language-solidity">function accountTotalCollateralValue(MinterState storage self, address _account)
    internal
    view
    returns (uint256 totalCollateralValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the collateral value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalCollateralValue</code></td><td><code>uint256</code></td><td>Collateral value of a particular account.</td></tr>
</tbody></table>
</div>
<h3 id="accounttotalcollateralvalue-1"><a class="header" href="#accounttotalcollateralvalue-1">accountTotalCollateralValue</a></h3>
<p>Gets the total collateral deposits value of an account while extracting value for <code>_collateralAsset</code>.</p>
<pre><code class="language-solidity">function accountTotalCollateralValue(MinterState storage self, address _account, address _collateralAsset)
    internal
    view
    returns (uint256 totalValue, uint256 assetValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the collateral value for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>Collateral asset to extract value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalValue</code></td><td><code>uint256</code></td><td>Total collateral value of <code>_account</code></td></tr>
<tr><td><code>assetValue</code></td><td><code>uint256</code></td><td>Collateral value of <code>_collateralAsset</code> for <code>_account</code></td></tr>
</tbody></table>
</div>
<h3 id="accountdepositindex"><a class="header" href="#accountdepositindex">accountDepositIndex</a></h3>
<p>Gets the deposit index of <code>_collateralAsset</code> for <code>_account</code>.</p>
<pre><code class="language-solidity">function accountDepositIndex(MinterState storage self, address _account, address _collateralAsset)
    internal
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the index for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>Collateral asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Index of the deposited collateral asset. Reverts if not found.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mcore"><a class="header" href="#mcore">MCore</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/funcs/MCore.sol">Git Source</a></p>
<h2 id="functions-71"><a class="header" href="#functions-71">Functions</a></h2>
<h3 id="mint-4"><a class="header" href="#mint-4">mint</a></h3>
<pre><code class="language-solidity">function mint(MinterState storage self, address _krAsset, address _anchor, uint256 _amount, address _account)
    internal;
</code></pre>
<h3 id="burn-2"><a class="header" href="#burn-2">burn</a></h3>
<p>Repay user kresko asset debt.</p>
<p><em>Updates the principal in MinterState</em></p>
<pre><code class="language-solidity">function burn(MinterState storage self, address _krAsset, address _anchor, uint256 _burnAmount, address _account)
    internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>the asset being repaid</td></tr>
<tr><td><code>_anchor</code></td><td><code>address</code></td><td>the anchor token of the asset being repaid</td></tr>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>the asset amount being burned</td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>the account the debt is subtracted from</td></tr>
</tbody></table>
</div>
<h3 id="handledeposit"><a class="header" href="#handledeposit">handleDeposit</a></h3>
<p>Records account as having deposited an amount of a collateral asset.</p>
<p><em>Token transfers are expected to be done by the caller.</em></p>
<pre><code class="language-solidity">function handleDeposit(
    MinterState storage self,
    Asset storage _asset,
    address _account,
    address _collateralAsset,
    uint256 _depositAmount
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct</td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_depositAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset deposited.</td></tr>
</tbody></table>
</div>
<h3 id="handlewithdrawal"><a class="header" href="#handlewithdrawal">handleWithdrawal</a></h3>
<p>Verifies that the account has sufficient collateral for the requested amount and records the collateral</p>
<pre><code class="language-solidity">function handleWithdrawal(
    MinterState storage self,
    Asset storage _asset,
    address _account,
    address _collateralAsset,
    uint256 _withdrawAmount,
    uint256 _collateralDeposits,
    uint256 _collateralIndex
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct</td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address of the account to verify the collateral for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralDeposits</code></td><td><code>uint256</code></td><td>Collateral deposits for the account.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>Index of the collateral asset in the account's deposited collateral assets array.</td></tr>
</tbody></table>
</div>
<h3 id="handleuncheckedwithdrawal"><a class="header" href="#handleuncheckedwithdrawal">handleUncheckedWithdrawal</a></h3>
<p>records the collateral withdrawal</p>
<pre><code class="language-solidity">function handleUncheckedWithdrawal(
    MinterState storage self,
    Asset storage _asset,
    address _account,
    address _collateralAsset,
    uint256 _withdrawAmount,
    uint256 _collateralDeposits,
    uint256 _collateralIndex
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The collateral asset struct.</td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address of the account to verify the collateral for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralDeposits</code></td><td><code>uint256</code></td><td>Collateral deposits for the account.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>Index of the collateral asset in the account's deposited collateral assets array.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="handleminterfee"><a class="header" href="#handleminterfee">handleMinterFee</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/funcs/MFees.sol">Git Source</a></p>
<p>Charges the protocol open fee based off the value of the minted asset.</p>
<p><em>Takes the fee from the account's collateral assets. Attempts collateral assets
in reverse order of the account's deposited collateral assets array.</em></p>
<pre><code class="language-solidity">function handleMinterFee(Asset storage _krAsset, address _account, uint256 _mintAmount, Enums.MinterFee _feeType);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>Asset</code></td><td>Asset struct of the kresko asset being minted.</td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to charge the open fee from.</td></tr>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>Amount of the kresko asset being minted.</td></tr>
<tr><td><code>_feeType</code></td><td><code>Enums.MinterFee</code></td><td>MinterFee type</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="_calcfeeandhandlecollateralremoval"><a class="header" href="#_calcfeeandhandlecollateralremoval">_calcFeeAndHandleCollateralRemoval</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/funcs/MFees.sol">Git Source</a></p>
<p>Calculates the fee to be taken from a user's deposited collateral asset.</p>
<pre><code class="language-solidity">function _calcFeeAndHandleCollateralRemoval(
    Asset storage _asset,
    address _collateralAsset,
    address _account,
    uint256 _feeValue,
    uint256 _collateralAssetIndex
) returns (uint256 transferAmount, uint256 feeValuePaid);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>Asset struct of the collateral asset.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset from which to take to the fee.</td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The owner of the collateral.</td></tr>
<tr><td><code>_feeValue</code></td><td><code>uint256</code></td><td>The original value of the fee.</td></tr>
<tr><td><code>_collateralAssetIndex</code></td><td><code>uint256</code></td><td>The collateral asset's index in the user's depositedCollateralAssets array.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>transferAmount</code></td><td><code>uint256</code></td><td>to be received as a uint256</td></tr>
<tr><td><code>feeValuePaid</code></td><td><code>uint256</code></td><td>wad representing the fee value paid.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-17"><a class="header" href="#contents-17">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/minter/interfaces/ICollateralReceiver.sol/interface.ICollateralReceiver.html">ICollateralReceiver</a></li>
<li><a href="src/contracts/core/minter/interfaces/IMinterAccountStateFacet.sol/interface.IMinterAccountStateFacet.html">IMinterAccountStateFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/IMinterBurnFacet.sol/interface.IMinterBurnFacet.html">IMinterBurnFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/IMinterConfigurationFacet.sol/interface.IMinterConfigurationFacet.html">IMinterConfigurationFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/IMinterDepositWithdrawFacet.sol/interface.IMinterDepositWithdrawFacet.html">IMinterDepositWithdrawFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/IMinterLiquidationFacet.sol/interface.IMinterLiquidationFacet.html">IMinterLiquidationFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/IMinterMintFacet.sol/interface.IMinterMintFacet.html">IMinterMintFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/IMinterStateFacet.sol/interface.IMinterStateFacet.html">IMinterStateFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icollateralreceiver"><a class="header" href="#icollateralreceiver">ICollateralReceiver</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/interfaces/ICollateralReceiver.sol">Git Source</a></p>
<h2 id="functions-72"><a class="header" href="#functions-72">Functions</a></h2>
<h3 id="onuncheckedcollateralwithdraw"><a class="header" href="#onuncheckedcollateralwithdraw">onUncheckedCollateralWithdraw</a></h3>
<pre><code class="language-solidity">function onUncheckedCollateralWithdraw(
    address _account,
    address _collateralAsset,
    uint256 _withdrawalAmount,
    uint256 _depositedCollateralAssetIndex,
    bytes memory _userData
) external returns (bytes memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iminteraccountstatefacet"><a class="header" href="#iminteraccountstatefacet">IMinterAccountStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/interfaces/IMinterAccountStateFacet.sol">Git Source</a></p>
<h2 id="functions-73"><a class="header" href="#functions-73">Functions</a></h2>
<h3 id="getaccountliquidatable-1"><a class="header" href="#getaccountliquidatable-1">getAccountLiquidatable</a></h3>
<p>Calculates if an account's current collateral value is under its minimum collateral value</p>
<pre><code class="language-solidity">function getAccountLiquidatable(address _account) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool Indicates if the account can be liquidated.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountstate-1"><a class="header" href="#getaccountstate-1">getAccountState</a></h3>
<p>Get accounts state in the Minter.</p>
<pre><code class="language-solidity">function getAccountState(address _account) external view returns (MinterAccountState memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account address to get the state for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MinterAccountState</code></td><td>MinterAccountState Total debt value, total collateral value and collateral ratio.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmintedassets-1"><a class="header" href="#getaccountmintedassets-1">getAccountMintedAssets</a></h3>
<p>Gets an array of Kresko assets the account has minted.</p>
<pre><code class="language-solidity">function getAccountMintedAssets(address _account) external view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the minted Kresko assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] Array of Kresko Asset addresses the account has minted.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmintindex-1"><a class="header" href="#getaccountmintindex-1">getAccountMintIndex</a></h3>
<p>Gets an index for the Kresko asset the account has minted.</p>
<pre><code class="language-solidity">function getAccountMintIndex(address _account, address _krAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the minted Kresko assets for.</td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The asset lookup address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>index The index of asset in the minted assets array.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldebtvalues-1"><a class="header" href="#getaccounttotaldebtvalues-1">getAccountTotalDebtValues</a></h3>
<p>Gets the total Kresko asset debt value in USD for an account.</p>
<p>Adjusted value means it is multiplied by kFactor.</p>
<pre><code class="language-solidity">function getAccountTotalDebtValues(address _account) external view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the Kresko asset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value of debt.</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>The kFactor adjusted value of debt.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldebtvalue-1"><a class="header" href="#getaccounttotaldebtvalue-1">getAccountTotalDebtValue</a></h3>
<p>Gets the total Kresko asset debt value in USD for an account.</p>
<pre><code class="language-solidity">function getAccountTotalDebtValue(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to calculate the Kresko asset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Total debt value of <code>_account</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountdebtamount-1"><a class="header" href="#getaccountdebtamount-1">getAccountDebtAmount</a></h3>
<p>Get <code>_account</code> debt amount for <code>_asset</code></p>
<pre><code class="language-solidity">function getAccountDebtAmount(address _account, address _assetAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to query amount for</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Amount of debt for <code>_assetAddr</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralvalues-1"><a class="header" href="#getaccountcollateralvalues-1">getAccountCollateralValues</a></h3>
<p>Get the unadjusted and the adjusted value of collateral deposits of <code>_assetAddr</code> for <code>_account</code>.</p>
<p>Adjusted value means it is multiplied by cFactor.</p>
<pre><code class="language-solidity">function getAccountCollateralValues(address _account, address _assetAddr)
    external
    view
    returns (uint256 value, uint256 valueAdjusted, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the collateral values for.</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to get the collateral values for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Unadjusted value of the collateral deposits.</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>cFactor adjusted value of the collateral deposits.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>Price for the collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalcollateralvalue-1"><a class="header" href="#getaccounttotalcollateralvalue-1">getAccountTotalCollateralValue</a></h3>
<p>Gets the adjusted collateral value of a particular account.</p>
<pre><code class="language-solidity">function getAccountTotalCollateralValue(address _account) external view returns (uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the collateral value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>Collateral value of a particular account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalcollateralvalues-1"><a class="header" href="#getaccounttotalcollateralvalues-1">getAccountTotalCollateralValues</a></h3>
<p>Gets the adjusted and unadjusted collateral value of <code>_account</code>.</p>
<p>Adjusted value means it is multiplied by cFactor.</p>
<pre><code class="language-solidity">function getAccountTotalCollateralValues(address _account)
    external
    view
    returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the values for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Unadjusted total value of the collateral deposits.</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>cFactor adjusted total value of the collateral deposits.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmincollateralatratio-1"><a class="header" href="#getaccountmincollateralatratio-1">getAccountMinCollateralAtRatio</a></h3>
<p>Get an account's minimum collateral value required
to back a Kresko asset amount at a given collateralization ratio.</p>
<p><em>Accounts that have their collateral value under the minimum collateral value are considered unhealthy,
accounts with their collateral value under the liquidation threshold are considered liquidatable.</em></p>
<pre><code class="language-solidity">function getAccountMinCollateralAtRatio(address _account, uint32 _ratio) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the minimum collateral value for.</td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Collateralization ratio required: higher ratio = more collateral required</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Minimum collateral value of a particular account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralratio-1"><a class="header" href="#getaccountcollateralratio-1">getAccountCollateralRatio</a></h3>
<p>Get a list of accounts and their collateral ratios</p>
<pre><code class="language-solidity">function getAccountCollateralRatio(address _account) external view returns (uint256 ratio);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>ratio</code></td><td><code>uint256</code></td><td>The collateral ratio of <code>_account</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralratios-1"><a class="header" href="#getaccountcollateralratios-1">getAccountCollateralRatios</a></h3>
<p>Get a list of account collateral ratios</p>
<pre><code class="language-solidity">function getAccountCollateralRatios(address[] memory _accounts) external view returns (uint256[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>ratios Collateral ratios of the <code>_accounts</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountdepositindex-1"><a class="header" href="#getaccountdepositindex-1">getAccountDepositIndex</a></h3>
<p>Gets an index for the collateral asset the account has deposited.</p>
<pre><code class="language-solidity">function getAccountDepositIndex(address _account, address _collateralAsset) external view returns (uint256 i);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the index for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>i</code></td><td><code>uint256</code></td><td>Index of the minted collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralassets-1"><a class="header" href="#getaccountcollateralassets-1">getAccountCollateralAssets</a></h3>
<p>Gets an array of collateral assets the account has deposited.</p>
<pre><code class="language-solidity">function getAccountCollateralAssets(address _account) external view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the deposited collateral assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] Array of collateral asset addresses the account has deposited.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralamount-1"><a class="header" href="#getaccountcollateralamount-1">getAccountCollateralAmount</a></h3>
<p>Get <code>_account</code> collateral deposit amount for <code>_assetAddr</code></p>
<pre><code class="language-solidity">function getAccountCollateralAmount(address _account, address _assetAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to query amount for</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Amount of collateral deposited for <code>_assetAddr</code></td></tr>
</tbody></table>
</div>
<h3 id="previewfee-1"><a class="header" href="#previewfee-1">previewFee</a></h3>
<p>Calculates the expected fee to be taken from a user's deposited collateral assets,
by imitating calcFee without modifying state.</p>
<pre><code class="language-solidity">function previewFee(address _account, address _krAsset, uint256 _kreskoAssetAmount, Enums.MinterFee _feeType)
    external
    view
    returns (address[] memory assets, uint256[] memory amounts);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to charge the open fee from.</td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>Address of the kresko asset being burned.</td></tr>
<tr><td><code>_kreskoAssetAmount</code></td><td><code>uint256</code></td><td>Amount of the kresko asset being minted.</td></tr>
<tr><td><code>_feeType</code></td><td><code>Enums.MinterFee</code></td><td>Fee type (open or close).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>address[]</code></td><td>Collateral types as an array of addresses.</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>Collateral amounts as an array of uint256.</td></tr>
</tbody></table>
</div>
<h2 id="structs-4"><a class="header" href="#structs-4">Structs</a></h2>
<h3 id="expectedfeeruntimeinfo"><a class="header" href="#expectedfeeruntimeinfo">ExpectedFeeRuntimeInfo</a></h3>
<pre><code class="language-solidity">struct ExpectedFeeRuntimeInfo {
    address[] assets;
    uint256[] amounts;
    uint256 collateralTypeCount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iminterburnfacet"><a class="header" href="#iminterburnfacet">IMinterBurnFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/interfaces/IMinterBurnFacet.sol">Git Source</a></p>
<h2 id="functions-74"><a class="header" href="#functions-74">Functions</a></h2>
<h3 id="burnkreskoasset-1"><a class="header" href="#burnkreskoasset-1">burnKreskoAsset</a></h3>
<p>Burns existing Kresko assets.</p>
<pre><code class="language-solidity">function burnKreskoAsset(address _account, address _krAsset, uint256 _burnAmount, uint256 _mintedKreskoAssetIndex)
    external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to burn kresko assets for</td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to be burned.</td></tr>
<tr><td><code>_mintedKreskoAssetIndex</code></td><td><code>uint256</code></td><td>The index of the kresko asset in the user's minted assets array. Only needed if burning all principal debt of a particular collateral asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iminterconfigurationfacet"><a class="header" href="#iminterconfigurationfacet">IMinterConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/interfaces/IMinterConfigurationFacet.sol">Git Source</a></p>
<h2 id="functions-75"><a class="header" href="#functions-75">Functions</a></h2>
<h3 id="initializeminter-1"><a class="header" href="#initializeminter-1">initializeMinter</a></h3>
<pre><code class="language-solidity">function initializeMinter(MinterInitArgs calldata args) external;
</code></pre>
<h3 id="setcollateralliquidationincentiveminter-1"><a class="header" href="#setcollateralliquidationincentiveminter-1">setCollateralLiquidationIncentiveMinter</a></h3>
<p>Updates the liquidation incentive multiplier.</p>
<pre><code class="language-solidity">function setCollateralLiquidationIncentiveMinter(address _collateralAsset, uint16 _newLiquidationIncentive) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to update.</td></tr>
<tr><td><code>_newLiquidationIncentive</code></td><td><code>uint16</code></td><td>The new liquidation incentive multiplier for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setmincollateralratiominter-1"><a class="header" href="#setmincollateralratiominter-1">setMinCollateralRatioMinter</a></h3>
<p><em>Updates the contract's collateralization ratio.</em></p>
<pre><code class="language-solidity">function setMinCollateralRatioMinter(uint32 _newMinCollateralRatio) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMinCollateralRatio</code></td><td><code>uint32</code></td><td>The new minimum collateralization ratio as wad.</td></tr>
</tbody></table>
</div>
<h3 id="setliquidationthresholdminter-1"><a class="header" href="#setliquidationthresholdminter-1">setLiquidationThresholdMinter</a></h3>
<p><em>Updates the contract's liquidation threshold value</em></p>
<pre><code class="language-solidity">function setLiquidationThresholdMinter(uint32 _newThreshold) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newThreshold</code></td><td><code>uint32</code></td><td>The new liquidation threshold value</td></tr>
</tbody></table>
</div>
<h3 id="setmaxliquidationratiominter-1"><a class="header" href="#setmaxliquidationratiominter-1">setMaxLiquidationRatioMinter</a></h3>
<p>Updates the max liquidation ratior value.</p>
<p>This is the maximum collateral ratio that liquidations can liquidate to.</p>
<pre><code class="language-solidity">function setMaxLiquidationRatioMinter(uint32 _newMaxLiquidationRatio) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMaxLiquidationRatio</code></td><td><code>uint32</code></td><td>Percent value in wad precision.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iminterdepositwithdrawfacet"><a class="header" href="#iminterdepositwithdrawfacet">IMinterDepositWithdrawFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/interfaces/IMinterDepositWithdrawFacet.sol">Git Source</a></p>
<h2 id="functions-76"><a class="header" href="#functions-76">Functions</a></h2>
<h3 id="depositcollateral-1"><a class="header" href="#depositcollateral-1">depositCollateral</a></h3>
<p>Deposits collateral into the protocol.</p>
<pre><code class="language-solidity">function depositCollateral(address _account, address _collateralAsset, uint256 _depositAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The user to deposit collateral for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_depositAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to deposit.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawcollateral-1"><a class="header" href="#withdrawcollateral-1">withdrawCollateral</a></h3>
<p>Withdraws sender's collateral from the protocol.</p>
<p><em>Requires that the post-withdrawal collateral value does not violate minimum collateral requirement.</em></p>
<pre><code class="language-solidity">function withdrawCollateral(
    address _account,
    address _collateralAsset,
    uint256 _withdrawAmount,
    uint256 _collateralIndex
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to withdraw assets for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>The index of the collateral asset in the sender's deposited collateral assets array. Only needed if withdrawing the entire deposit of a particular collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawcollateralunchecked-1"><a class="header" href="#withdrawcollateralunchecked-1">withdrawCollateralUnchecked</a></h3>
<p>Withdraws sender's collateral from the protocol before checking minimum collateral ratio.</p>
<p><em>Executes post-withdraw-callback triggering onUncheckedCollateralWithdraw on the caller</em></p>
<p><em>Requires that the post-withdraw-callback collateral value does not violate minimum collateral requirement.</em></p>
<pre><code class="language-solidity">function withdrawCollateralUnchecked(
    address _account,
    address _collateralAsset,
    uint256 _withdrawAmount,
    uint256 _collateralIndex,
    bytes memory _userData
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to withdraw assets for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>The index of the collateral asset in the sender's deposited collateral assets array. Only needed if withdrawing the entire deposit of a particular collateral asset.</td></tr>
<tr><td><code>_userData</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iminterliquidationfacet"><a class="header" href="#iminterliquidationfacet">IMinterLiquidationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/interfaces/IMinterLiquidationFacet.sol">Git Source</a></p>
<h2 id="functions-77"><a class="header" href="#functions-77">Functions</a></h2>
<h3 id="liquidate-1"><a class="header" href="#liquidate-1">liquidate</a></h3>
<p>Attempts to liquidate an account by repaying the portion of the account's Kresko asset
debt, receiving in return a portion of the account's collateral at a discounted rate.</p>
<pre><code class="language-solidity">function liquidate(LiquidationArgs memory _args) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_args</code></td><td><code>LiquidationArgs</code></td><td>LiquidationArgs struct containing the arguments necessary to perform a liquidation.</td></tr>
</tbody></table>
</div>
<h3 id="getmaxliqvalue-1"><a class="header" href="#getmaxliqvalue-1">getMaxLiqValue</a></h3>
<p><em>Calculates the total value that is allowed to be liquidated from an account (if it is liquidatable)</em></p>
<pre><code class="language-solidity">function getMaxLiqValue(address _account, address _repayAssetAddr, address _seizeAssetAddr)
    external
    view
    returns (MaxLiqInfo memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Address of the account to liquidate</td></tr>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>Address of Kresko Asset to repay</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>Address of Collateral to seize</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MaxLiqInfo</code></td><td>MaxLiqInfo Calculated information about the maximum liquidation.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="imintermintfacet"><a class="header" href="#imintermintfacet">IMinterMintFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/interfaces/IMinterMintFacet.sol">Git Source</a></p>
<h2 id="functions-78"><a class="header" href="#functions-78">Functions</a></h2>
<h3 id="mintkreskoasset-1"><a class="header" href="#mintkreskoasset-1">mintKreskoAsset</a></h3>
<p>Mints new Kresko assets.</p>
<pre><code class="language-solidity">function mintKreskoAsset(address _account, address _krAsset, uint256 _mintAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to mint assets for.</td></tr>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to be minted.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iminterstatefacet"><a class="header" href="#iminterstatefacet">IMinterStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/interfaces/IMinterStateFacet.sol">Git Source</a></p>
<h2 id="functions-79"><a class="header" href="#functions-79">Functions</a></h2>
<h3 id="getliquidationthresholdminter-1"><a class="header" href="#getliquidationthresholdminter-1">getLiquidationThresholdMinter</a></h3>
<p>The collateralization ratio at which positions may be liquidated.</p>
<pre><code class="language-solidity">function getLiquidationThresholdMinter() external view returns (uint32);
</code></pre>
<h3 id="getmaxliquidationratiominter-1"><a class="header" href="#getmaxliquidationratiominter-1">getMaxLiquidationRatioMinter</a></h3>
<p>Multiplies max liquidation multiplier, if a full liquidation happens this is the resulting CR.</p>
<pre><code class="language-solidity">function getMaxLiquidationRatioMinter() external view returns (uint32);
</code></pre>
<h3 id="getmincollateralratiominter-1"><a class="header" href="#getmincollateralratiominter-1">getMinCollateralRatioMinter</a></h3>
<p>The minimum ratio of collateral to debt that can be taken by direct action.</p>
<pre><code class="language-solidity">function getMinCollateralRatioMinter() external view returns (uint32);
</code></pre>
<h3 id="getkrassetexists-1"><a class="header" href="#getkrassetexists-1">getKrAssetExists</a></h3>
<p>simple check if kresko asset exists</p>
<pre><code class="language-solidity">function getKrAssetExists(address _krAsset) external view returns (bool);
</code></pre>
<h3 id="getcollateralexists-1"><a class="header" href="#getcollateralexists-1">getCollateralExists</a></h3>
<p>simple check if collateral asset exists</p>
<pre><code class="language-solidity">function getCollateralExists(address _collateralAsset) external view returns (bool);
</code></pre>
<h3 id="getparametersminter-1"><a class="header" href="#getparametersminter-1">getParametersMinter</a></h3>
<p>get all meaningful protocol parameters</p>
<pre><code class="language-solidity">function getParametersMinter() external view returns (MinterParams memory);
</code></pre>
<h3 id="getcollateralvaluewithprice-1"><a class="header" href="#getcollateralvaluewithprice-1">getCollateralValueWithPrice</a></h3>
<p>Gets the USD value for a single collateral asset and amount.</p>
<pre><code class="language-solidity">function getCollateralValueWithPrice(address _collateralAsset, uint256 _amount)
    external
    view
    returns (uint256 value, uint256 adjustedValue, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to calculate the value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value for the provided amount of the collateral asset.</td></tr>
<tr><td><code>adjustedValue</code></td><td><code>uint256</code></td><td>The (cFactor) adjusted value for the provided amount of the collateral asset.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>The price of the collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="getdebtvaluewithprice-1"><a class="header" href="#getdebtvaluewithprice-1">getDebtValueWithPrice</a></h3>
<p>Gets the USD value for a single Kresko asset and amount.</p>
<pre><code class="language-solidity">function getDebtValueWithPrice(address _krAsset, uint256 _amount)
    external
    view
    returns (uint256 value, uint256 adjustedValue, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to calculate the value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value for the provided amount of the debt asset.</td></tr>
<tr><td><code>adjustedValue</code></td><td><code>uint256</code></td><td>The (kFactor) adjusted value for the provided amount of the debt asset.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>The price of the debt asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ieventfieldprovider"><a class="header" href="#ieventfieldprovider">IEventFieldProvider</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/MEvent.sol">Git Source</a></p>
<h2 id="functions-80"><a class="header" href="#functions-80">Functions</a></h2>
<h3 id="symbol-2"><a class="header" href="#symbol-2">symbol</a></h3>
<pre><code class="language-solidity">function symbol() external view returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mevent"><a class="header" href="#mevent">MEvent</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/MEvent.sol">Git Source</a></p>
<h2 id="functions-81"><a class="header" href="#functions-81">Functions</a></h2>
<h3 id="symbol-3"><a class="header" href="#symbol-3">symbol</a></h3>
<pre><code class="language-solidity">function symbol(address _addr) internal view returns (string memory symbol_);
</code></pre>
<h2 id="events-4"><a class="header" href="#events-4">Events</a></h2>
<h3 id="collateralassetadded"><a class="header" href="#collateralassetadded">CollateralAssetAdded</a></h3>
<p>Emitted when a collateral asset is added to the protocol.</p>
<p><em>Can only be emitted once for a given collateral asset.</em></p>
<pre><code class="language-solidity">event CollateralAssetAdded(
    string indexed ticker,
    string indexed symbol,
    address indexed collateralAsset,
    uint256 factor,
    address anchor,
    uint256 liqIncentive
);
</code></pre>
<h3 id="collateralassetupdated"><a class="header" href="#collateralassetupdated">CollateralAssetUpdated</a></h3>
<p>Emitted when a collateral asset is updated.</p>
<pre><code class="language-solidity">event CollateralAssetUpdated(
    string indexed ticker,
    string indexed symbol,
    address indexed collateralAsset,
    uint256 factor,
    address anchor,
    uint256 liqIncentive
);
</code></pre>
<h3 id="collateraldeposited"><a class="header" href="#collateraldeposited">CollateralDeposited</a></h3>
<p>Emitted when an account deposits collateral.</p>
<pre><code class="language-solidity">event CollateralDeposited(address indexed account, address indexed collateralAsset, uint256 amount);
</code></pre>
<h3 id="collateralwithdrawn"><a class="header" href="#collateralwithdrawn">CollateralWithdrawn</a></h3>
<p>Emitted when an account withdraws collateral.</p>
<pre><code class="language-solidity">event CollateralWithdrawn(address indexed account, address indexed collateralAsset, uint256 amount);
</code></pre>
<h3 id="uncheckedcollateralwithdrawn"><a class="header" href="#uncheckedcollateralwithdrawn">UncheckedCollateralWithdrawn</a></h3>
<p>Emitted when AMM helper withdraws account collateral without MCR checks.</p>
<pre><code class="language-solidity">event UncheckedCollateralWithdrawn(address indexed account, address indexed collateralAsset, uint256 amount);
</code></pre>
<h3 id="kreskoassetadded"><a class="header" href="#kreskoassetadded">KreskoAssetAdded</a></h3>
<p>Emitted when a KreskoAsset is added to the protocol.</p>
<p><em>Can only be emitted once for a given Kresko asset.</em></p>
<pre><code class="language-solidity">event KreskoAssetAdded(
    string indexed ticker,
    string indexed symbol,
    address indexed kreskoAsset,
    address anchor,
    uint256 kFactor,
    uint256 maxDebtMinter,
    uint256 closeFee,
    uint256 openFee
);
</code></pre>
<h3 id="kreskoassetupdated"><a class="header" href="#kreskoassetupdated">KreskoAssetUpdated</a></h3>
<p>Emitted when a Kresko asset's oracle is updated.</p>
<pre><code class="language-solidity">event KreskoAssetUpdated(
    string indexed ticker,
    string indexed symbol,
    address indexed kreskoAsset,
    address anchor,
    uint256 kFactor,
    uint256 maxDebtMinter,
    uint256 closeFee,
    uint256 openFee
);
</code></pre>
<h3 id="kreskoassetminted"><a class="header" href="#kreskoassetminted">KreskoAssetMinted</a></h3>
<p>Emitted when an account mints a Kresko asset.</p>
<pre><code class="language-solidity">event KreskoAssetMinted(address indexed account, address indexed kreskoAsset, uint256 amount);
</code></pre>
<h3 id="kreskoassetburned"><a class="header" href="#kreskoassetburned">KreskoAssetBurned</a></h3>
<p>Emitted when an account burns a Kresko asset.</p>
<pre><code class="language-solidity">event KreskoAssetBurned(address indexed account, address indexed kreskoAsset, uint256 amount);
</code></pre>
<h3 id="cfactorupdated"><a class="header" href="#cfactorupdated">CFactorUpdated</a></h3>
<p>Emitted when cFactor is updated for a collateral asset.</p>
<pre><code class="language-solidity">event CFactorUpdated(string indexed symbol, address indexed collateralAsset, uint256 from, uint256 to);
</code></pre>
<h3 id="kfactorupdated"><a class="header" href="#kfactorupdated">KFactorUpdated</a></h3>
<p>Emitted when kFactor is updated for a KreskoAsset.</p>
<pre><code class="language-solidity">event KFactorUpdated(string indexed symbol, address indexed kreskoAsset, uint256 from, uint256 to);
</code></pre>
<h3 id="debtpositionclosed"><a class="header" href="#debtpositionclosed">DebtPositionClosed</a></h3>
<p>Emitted when an account burns a Kresko asset.</p>
<pre><code class="language-solidity">event DebtPositionClosed(address indexed account, address indexed kreskoAsset, uint256 amount);
</code></pre>
<h3 id="feepaid"><a class="header" href="#feepaid">FeePaid</a></h3>
<p>Emitted when an account pays an open/close fee with a collateral asset in the Minter.</p>
<p><em>This can be emitted multiple times for a single asset.</em></p>
<pre><code class="language-solidity">event FeePaid(
    address indexed account,
    address indexed paymentCollateralAsset,
    uint256 indexed feeType,
    uint256 paymentAmount,
    uint256 paymentValue,
    uint256 feeValue
);
</code></pre>
<h3 id="liquidationoccurred"><a class="header" href="#liquidationoccurred">LiquidationOccurred</a></h3>
<p>Emitted when a liquidation occurs.</p>
<pre><code class="language-solidity">event LiquidationOccurred(
    address indexed account,
    address indexed liquidator,
    address indexed repayKreskoAsset,
    uint256 repayAmount,
    address seizedCollateralAsset,
    uint256 collateralSent
);
</code></pre>
<h3 id="safetystatechange"><a class="header" href="#safetystatechange">SafetyStateChange</a></h3>
<p>Emitted when a safety state is triggered for an asset</p>
<pre><code class="language-solidity">event SafetyStateChange(Enums.Action indexed action, string indexed symbol, address indexed asset, string description);
</code></pre>
<h3 id="feerecipientupdated"><a class="header" href="#feerecipientupdated">FeeRecipientUpdated</a></h3>
<p>Emitted when the fee recipient is updated.</p>
<pre><code class="language-solidity">event FeeRecipientUpdated(address from, address to);
</code></pre>
<h3 id="liquidationincentiveupdated"><a class="header" href="#liquidationincentiveupdated">LiquidationIncentiveUpdated</a></h3>
<p>Emitted when the liquidation incentive multiplier is updated.</p>
<pre><code class="language-solidity">event LiquidationIncentiveUpdated(string indexed symbol, address indexed asset, uint256 from, uint256 to);
</code></pre>
<h3 id="mincollateralratioupdated"><a class="header" href="#mincollateralratioupdated">MinCollateralRatioUpdated</a></h3>
<p>Emitted when the minimum collateralization ratio is updated.</p>
<pre><code class="language-solidity">event MinCollateralRatioUpdated(uint256 from, uint256 to);
</code></pre>
<h3 id="minimumdebtvalueupdated"><a class="header" href="#minimumdebtvalueupdated">MinimumDebtValueUpdated</a></h3>
<p>Emitted when the minimum debt value updated.</p>
<pre><code class="language-solidity">event MinimumDebtValueUpdated(uint256 from, uint256 to);
</code></pre>
<h3 id="liquidationthresholdupdated"><a class="header" href="#liquidationthresholdupdated">LiquidationThresholdUpdated</a></h3>
<p>Emitted when the liquidation threshold value is updated</p>
<pre><code class="language-solidity">event LiquidationThresholdUpdated(uint256 from, uint256 to, uint256 mlr);
</code></pre>
<h3 id="maxliquidationratioupdated"><a class="header" href="#maxliquidationratioupdated">MaxLiquidationRatioUpdated</a></h3>
<p>Emitted when the max liquidation ratio is updated</p>
<pre><code class="language-solidity">event MaxLiquidationRatioUpdated(uint256 from, uint256 to);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minterstate"><a class="header" href="#minterstate">MinterState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/MState.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<pre><code class="language-solidity">struct MinterState {
    mapping(address =&gt; address[]) depositedCollateralAssets;
    mapping(address =&gt; mapping(address =&gt; uint256)) collateralDeposits;
    mapping(address =&gt; mapping(address =&gt; uint256)) kreskoAssetDebt;
    mapping(address =&gt; address[]) mintedKreskoAssets;
    address[] krAssets;
    address[] collaterals;
    address feeRecipient;
    uint32 maxLiquidationRatio;
    uint32 minCollateralRatio;
    uint32 liquidationThreshold;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ms"><a class="header" href="#ms">ms</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/MState.sol">Git Source</a></p>
<pre><code class="language-solidity">function ms() pure returns (MinterState storage state);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-3"><a class="header" href="#constants-3">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/MState.sol">Git Source</a></p>
<h3 id="minter_storage_position"><a class="header" href="#minter_storage_position">MINTER_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant MINTER_STORAGE_POSITION = keccak256(&quot;kresko.minter.storage&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="liquidateexecution"><a class="header" href="#liquidateexecution">LiquidateExecution</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/MTypes.sol">Git Source</a></p>
<p>Internal, used execute _liquidateAssets.</p>
<pre><code class="language-solidity">struct LiquidateExecution {
    address account;
    uint256 repayAmount;
    uint256 seizeAmount;
    address repayAssetAddr;
    uint256 repayAssetIndex;
    address seizedAssetAddr;
    uint256 seizedAssetIndex;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="liquidationargs"><a class="header" href="#liquidationargs">LiquidationArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/MTypes.sol">Git Source</a></p>
<p>External, used when caling liquidate.</p>
<pre><code class="language-solidity">struct LiquidationArgs {
    address account;
    address repayAssetAddr;
    uint256 repayAmount;
    address seizeAssetAddr;
    uint256 repayAssetIndex;
    uint256 seizeAssetIndex;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minteraccountstate"><a class="header" href="#minteraccountstate">MinterAccountState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/MTypes.sol">Git Source</a></p>
<pre><code class="language-solidity">struct MinterAccountState {
    uint256 totalDebtValue;
    uint256 totalCollateralValue;
    uint256 collateralRatio;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minterinitargs"><a class="header" href="#minterinitargs">MinterInitArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/MTypes.sol">Git Source</a></p>
<p>Initialization arguments for the protocol</p>
<pre><code class="language-solidity">struct MinterInitArgs {
    uint32 liquidationThreshold;
    uint32 minCollateralRatio;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minterparams"><a class="header" href="#minterparams">MinterParams</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/minter/MTypes.sol">Git Source</a></p>
<p>Configurable parameters within the protocol</p>
<pre><code class="language-solidity">struct MinterParams {
    uint32 minCollateralRatio;
    uint32 liquidationThreshold;
    uint32 maxLiquidationRatio;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-18"><a class="header" href="#contents-18">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/scdp//src/contracts/core/scdp/facets">facets</a></li>
<li><a href="src/contracts/core/scdp//src/contracts/core/scdp/funcs">funcs</a></li>
<li><a href="src/contracts/core/scdp//src/contracts/core/scdp/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/scdp/SDICoverRecipient.sol/contract.SDICoverRecipient.html">SDICoverRecipient</a></li>
<li><a href="src/contracts/core/scdp/SEvent.sol/library.SEvent.html">SEvent</a></li>
<li><a href="src/contracts/core/scdp/SState.sol/struct.SCDPState.html">SCDPState</a></li>
<li><a href="src/contracts/core/scdp/SState.sol/struct.SDIState.html">SDIState</a></li>
<li><a href="src/contracts/core/scdp/SState.sol/function.sdi.html">sdi</a></li>
<li><a href="src/contracts/core/scdp/SState.sol/function.scdp.html">scdp</a></li>
<li><a href="src/contracts/core/scdp/SState.sol/constants.SState.html">SState constants</a></li>
<li><a href="src/contracts/core/scdp/STypes.sol/struct.SCDPInitArgs.html">SCDPInitArgs</a></li>
<li><a href="src/contracts/core/scdp/STypes.sol/struct.SCDPParameters.html">SCDPParameters</a></li>
<li><a href="src/contracts/core/scdp/STypes.sol/struct.SwapRouteSetter.html">SwapRouteSetter</a></li>
<li><a href="src/contracts/core/scdp/STypes.sol/struct.SCDPAssetData.html">SCDPAssetData</a></li>
<li><a href="src/contracts/core/scdp/STypes.sol/struct.GlobalData.html">GlobalData</a></li>
<li><a href="src/contracts/core/scdp/STypes.sol/struct.AssetData.html">AssetData</a></li>
<li><a href="src/contracts/core/scdp/STypes.sol/struct.UserAssetData.html">UserAssetData</a></li>
<li><a href="src/contracts/core/scdp/STypes.sol/struct.UserData.html">UserData</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-19"><a class="header" href="#contents-19">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/scdp/facets/SCDPConfigFacet.sol/contract.SCDPConfigFacet.html">SCDPConfigFacet</a></li>
<li><a href="src/contracts/core/scdp/facets/SCDPFacet.sol/contract.SCDPFacet.html">SCDPFacet</a></li>
<li><a href="src/contracts/core/scdp/facets/SCDPStateFacet.sol/contract.SCDPStateFacet.html">SCDPStateFacet</a></li>
<li><a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol/contract.SCDPSwapFacet.html">SCDPSwapFacet</a></li>
<li><a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol/function.getSwapFees.html">getSwapFees</a></li>
<li><a href="src/contracts/core/scdp/facets/SDIFacet.sol/contract.SDIFacet.html">SDIFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpconfigfacet"><a class="header" href="#scdpconfigfacet">SCDPConfigFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/facets/SCDPConfigFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/scdp/facets/SCDPConfigFacet.sol//docs/book/src/src/contracts/core/scdp/interfaces/ISCDPConfigFacet.sol/interface.ISCDPConfigFacet.html">ISCDPConfigFacet</a>, <a href="src/contracts/core/scdp/facets/SCDPConfigFacet.sol//docs/book/src/src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/scdp/facets/SCDPConfigFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a></p>
<h2 id="functions-82"><a class="header" href="#functions-82">Functions</a></h2>
<h3 id="initializescdp"><a class="header" href="#initializescdp">initializeSCDP</a></h3>
<p>Initialize SCDP.
Callable by diamond owner only.</p>
<pre><code class="language-solidity">function initializeSCDP(SCDPInitArgs calldata args) external initializer(4) initializeAsAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>args</code></td><td><code>SCDPInitArgs</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getparametersscdp"><a class="header" href="#getparametersscdp">getParametersSCDP</a></h3>
<p>Get the pool configuration.</p>
<pre><code class="language-solidity">function getParametersSCDP() external view override returns (SCDPParameters memory);
</code></pre>
<h3 id="setfeeassetscdp"><a class="header" href="#setfeeassetscdp">setFeeAssetSCDP</a></h3>
<pre><code class="language-solidity">function setFeeAssetSCDP(address _assetAddr) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setmincollateralratioscdp"><a class="header" href="#setmincollateralratioscdp">setMinCollateralRatioSCDP</a></h3>
<p>Set the minimum collateralization ratio for SCDP.</p>
<pre><code class="language-solidity">function setMinCollateralRatioSCDP(uint32 _newMCR) public onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setliquidationthresholdscdp"><a class="header" href="#setliquidationthresholdscdp">setLiquidationThresholdSCDP</a></h3>
<p>Set the liquidation threshold for SCDP while updating MLR to one percent above it.</p>
<pre><code class="language-solidity">function setLiquidationThresholdSCDP(uint32 _newLT) public onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setmaxliquidationratioscdp"><a class="header" href="#setmaxliquidationratioscdp">setMaxLiquidationRatioSCDP</a></h3>
<pre><code class="language-solidity">function setMaxLiquidationRatioSCDP(uint32 _newMLR) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setdepositlimitscdp"><a class="header" href="#setdepositlimitscdp">setDepositLimitSCDP</a></h3>
<p>Update the deposit asset limit configuration.
Only callable by admin.
emits PoolCollateralUpdated</p>
<pre><code class="language-solidity">function setDepositLimitSCDP(address _assetAddr, uint256 _newDepositLimitSCDP) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The Collateral asset to update</td></tr>
<tr><td><code>_newDepositLimitSCDP</code></td><td><code>uint256</code></td><td>The new deposit limit for the collateral</td></tr>
</tbody></table>
</div>
<h3 id="setkrassetliqincentivescdp"><a class="header" href="#setkrassetliqincentivescdp">setKrAssetLiqIncentiveSCDP</a></h3>
<p>Set the new liquidation incentive for a swappable asset.</p>
<pre><code class="language-solidity">function setKrAssetLiqIncentiveSCDP(address _assetAddr, uint16 _newLiqIncentiveSCDP) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address</td></tr>
<tr><td><code>_newLiqIncentiveSCDP</code></td><td><code>uint16</code></td><td>New liquidation incentive. Bounded to 1e4 &lt;-&gt; 1.25e4.</td></tr>
</tbody></table>
</div>
<h3 id="setassetissharedcollateralscdp"><a class="header" href="#setassetissharedcollateralscdp">setAssetIsSharedCollateralSCDP</a></h3>
<p>Disable or enable a deposit asset. Reverts if invalid asset.
Only callable by admin.</p>
<pre><code class="language-solidity">function setAssetIsSharedCollateralSCDP(address _assetAddr, bool _enabled) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to set.</td></tr>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>Whether to enable or disable the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setassetisswapmintablescdp"><a class="header" href="#setassetisswapmintablescdp">setAssetIsSwapMintableSCDP</a></h3>
<p>Disable or enable a kresko asset to be used in swaps.
Reverts if invalid asset. Enabling will also add it to collateral value calculations.
Only callable by admin.</p>
<pre><code class="language-solidity">function setAssetIsSwapMintableSCDP(address _assetAddr, bool _enabled) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to set.</td></tr>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>Whether to enable or disable the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setassetissharedorswappedcollateralscdp"><a class="header" href="#setassetissharedorswappedcollateralscdp">setAssetIsSharedOrSwappedCollateralSCDP</a></h3>
<pre><code class="language-solidity">function setAssetIsSharedOrSwappedCollateralSCDP(address _assetAddr, bool _enabled) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setassetswapfeesscdp"><a class="header" href="#setassetswapfeesscdp">setAssetSwapFeesSCDP</a></h3>
<p>Sets the fees for a kresko asset</p>
<p><em>Only callable by admin.</em></p>
<pre><code class="language-solidity">function setAssetSwapFeesSCDP(address _assetAddr, uint16 _openFee, uint16 _closeFee, uint16 _protocolFee)
    external
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The kresko asset to set fees for.</td></tr>
<tr><td><code>_openFee</code></td><td><code>uint16</code></td><td>The new open fee.</td></tr>
<tr><td><code>_closeFee</code></td><td><code>uint16</code></td><td>The new close fee.</td></tr>
<tr><td><code>_protocolFee</code></td><td><code>uint16</code></td><td>The protocol fee share.</td></tr>
</tbody></table>
</div>
<h3 id="setswaproutesscdp"><a class="header" href="#setswaproutesscdp">setSwapRoutesSCDP</a></h3>
<p>Set whether swap routes for pairs are enabled or not. Both ways.
Only callable by admin.</p>
<pre><code class="language-solidity">function setSwapRoutesSCDP(SwapRouteSetter[] calldata _pairs) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_pairs</code></td><td><code>SwapRouteSetter[]</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="setsingleswaproutescdp"><a class="header" href="#setsingleswaproutescdp">setSingleSwapRouteSCDP</a></h3>
<p>Set whether a swap route for a pair is enabled or not.
Only callable by admin.</p>
<pre><code class="language-solidity">function setSingleSwapRouteSCDP(SwapRouteSetter calldata _pair) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_pair</code></td><td><code>SwapRouteSetter</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="scdpfacet"><a class="header" href="#scdpfacet">SCDPFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/facets/SCDPFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/scdp/facets/SCDPFacet.sol//docs/book/src/src/contracts/core/scdp/interfaces/ISCDPFacet.sol/interface.ISCDPFacet.html">ISCDPFacet</a>, <a href="src/contracts/core/scdp/facets/SCDPFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a></p>
<h2 id="functions-83"><a class="header" href="#functions-83">Functions</a></h2>
<h3 id="depositscdp"><a class="header" href="#depositscdp">depositSCDP</a></h3>
<p>Deposit collateral for account to the collateral pool.</p>
<pre><code class="language-solidity">function depositSCDP(address _account, address _collateralAsset, uint256 _amount) external nonReentrant gate;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to deposit for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to deposit.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to deposit.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawscdp"><a class="header" href="#withdrawscdp">withdrawSCDP</a></h3>
<p>Withdraw collateral for account from the collateral pool.</p>
<pre><code class="language-solidity">function withdrawSCDP(address _account, address _collateralAsset, uint256 _amount) external nonReentrant gate;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to withdraw for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to withdraw.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to withdraw.</td></tr>
</tbody></table>
</div>
<h3 id="repayscdp"><a class="header" href="#repayscdp">repaySCDP</a></h3>
<p>Repay debt for no fees or slippage.</p>
<pre><code class="language-solidity">function repaySCDP(address _repayAssetAddr, uint256 _repayAmount, address _seizeAssetAddr) external nonReentrant gate;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>The asset to repay the debt in.</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>The amount of the asset to repay the debt with.</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>The collateral asset to seize.</td></tr>
</tbody></table>
</div>
<h3 id="getliquidatablescdp"><a class="header" href="#getliquidatablescdp">getLiquidatableSCDP</a></h3>
<pre><code class="language-solidity">function getLiquidatableSCDP() external view returns (bool);
</code></pre>
<h3 id="getmaxliqvaluescdp"><a class="header" href="#getmaxliqvaluescdp">getMaxLiqValueSCDP</a></h3>
<pre><code class="language-solidity">function getMaxLiqValueSCDP(address _repayAssetAddr, address _seizeAssetAddr)
    external
    view
    returns (MaxLiqInfo memory);
</code></pre>
<h3 id="liquidatescdp"><a class="header" href="#liquidatescdp">liquidateSCDP</a></h3>
<p>Liquidate the collateral pool.</p>
<pre><code class="language-solidity">function liquidateSCDP(address _repayAssetAddr, uint256 _repayAmount, address _seizeAssetAddr)
    external
    nonReentrant
    gate;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>The asset to repay the debt in.</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>The amount of the asset to repay the debt with.</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>The collateral asset to seize.</td></tr>
</tbody></table>
</div>
<h3 id="_getmaxliqvalue-1"><a class="header" href="#_getmaxliqvalue-1">_getMaxLiqValue</a></h3>
<pre><code class="language-solidity">function _getMaxLiqValue(Asset storage _repayAsset, Asset storage _seizeAsset, address _seizeAssetAddr)
    internal
    view
    returns (uint256 maxLiquidatableUSD);
</code></pre>
<h3 id="_calcmaxliqvalue-1"><a class="header" href="#_calcmaxliqvalue-1">_calcMaxLiqValue</a></h3>
<pre><code class="language-solidity">function _calcMaxLiqValue(
    Asset storage _repayAsset,
    Asset storage _seizeAsset,
    uint256 _minCollateralValue,
    uint256 _totalCollateralValue,
    uint256 _seizeAssetValue,
    uint96 _minDebtValue,
    uint32 _maxLiquidationRatio
) internal view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpstatefacet"><a class="header" href="#scdpstatefacet">SCDPStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/facets/SCDPStateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/scdp/facets/SCDPStateFacet.sol//docs/book/src/src/contracts/core/scdp/interfaces/ISCDPStateFacet.sol/interface.ISCDPStateFacet.html">ISCDPStateFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>This facet is used to view the state of the scdp.</p>
<h2 id="functions-84"><a class="header" href="#functions-84">Functions</a></h2>
<h3 id="getaccountdepositscdp"><a class="header" href="#getaccountdepositscdp">getAccountDepositSCDP</a></h3>
<p>Get the total collateral principal deposits for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountDepositSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccountscaleddepositsscdp"><a class="header" href="#getaccountscaleddepositsscdp">getAccountScaledDepositsSCDP</a></h3>
<p>Get the collateral pool deposit balance of <code>_account</code>. Including fees.</p>
<pre><code class="language-solidity">function getAccountScaledDepositsSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountdepositfeesgainedscdp"><a class="header" href="#getaccountdepositfeesgainedscdp">getAccountDepositFeesGainedSCDP</a></h3>
<pre><code class="language-solidity">function getAccountDepositFeesGainedSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<h3 id="getaccountdepositvaluescdp"><a class="header" href="#getaccountdepositvaluescdp">getAccountDepositValueSCDP</a></h3>
<p>Get the (principal) deposit value for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountDepositValueSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccountscaleddepositvaluecdp"><a class="header" href="#getaccountscaleddepositvaluecdp">getAccountScaledDepositValueCDP</a></h3>
<p>Get the full value of account and fees for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountScaledDepositValueCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldepositsvaluescdp"><a class="header" href="#getaccounttotaldepositsvaluescdp">getAccountTotalDepositsValueSCDP</a></h3>
<p>Get the total collateral deposit value for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountTotalDepositsValueSCDP(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalscaleddepositsvaluescdp"><a class="header" href="#getaccounttotalscaleddepositsvaluescdp">getAccountTotalScaledDepositsValueSCDP</a></h3>
<p>Get the full value of account and fees for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountTotalScaledDepositsValueSCDP(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
</tbody></table>
</div>
<h3 id="getdepositassetsscdp"><a class="header" href="#getdepositassetsscdp">getDepositAssetsSCDP</a></h3>
<p>Get all pool CollateralAssets</p>
<pre><code class="language-solidity">function getDepositAssetsSCDP() external view returns (address[] memory result);
</code></pre>
<h3 id="getcollateralsscdp"><a class="header" href="#getcollateralsscdp">getCollateralsSCDP</a></h3>
<pre><code class="language-solidity">function getCollateralsSCDP() external view returns (address[] memory result);
</code></pre>
<h3 id="getdepositsscdp"><a class="header" href="#getdepositsscdp">getDepositsSCDP</a></h3>
<p>Get the total collateral deposits for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getDepositsSCDP(address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getswapdepositsscdp"><a class="header" href="#getswapdepositsscdp">getSwapDepositsSCDP</a></h3>
<p>Get the total collateral swap deposits for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getSwapDepositsSCDP(address _collateralAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getcollateralvaluescdp"><a class="header" href="#getcollateralvaluescdp">getCollateralValueSCDP</a></h3>
<p>Get the total collateral deposit value for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getCollateralValueSCDP(address _depositAsset, bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral and debt value.</td></tr>
</tbody></table>
</div>
<h3 id="gettotalcollateralvaluescdp"><a class="header" href="#gettotalcollateralvaluescdp">getTotalCollateralValueSCDP</a></h3>
<p>Get the total collateral value, oracle precision</p>
<pre><code class="language-solidity">function getTotalCollateralValueSCDP(bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral value.</td></tr>
</tbody></table>
</div>
<h3 id="getkreskoassetsscdp"><a class="header" href="#getkreskoassetsscdp">getKreskoAssetsSCDP</a></h3>
<p>Get all pool KreskoAssets</p>
<pre><code class="language-solidity">function getKreskoAssetsSCDP() external view returns (address[] memory);
</code></pre>
<h3 id="getdebtscdp"><a class="header" href="#getdebtscdp">getDebtSCDP</a></h3>
<p>Get the collateral debt amount for <code>_krAsset</code></p>
<pre><code class="language-solidity">function getDebtSCDP(address _krAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The KreskoAsset</td></tr>
</tbody></table>
</div>
<h3 id="getdebtvaluescdp"><a class="header" href="#getdebtvaluescdp">getDebtValueSCDP</a></h3>
<p>Get the debt value for <code>_krAsset</code></p>
<pre><code class="language-solidity">function getDebtValueSCDP(address _krAsset, bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The KreskoAsset</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral and debt value.</td></tr>
</tbody></table>
</div>
<h3 id="gettotaldebtvaluescdp"><a class="header" href="#gettotaldebtvaluescdp">getTotalDebtValueSCDP</a></h3>
<p>Get the total debt value of krAssets in oracle precision</p>
<pre><code class="language-solidity">function getTotalDebtValueSCDP(bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating debt value.</td></tr>
</tbody></table>
</div>
<h3 id="getassetenabledscdp"><a class="header" href="#getassetenabledscdp">getAssetEnabledSCDP</a></h3>
<p>Get enabled state of asset</p>
<pre><code class="language-solidity">function getAssetEnabledSCDP(address _assetAddr) external view returns (bool);
</code></pre>
<h3 id="getdepositenabledscdp"><a class="header" href="#getdepositenabledscdp">getDepositEnabledSCDP</a></h3>
<pre><code class="language-solidity">function getDepositEnabledSCDP(address _assetAddr) external view returns (bool);
</code></pre>
<h3 id="getswapenabledscdp"><a class="header" href="#getswapenabledscdp">getSwapEnabledSCDP</a></h3>
<p>Get whether swap is enabled from <code>_assetIn</code> to <code>_assetOut</code></p>
<pre><code class="language-solidity">function getSwapEnabledSCDP(address _assetIn, address _assetOut) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIn</code></td><td><code>address</code></td><td>The asset to swap from</td></tr>
<tr><td><code>_assetOut</code></td><td><code>address</code></td><td>The asset to swap to</td></tr>
</tbody></table>
</div>
<h3 id="getcollateralratioscdp"><a class="header" href="#getcollateralratioscdp">getCollateralRatioSCDP</a></h3>
<pre><code class="language-solidity">function getCollateralRatioSCDP() public view returns (uint256);
</code></pre>
<h3 id="getstatisticsscdp"><a class="header" href="#getstatisticsscdp">getStatisticsSCDP</a></h3>
<p>Get pool collateral values and debt values with CR.</p>
<pre><code class="language-solidity">function getStatisticsSCDP() external view returns (GlobalData memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>GlobalData</code></td><td>GlobalData struct</td></tr>
</tbody></table>
</div>
<h3 id="getaccountinfoscdp"><a class="header" href="#getaccountinfoscdp">getAccountInfoSCDP</a></h3>
<pre><code class="language-solidity">function getAccountInfoSCDP(address _account, address[] memory _assets) public view returns (UserData memory result);
</code></pre>
<h3 id="getaccountinfosscdp"><a class="header" href="#getaccountinfosscdp">getAccountInfosSCDP</a></h3>
<pre><code class="language-solidity">function getAccountInfosSCDP(address[] memory _accounts, address[] memory _assets)
    external
    view
    returns (UserData[] memory result);
</code></pre>
<h3 id="getassetinfoscdp"><a class="header" href="#getassetinfoscdp">getAssetInfoSCDP</a></h3>
<pre><code class="language-solidity">function getAssetInfoSCDP(address _assetAddr) public view returns (AssetData memory results);
</code></pre>
<h3 id="getassetinfosscdp"><a class="header" href="#getassetinfosscdp">getAssetInfosSCDP</a></h3>
<pre><code class="language-solidity">function getAssetInfosSCDP(address[] memory _assets) external view returns (AssetData[] memory results);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpswapfacet"><a class="header" href="#scdpswapfacet">SCDPSwapFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/facets/SCDPSwapFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol//docs/book/src/src/contracts/core/scdp/interfaces/ISCDPSwapFacet.sol/interface.ISCDPSwapFacet.html">ISCDPSwapFacet</a>, <a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a></p>
<h2 id="functions-85"><a class="header" href="#functions-85">Functions</a></h2>
<h3 id="cumulateincomescdp"><a class="header" href="#cumulateincomescdp">cumulateIncomeSCDP</a></h3>
<p>Accumulates fees to deposits as a fixed, instantaneous income.</p>
<pre><code class="language-solidity">function cumulateIncomeSCDP(address _assetAddr, uint256 _incomeAmount) external nonReentrant returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_incomeAmount</code></td><td><code>uint256</code></td><td>Amount to accumulate</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>nextLiquidityIndex Next liquidity index for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="previewswapscdp"><a class="header" href="#previewswapscdp">previewSwapSCDP</a></h3>
<p>Preview the amount out received.</p>
<pre><code class="language-solidity">function previewSwapSCDP(address _assetInAddr, address _assetOutAddr, uint256 _amountIn)
    external
    view
    returns (uint256 amountOut, uint256 feeAmount, uint256 feeAmountProtocol);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetInAddr</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_assetOutAddr</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of _assetIn to pay.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>The amount of <code>_assetOut</code> to receive according to <code>_amountIn</code>.</td></tr>
<tr><td><code>feeAmount</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>feeAmountProtocol</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="swapscdp"><a class="header" href="#swapscdp">swapSCDP</a></h3>
<p>Swap kresko assets with KISS using the shared collateral pool.
Uses oracle pricing of _amountIn to determine how much _assetOut to send.</p>
<pre><code class="language-solidity">function swapSCDP(
    address _receiver,
    address _assetInAddr,
    address _assetOutAddr,
    uint256 _amountIn,
    uint256 _amountOutMin
) external nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_assetInAddr</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_assetOutAddr</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of _assetIn to pay.</td></tr>
<tr><td><code>_amountOutMin</code></td><td><code>uint256</code></td><td>The minimum amount of _assetOut to receive, this is due to possible oracle price change.</td></tr>
</tbody></table>
</div>
<h3 id="_swap"><a class="header" href="#_swap">_swap</a></h3>
<p>Swaps assets in the collateral pool.</p>
<pre><code class="language-solidity">function _swap(
    address _receiver,
    address _assetInAddr,
    Asset storage _assetIn,
    address _assetOutAddr,
    uint256 _amountIn,
    uint256 _amountOutMin
) private returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>The address to receive the swapped assets.</td></tr>
<tr><td><code>_assetInAddr</code></td><td><code>address</code></td><td>The asset to swap in.</td></tr>
<tr><td><code>_assetIn</code></td><td><code>Asset</code></td><td>The asset in struct.</td></tr>
<tr><td><code>_assetOutAddr</code></td><td><code>address</code></td><td>The asset to swap out.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of <code>_assetIn</code> to swap in.</td></tr>
<tr><td><code>_amountOutMin</code></td><td><code>uint256</code></td><td>The minimum amount of <code>_assetOut</code> to receive.</td></tr>
</tbody></table>
</div>
<h3 id="_swapfeeassetout"><a class="header" href="#_swapfeeassetout">_swapFeeAssetOut</a></h3>
<p>Swaps assets in the collateral pool.</p>
<pre><code class="language-solidity">function _swapFeeAssetOut(
    address _receiver,
    address _assetInAddr,
    Asset storage _assetIn,
    uint256 _amountIn,
    uint256 _amountOutMin
) private returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>The address to receive the swapped assets.</td></tr>
<tr><td><code>_assetInAddr</code></td><td><code>address</code></td><td>The asset to swap in.</td></tr>
<tr><td><code>_assetIn</code></td><td><code>Asset</code></td><td>The asset in struct.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of <code>_assetIn</code> to swap in.</td></tr>
<tr><td><code>_amountOutMin</code></td><td><code>uint256</code></td><td>The minimum amount of <code>_assetOut</code> to receive.</td></tr>
</tbody></table>
</div>
<h3 id="_swaptofeeasset"><a class="header" href="#_swaptofeeasset">_swapToFeeAsset</a></h3>
<p>Swaps assets in the collateral pool.</p>
<pre><code class="language-solidity">function _swapToFeeAsset(
    address _receiver,
    address _assetInAddr,
    Asset storage _assetIn,
    address _assetOutAddr,
    Asset storage _assetOut,
    uint256 _amountIn
) private returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>The address to receive the swapped assets.</td></tr>
<tr><td><code>_assetInAddr</code></td><td><code>address</code></td><td>The asset to swap in.</td></tr>
<tr><td><code>_assetIn</code></td><td><code>Asset</code></td><td>The asset in struct.</td></tr>
<tr><td><code>_assetOutAddr</code></td><td><code>address</code></td><td>The asset to swap out.</td></tr>
<tr><td><code>_assetOut</code></td><td><code>Asset</code></td><td>The asset out struct.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of <code>_assetIn</code> to swap in</td></tr>
</tbody></table>
</div>
<h3 id="_checkandpayfees"><a class="header" href="#_checkandpayfees">_checkAndPayFees</a></h3>
<pre><code class="language-solidity">function _checkAndPayFees(
    address _payAssetAddr,
    Asset storage _payAsset,
    uint256 _amountOut,
    uint256 _amountOutMin,
    uint256 _feeAmount,
    uint256 _protocolFeePct
) private;
</code></pre>
<h3 id="_payswapfees"><a class="header" href="#_payswapfees">_paySwapFees</a></h3>
<pre><code class="language-solidity">function _paySwapFees(
    address _feeAssetAddress,
    Asset storage _feeAsset,
    address _payAssetAddress,
    Asset storage _payAsset,
    uint256 _feeAmount,
    uint256 _protocolFeePct
) private;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getswapfees"><a class="header" href="#getswapfees">getSwapFees</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/facets/SCDPSwapFacet.sol">Git Source</a></p>
<p>Get fee percentage for a swap pair.</p>
<pre><code class="language-solidity">function getSwapFees(Asset storage _assetIn, Asset storage _assetOut)
    view
    returns (uint256 feePercentage, uint256 protocolFee);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feePercentage</code></td><td><code>uint256</code></td><td>fee percentage for this swap</td></tr>
<tr><td><code>protocolFee</code></td><td><code>uint256</code></td><td>protocol fee percentage taken from the fee</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="sdifacet"><a class="header" href="#sdifacet">SDIFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/facets/SDIFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/scdp/facets/SDIFacet.sol//docs/book/src/src/contracts/core/scdp/interfaces/ISDIFacet.sol/interface.ISDIFacet.html">ISDIFacet</a>, <a href="src/contracts/core/scdp/facets/SDIFacet.sol//docs/book/src/src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/scdp/facets/SDIFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a></p>
<h2 id="functions-86"><a class="header" href="#functions-86">Functions</a></h2>
<h3 id="totalsdi"><a class="header" href="#totalsdi">totalSDI</a></h3>
<pre><code class="language-solidity">function totalSDI() external view returns (uint256);
</code></pre>
<h3 id="gettotalsdidebt"><a class="header" href="#gettotalsdidebt">getTotalSDIDebt</a></h3>
<pre><code class="language-solidity">function getTotalSDIDebt() external view returns (uint256);
</code></pre>
<h3 id="geteffectivesdidebt"><a class="header" href="#geteffectivesdidebt">getEffectiveSDIDebt</a></h3>
<pre><code class="language-solidity">function getEffectiveSDIDebt() external view returns (uint256);
</code></pre>
<h3 id="geteffectivesdidebtusd"><a class="header" href="#geteffectivesdidebtusd">getEffectiveSDIDebtUSD</a></h3>
<pre><code class="language-solidity">function getEffectiveSDIDebtUSD() external view returns (uint256);
</code></pre>
<h3 id="getsdicoveramount"><a class="header" href="#getsdicoveramount">getSDICoverAmount</a></h3>
<pre><code class="language-solidity">function getSDICoverAmount() external view returns (uint256);
</code></pre>
<h3 id="previewscdpburn"><a class="header" href="#previewscdpburn">previewSCDPBurn</a></h3>
<pre><code class="language-solidity">function previewSCDPBurn(address _assetAddr, uint256 _burnAmount, bool _ignoreFactors)
    external
    view
    returns (uint256 shares);
</code></pre>
<h3 id="previewscdpmint"><a class="header" href="#previewscdpmint">previewSCDPMint</a></h3>
<pre><code class="language-solidity">function previewSCDPMint(address _assetAddr, uint256 _mintAmount, bool _ignoreFactors)
    external
    view
    returns (uint256 shares);
</code></pre>
<h3 id="getsdiprice"><a class="header" href="#getsdiprice">getSDIPrice</a></h3>
<p>Get the price of SDI in USD, oracle precision.</p>
<pre><code class="language-solidity">function getSDIPrice() external view returns (uint256);
</code></pre>
<h3 id="getcoverassetssdi"><a class="header" href="#getcoverassetssdi">getCoverAssetsSDI</a></h3>
<pre><code class="language-solidity">function getCoverAssetsSDI() external view returns (address[] memory);
</code></pre>
<h3 id="sdicover"><a class="header" href="#sdicover">SDICover</a></h3>
<pre><code class="language-solidity">function SDICover(address _assetAddr, uint256 _amount) external returns (uint256 shares, uint256 value);
</code></pre>
<h3 id="enablecoverassetsdi"><a class="header" href="#enablecoverassetsdi">enableCoverAssetSDI</a></h3>
<pre><code class="language-solidity">function enableCoverAssetSDI(address _assetAddr) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="disablecoverassetsdi"><a class="header" href="#disablecoverassetsdi">disableCoverAssetSDI</a></h3>
<pre><code class="language-solidity">function disableCoverAssetSDI(address _assetAddr) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setcoverrecipientsdi"><a class="header" href="#setcoverrecipientsdi">setCoverRecipientSDI</a></h3>
<pre><code class="language-solidity">function setCoverRecipientSDI(address _newCoverRecipient) external onlyRole(Role.ADMIN);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-20"><a class="header" href="#contents-20">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/scdp/funcs/SAccounts.sol/library.SAccounts.html">SAccounts</a></li>
<li><a href="src/contracts/core/scdp/funcs/SDI.sol/library.SDebtIndex.html">SDebtIndex</a></li>
<li><a href="src/contracts/core/scdp/funcs/SDeposits.sol/library.SDeposits.html">SDeposits</a></li>
<li><a href="src/contracts/core/scdp/funcs/SGlobal.sol/library.SGlobal.html">SGlobal</a></li>
<li><a href="src/contracts/core/scdp/funcs/SHelpers.sol/function.totalCollateralValuesSCDP.html">totalCollateralValuesSCDP</a></li>
<li><a href="src/contracts/core/scdp/funcs/SHelpers.sol/function.accountDepositAmountsAndValues.html">accountDepositAmountsAndValues</a></li>
<li><a href="src/contracts/core/scdp/funcs/SHelpers.sol/function.totalDebtValuesAtRatioSCDP.html">totalDebtValuesAtRatioSCDP</a></li>
<li><a href="src/contracts/core/scdp/funcs/SHelpers.sol/function.accountTotalDepositValues.html">accountTotalDepositValues</a></li>
<li><a href="src/contracts/core/scdp/funcs/SSwap.sol/library.Swap.html">Swap</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="saccounts"><a class="header" href="#saccounts">SAccounts</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/funcs/SAccounts.sol">Git Source</a></p>
<h2 id="functions-87"><a class="header" href="#functions-87">Functions</a></h2>
<h3 id="accountscaleddeposits"><a class="header" href="#accountscaleddeposits">accountScaledDeposits</a></h3>
<p>Get accounts deposit amount that is scaled by the liquidity index.</p>
<p>The liquidity index is updated when: A) Income is accrued B) Liquidation occurs.</p>
<pre><code class="language-solidity">function accountScaledDeposits(SCDPState storage self, address _account, address _assetAddr, Asset storage _asset)
    internal
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the amount for</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Amount of scaled debt.</td></tr>
</tbody></table>
</div>
<h3 id="accountprincipaldeposits"><a class="header" href="#accountprincipaldeposits">accountPrincipalDeposits</a></h3>
<p>Get accounts principal deposits.</p>
<p>Uses scaled deposits if its lower than principal (realizing liquidations).</p>
<pre><code class="language-solidity">function accountPrincipalDeposits(SCDPState storage self, address _account, address _assetAddr, Asset storage _asset)
    internal
    view
    returns (uint256 principalDeposits);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the amount for</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The deposit asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The deposit asset struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>principalDeposits</code></td><td><code>uint256</code></td><td>The principal deposit amount for the account.</td></tr>
</tbody></table>
</div>
<h3 id="accounttotaldepositvalue"><a class="header" href="#accounttotaldepositvalue">accountTotalDepositValue</a></h3>
<p>Returns the value of the deposits for <code>_account</code>.</p>
<pre><code class="language-solidity">function accountTotalDepositValue(SCDPState storage self, address _account, bool _ignoreFactors)
    internal
    view
    returns (uint256 totalValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get total deposit value for</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Whether to ignore cFactor and kFactor</td></tr>
</tbody></table>
</div>
<h3 id="accounttotalscaleddepositsvalue"><a class="header" href="#accounttotalscaleddepositsvalue">accountTotalScaledDepositsValue</a></h3>
<p>Returns the value of the collateral assets in the pool for <code>_account</code> for the scaled deposit amount.</p>
<p>Ignores all factors.</p>
<pre><code class="language-solidity">function accountTotalScaledDepositsValue(SCDPState storage self, address _account)
    internal
    view
    returns (uint256 totalValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>account</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="sdebtindex"><a class="header" href="#sdebtindex">SDebtIndex</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/funcs/SDI.sol">Git Source</a></p>
<h2 id="functions-88"><a class="header" href="#functions-88">Functions</a></h2>
<h3 id="valuetosdi"><a class="header" href="#valuetosdi">valueToSDI</a></h3>
<pre><code class="language-solidity">function valueToSDI(uint256 valueIn, uint8 oracleDecimals) internal view returns (uint256);
</code></pre>
<h3 id="cover"><a class="header" href="#cover">cover</a></h3>
<p>Cover by pulling assets.</p>
<pre><code class="language-solidity">function cover(SDIState storage self, address _assetAddr, uint256 _amount)
    internal
    returns (uint256 shares, uint256 value);
</code></pre>
<h3 id="effectivedebt"><a class="header" href="#effectivedebt">effectiveDebt</a></h3>
<p>Returns the total effective debt amount of the SCDP.</p>
<pre><code class="language-solidity">function effectiveDebt(SDIState storage self) internal view returns (uint256);
</code></pre>
<h3 id="effectivedebtvalue"><a class="header" href="#effectivedebtvalue">effectiveDebtValue</a></h3>
<p>Returns the total effective debt value of the SCDP.</p>
<pre><code class="language-solidity">function effectiveDebtValue(SDIState storage self) internal view returns (uint256);
</code></pre>
<h3 id="totalcoveramount"><a class="header" href="#totalcoveramount">totalCoverAmount</a></h3>
<pre><code class="language-solidity">function totalCoverAmount(SDIState storage self) internal view returns (uint256);
</code></pre>
<h3 id="totalcovervalue"><a class="header" href="#totalcovervalue">totalCoverValue</a></h3>
<p>Gets the total cover debt value, oracle precision</p>
<pre><code class="language-solidity">function totalCoverValue(SDIState storage self) internal view returns (uint256 result);
</code></pre>
<h3 id="totalsdi-1"><a class="header" href="#totalsdi-1">totalSDI</a></h3>
<p>Simply returns the total supply of SDI.</p>
<pre><code class="language-solidity">function totalSDI(SDIState storage self) internal view returns (uint256);
</code></pre>
<h3 id="coverassetvalue"><a class="header" href="#coverassetvalue">coverAssetValue</a></h3>
<p>Get total deposit value of <code>asset</code> in USD, oracle precision.</p>
<pre><code class="language-solidity">function coverAssetValue(SDIState storage self, address _assetAddr) internal view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sdeposits"><a class="header" href="#sdeposits">SDeposits</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/funcs/SDeposits.sol">Git Source</a></p>
<h2 id="functions-89"><a class="header" href="#functions-89">Functions</a></h2>
<h3 id="handledepositscdp"><a class="header" href="#handledepositscdp">handleDepositSCDP</a></h3>
<p>Records a deposit of collateral asset.</p>
<p><em>Saves principal, scaled and global deposit amounts.</em></p>
<pre><code class="language-solidity">function handleDepositSCDP(
    SCDPState storage self,
    Asset storage _asset,
    address _account,
    address _assetAddr,
    uint256 _amount
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>Asset struct for the deposit asset</td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>depositor</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>the deposit asset</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount of collateral asset to deposit</td></tr>
</tbody></table>
</div>
<h3 id="handlewithdrawscdp"><a class="header" href="#handlewithdrawscdp">handleWithdrawSCDP</a></h3>
<p>Records a withdrawal of collateral asset from the SCDP.</p>
<pre><code class="language-solidity">function handleWithdrawSCDP(
    SCDPState storage self,
    Asset storage _asset,
    address _account,
    address _assetAddr,
    uint256 _amount
) internal returns (uint256 amountOut, uint256 feesOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>Asset struct for the deposit asset</td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The withdrawing account</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>the deposit asset</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of collateral withdrawn</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>The actual amount of collateral withdrawn</td></tr>
<tr><td><code>feesOut</code></td><td><code>uint256</code></td><td>The fees paid for during the withdrawal</td></tr>
</tbody></table>
</div>
<h3 id="handleseizescdp"><a class="header" href="#handleseizescdp">handleSeizeSCDP</a></h3>
<p>This function seizes collateral from the shared pool</p>
<p>Adjusts all deposits in the case where swap deposits do not cover the amount.</p>
<pre><code class="language-solidity">function handleSeizeSCDP(SCDPState storage self, Asset storage _sAsset, address _assetAddr, uint256 _seizeAmount)
    internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_sAsset</code></td><td><code>Asset</code></td><td>The asset struct (Asset).</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The seized asset address.</td></tr>
<tr><td><code>_seizeAmount</code></td><td><code>uint256</code></td><td>The seize amount (uint256).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="sglobal"><a class="header" href="#sglobal">SGlobal</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/funcs/SGlobal.sol">Git Source</a></p>
<h2 id="functions-90"><a class="header" href="#functions-90">Functions</a></h2>
<h3 id="ensureliquidatablescdp"><a class="header" href="#ensureliquidatablescdp">ensureLiquidatableSCDP</a></h3>
<p>Checks whether the shared debt pool can be liquidated.</p>
<p>Reverts if collateral value .</p>
<pre><code class="language-solidity">function ensureLiquidatableSCDP(SCDPState storage self) internal view;
</code></pre>
<h3 id="checkcoverablescdp"><a class="header" href="#checkcoverablescdp">checkCoverableSCDP</a></h3>
<p>Checks whether the shared debt pool can be liquidated.</p>
<p>Reverts if collateral value .</p>
<pre><code class="language-solidity">function checkCoverableSCDP(SCDPState storage self) internal view;
</code></pre>
<h3 id="ensurecollateralratio"><a class="header" href="#ensurecollateralratio">ensureCollateralRatio</a></h3>
<p>Checks whether the collateral value is less than minimum required.</p>
<p>Reverts when collateralValue is below minimum required.</p>
<pre><code class="language-solidity">function ensureCollateralRatio(SCDPState storage self, uint32 _ratio) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Ratio to check in 1e4 percentage precision (uint32).</td></tr>
</tbody></table>
</div>
<h3 id="totaldebtvalueatratioscdp"><a class="header" href="#totaldebtvalueatratioscdp">totalDebtValueAtRatioSCDP</a></h3>
<p>Returns the value of the krAsset held in the pool at a ratio.</p>
<pre><code class="language-solidity">function totalDebtValueAtRatioSCDP(SCDPState storage self, uint32 _ratio, bool _ignorekFactor)
    internal
    view
    returns (uint256 totalValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Percentage ratio to apply for the value in 1e4 percentage precision (uint32).</td></tr>
<tr><td><code>_ignorekFactor</code></td><td><code>bool</code></td><td>Whether to ignore kFactor</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalValue</code></td><td><code>uint256</code></td><td>Total value in USD</td></tr>
</tbody></table>
</div>
<h3 id="totalcollateralvaluescdp"><a class="header" href="#totalcollateralvaluescdp">totalCollateralValueSCDP</a></h3>
<p>Calculates the total collateral value of collateral assets in the pool.</p>
<pre><code class="language-solidity">function totalCollateralValueSCDP(SCDPState storage self, bool _ignoreFactors)
    internal
    view
    returns (uint256 totalValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Whether to ignore cFactor.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalValue</code></td><td><code>uint256</code></td><td>Total value in USD</td></tr>
</tbody></table>
</div>
<h3 id="totalcollateralvaluescdp-1"><a class="header" href="#totalcollateralvaluescdp-1">totalCollateralValueSCDP</a></h3>
<p>Calculates total collateral value while extracting single asset value.</p>
<pre><code class="language-solidity">function totalCollateralValueSCDP(SCDPState storage self, address _collateralAsset, bool _ignoreFactors)
    internal
    view
    returns (uint256 totalValue, uint256 assetValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>Collateral asset to extract value for</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Whether to ignore cFactor.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalValue</code></td><td><code>uint256</code></td><td>Total value in USD</td></tr>
<tr><td><code>assetValue</code></td><td><code>uint256</code></td><td>Asset value in USD</td></tr>
</tbody></table>
</div>
<h3 id="totaldepositamount"><a class="header" href="#totaldepositamount">totalDepositAmount</a></h3>
<p>Get pool collateral deposits of an asset.</p>
<pre><code class="language-solidity">function totalDepositAmount(SCDPState storage self, address _assetAddress, Asset storage _asset)
    internal
    view
    returns (uint128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetAddress</code></td><td><code>address</code></td><td>The asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint128</code></td><td>Amount of scaled debt.</td></tr>
</tbody></table>
</div>
<h3 id="userdepositamount"><a class="header" href="#userdepositamount">userDepositAmount</a></h3>
<p>Get pool user collateral deposits of an asset.</p>
<pre><code class="language-solidity">function userDepositAmount(SCDPState storage self, address _assetAddress, Asset storage _asset)
    internal
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetAddress</code></td><td><code>address</code></td><td>The asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Amount of scaled debt.</td></tr>
</tbody></table>
</div>
<h3 id="swapdepositamount"><a class="header" href="#swapdepositamount">swapDepositAmount</a></h3>
<p>Get &quot;swap&quot; collateral deposits.</p>
<pre><code class="language-solidity">function swapDepositAmount(SCDPState storage self, address _assetAddress, Asset storage _asset)
    internal
    view
    returns (uint128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetAddress</code></td><td><code>address</code></td><td>The asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint128</code></td><td>Amount of debt.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="totalcollateralvaluesscdp"><a class="header" href="#totalcollateralvaluesscdp">totalCollateralValuesSCDP</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/funcs/SHelpers.sol">Git Source</a></p>
<p>Calculates the total collateral value of collateral assets in the pool.</p>
<pre><code class="language-solidity">function totalCollateralValuesSCDP() view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>in USD</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>Value adjusted by cFactors in USD</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="accountdepositamountsandvalues"><a class="header" href="#accountdepositamountsandvalues">accountDepositAmountsAndValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/funcs/SHelpers.sol">Git Source</a></p>
<pre><code class="language-solidity">function accountDepositAmountsAndValues(address _account, address _assetAddr)
    view
    returns (UserAssetData memory result);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="totaldebtvaluesatratioscdp"><a class="header" href="#totaldebtvaluesatratioscdp">totalDebtValuesAtRatioSCDP</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/funcs/SHelpers.sol">Git Source</a></p>
<p>Returns the values of the krAsset held in the pool at a ratio.</p>
<pre><code class="language-solidity">function totalDebtValuesAtRatioSCDP(uint32 _ratio) view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>ratio</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>in USD</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>Value adjusted by kFactors in USD</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="accounttotaldepositvalues"><a class="header" href="#accounttotaldepositvalues">accountTotalDepositValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/funcs/SHelpers.sol">Git Source</a></p>
<pre><code class="language-solidity">function accountTotalDepositValues(address _account, address[] memory _assetData)
    view
    returns (uint256 totalValue, uint256 totalScaledValue, UserAssetData[] memory datas);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="swap"><a class="header" href="#swap">Swap</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/funcs/SSwap.sol">Git Source</a></p>
<h2 id="functions-91"><a class="header" href="#functions-91">Functions</a></h2>
<h3 id="handleassetsin"><a class="header" href="#handleassetsin">handleAssetsIn</a></h3>
<p>Records the assets received from account in a swap.
Burning any existing shared debt or increasing collateral deposits.</p>
<pre><code class="language-solidity">function handleAssetsIn(
    SCDPState storage self,
    address _assetInAddr,
    Asset storage _assetIn,
    uint256 _amountIn,
    address _assetsFrom
) internal returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetInAddr</code></td><td><code>address</code></td><td>The asset received.</td></tr>
<tr><td><code>_assetIn</code></td><td><code>Asset</code></td><td>The asset in struct.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of the asset received.</td></tr>
<tr><td><code>_assetsFrom</code></td><td><code>address</code></td><td>The account that holds the assets to burn.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The value of the assets received into the protocol, used to calculate assets out.</td></tr>
</tbody></table>
</div>
<h3 id="handleassetsout"><a class="header" href="#handleassetsout">handleAssetsOut</a></h3>
<p>Records the assets to send out in a swap.
Increasing debt of the pool by minting new assets when required.</p>
<pre><code class="language-solidity">function handleAssetsOut(
    SCDPState storage self,
    address _assetOutAddr,
    Asset storage _assetOut,
    uint256 _valueIn,
    address _assetsTo
) internal returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetOutAddr</code></td><td><code>address</code></td><td>The asset to send out.</td></tr>
<tr><td><code>_assetOut</code></td><td><code>Asset</code></td><td>The asset out struct.</td></tr>
<tr><td><code>_valueIn</code></td><td><code>uint256</code></td><td>The value received in.</td></tr>
<tr><td><code>_assetsTo</code></td><td><code>address</code></td><td>The asset receiver.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>The amount of the asset out.</td></tr>
</tbody></table>
</div>
<h3 id="cumulateincome"><a class="header" href="#cumulateincome">cumulateIncome</a></h3>
<p>Accumulates fees to deposits as a fixed, instantaneous income.</p>
<pre><code class="language-solidity">function cumulateIncome(SCDPState storage self, address _assetAddr, Asset storage _asset, uint256 _amount)
    internal
    returns (uint256 nextLiquidityIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to accumulate</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>nextLiquidityIndex</code></td><td><code>uint256</code></td><td>The next liquidity index of the reserve</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-21"><a class="header" href="#contents-21">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/scdp/interfaces/ISCDPConfigFacet.sol/interface.ISCDPConfigFacet.html">ISCDPConfigFacet</a></li>
<li><a href="src/contracts/core/scdp/interfaces/ISCDPFacet.sol/interface.ISCDPFacet.html">ISCDPFacet</a></li>
<li><a href="src/contracts/core/scdp/interfaces/ISCDPStateFacet.sol/interface.ISCDPStateFacet.html">ISCDPStateFacet</a></li>
<li><a href="src/contracts/core/scdp/interfaces/ISCDPSwapFacet.sol/interface.ISCDPSwapFacet.html">ISCDPSwapFacet</a></li>
<li><a href="src/contracts/core/scdp/interfaces/ISDIFacet.sol/interface.ISDIFacet.html">ISDIFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iscdpconfigfacet"><a class="header" href="#iscdpconfigfacet">ISCDPConfigFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/interfaces/ISCDPConfigFacet.sol">Git Source</a></p>
<h2 id="functions-92"><a class="header" href="#functions-92">Functions</a></h2>
<h3 id="initializescdp-1"><a class="header" href="#initializescdp-1">initializeSCDP</a></h3>
<p>Initialize SCDP.
Callable by diamond owner only.</p>
<pre><code class="language-solidity">function initializeSCDP(SCDPInitArgs memory _init) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_init</code></td><td><code>SCDPInitArgs</code></td><td>The initial configuration.</td></tr>
</tbody></table>
</div>
<h3 id="getparametersscdp-1"><a class="header" href="#getparametersscdp-1">getParametersSCDP</a></h3>
<p>Get the pool configuration.</p>
<pre><code class="language-solidity">function getParametersSCDP() external view returns (SCDPParameters memory);
</code></pre>
<h3 id="setfeeassetscdp-1"><a class="header" href="#setfeeassetscdp-1">setFeeAssetSCDP</a></h3>
<p>Set the asset to cumulate swap fees into.
Only callable by admin.</p>
<pre><code class="language-solidity">function setFeeAssetSCDP(address _assetAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset that is validated to be a deposit asset.</td></tr>
</tbody></table>
</div>
<h3 id="setmincollateralratioscdp-1"><a class="header" href="#setmincollateralratioscdp-1">setMinCollateralRatioSCDP</a></h3>
<p>Set the minimum collateralization ratio for SCDP.</p>
<pre><code class="language-solidity">function setMinCollateralRatioSCDP(uint32 _newMCR) external;
</code></pre>
<h3 id="setliquidationthresholdscdp-1"><a class="header" href="#setliquidationthresholdscdp-1">setLiquidationThresholdSCDP</a></h3>
<p>Set the liquidation threshold for SCDP while updating MLR to one percent above it.</p>
<pre><code class="language-solidity">function setLiquidationThresholdSCDP(uint32 _newLT) external;
</code></pre>
<h3 id="setmaxliquidationratioscdp-1"><a class="header" href="#setmaxliquidationratioscdp-1">setMaxLiquidationRatioSCDP</a></h3>
<p>Set the max liquidation ratio for SCDP.</p>
<p>MLR is also updated automatically when setLiquidationThresholdSCDP is used.</p>
<pre><code class="language-solidity">function setMaxLiquidationRatioSCDP(uint32 _newMLR) external;
</code></pre>
<h3 id="setkrassetliqincentivescdp-1"><a class="header" href="#setkrassetliqincentivescdp-1">setKrAssetLiqIncentiveSCDP</a></h3>
<p>Set the new liquidation incentive for a swappable asset.</p>
<pre><code class="language-solidity">function setKrAssetLiqIncentiveSCDP(address _assetAddr, uint16 _newLiqIncentiveSCDP) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address</td></tr>
<tr><td><code>_newLiqIncentiveSCDP</code></td><td><code>uint16</code></td><td>New liquidation incentive. Bounded to 1e4 &lt;-&gt; 1.25e4.</td></tr>
</tbody></table>
</div>
<h3 id="setdepositlimitscdp-1"><a class="header" href="#setdepositlimitscdp-1">setDepositLimitSCDP</a></h3>
<p>Update the deposit asset limit configuration.
Only callable by admin.
emits PoolCollateralUpdated</p>
<pre><code class="language-solidity">function setDepositLimitSCDP(address _assetAddr, uint256 _newDepositLimitSCDP) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The Collateral asset to update</td></tr>
<tr><td><code>_newDepositLimitSCDP</code></td><td><code>uint256</code></td><td>The new deposit limit for the collateral</td></tr>
</tbody></table>
</div>
<h3 id="setassetissharedcollateralscdp-1"><a class="header" href="#setassetissharedcollateralscdp-1">setAssetIsSharedCollateralSCDP</a></h3>
<p>Disable or enable a deposit asset. Reverts if invalid asset.
Only callable by admin.</p>
<pre><code class="language-solidity">function setAssetIsSharedCollateralSCDP(address _assetAddr, bool _enabled) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to set.</td></tr>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>Whether to enable or disable the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setassetissharedorswappedcollateralscdp-1"><a class="header" href="#setassetissharedorswappedcollateralscdp-1">setAssetIsSharedOrSwappedCollateralSCDP</a></h3>
<p>Disable or enable asset from shared collateral value calculations.
Reverts if invalid asset and if disabling asset that has user deposits.
Only callable by admin.</p>
<pre><code class="language-solidity">function setAssetIsSharedOrSwappedCollateralSCDP(address _assetAddr, bool _enabled) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to set.</td></tr>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>Whether to enable or disable the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setassetisswapmintablescdp-1"><a class="header" href="#setassetisswapmintablescdp-1">setAssetIsSwapMintableSCDP</a></h3>
<p>Disable or enable a kresko asset to be used in swaps.
Reverts if invalid asset. Enabling will also add it to collateral value calculations.
Only callable by admin.</p>
<pre><code class="language-solidity">function setAssetIsSwapMintableSCDP(address _assetAddr, bool _enabled) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to set.</td></tr>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>Whether to enable or disable the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setassetswapfeesscdp-1"><a class="header" href="#setassetswapfeesscdp-1">setAssetSwapFeesSCDP</a></h3>
<p>Sets the fees for a kresko asset</p>
<p><em>Only callable by admin.</em></p>
<pre><code class="language-solidity">function setAssetSwapFeesSCDP(address _assetAddr, uint16 _openFee, uint16 _closeFee, uint16 _protocolFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The kresko asset to set fees for.</td></tr>
<tr><td><code>_openFee</code></td><td><code>uint16</code></td><td>The new open fee.</td></tr>
<tr><td><code>_closeFee</code></td><td><code>uint16</code></td><td>The new close fee.</td></tr>
<tr><td><code>_protocolFee</code></td><td><code>uint16</code></td><td>The protocol fee share.</td></tr>
</tbody></table>
</div>
<h3 id="setswaproutesscdp-1"><a class="header" href="#setswaproutesscdp-1">setSwapRoutesSCDP</a></h3>
<p>Set whether swap routes for pairs are enabled or not. Both ways.
Only callable by admin.</p>
<pre><code class="language-solidity">function setSwapRoutesSCDP(SwapRouteSetter[] calldata _setters) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_setters</code></td><td><code>SwapRouteSetter[]</code></td><td>The configurations to set.</td></tr>
</tbody></table>
</div>
<h3 id="setsingleswaproutescdp-1"><a class="header" href="#setsingleswaproutescdp-1">setSingleSwapRouteSCDP</a></h3>
<p>Set whether a swap route for a pair is enabled or not.
Only callable by admin.</p>
<pre><code class="language-solidity">function setSingleSwapRouteSCDP(SwapRouteSetter calldata _setter) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_setter</code></td><td><code>SwapRouteSetter</code></td><td>The configuration to set</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iscdpfacet"><a class="header" href="#iscdpfacet">ISCDPFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/interfaces/ISCDPFacet.sol">Git Source</a></p>
<h2 id="functions-93"><a class="header" href="#functions-93">Functions</a></h2>
<h3 id="depositscdp-1"><a class="header" href="#depositscdp-1">depositSCDP</a></h3>
<p>Deposit collateral for account to the collateral pool.</p>
<pre><code class="language-solidity">function depositSCDP(address _account, address _collateralAsset, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to deposit for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to deposit.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to deposit.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawscdp-1"><a class="header" href="#withdrawscdp-1">withdrawSCDP</a></h3>
<p>Withdraw collateral for account from the collateral pool.</p>
<pre><code class="language-solidity">function withdrawSCDP(address _account, address _collateralAsset, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to withdraw for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to withdraw.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to withdraw.</td></tr>
</tbody></table>
</div>
<h3 id="repayscdp-1"><a class="header" href="#repayscdp-1">repaySCDP</a></h3>
<p>Repay debt for no fees or slippage.</p>
<p>Only uses swap deposits, if none available, reverts.</p>
<pre><code class="language-solidity">function repaySCDP(address _repayAssetAddr, uint256 _repayAmount, address _seizeAssetAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>The asset to repay the debt in.</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>The amount of the asset to repay the debt with.</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>The collateral asset to seize.</td></tr>
</tbody></table>
</div>
<h3 id="liquidatescdp-1"><a class="header" href="#liquidatescdp-1">liquidateSCDP</a></h3>
<p>Liquidate the collateral pool.</p>
<p>Adjusts everyones deposits if swap deposits do not cover the seized amount.</p>
<pre><code class="language-solidity">function liquidateSCDP(address _repayAssetAddr, uint256 _repayAmount, address _seizeAssetAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>The asset to repay the debt in.</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>The amount of the asset to repay the debt with.</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>The collateral asset to seize.</td></tr>
</tbody></table>
</div>
<h3 id="getmaxliqvaluescdp-1"><a class="header" href="#getmaxliqvaluescdp-1">getMaxLiqValueSCDP</a></h3>
<p><em>Calculates the total value that is allowed to be liquidated from SCDP (if it is liquidatable)</em></p>
<pre><code class="language-solidity">function getMaxLiqValueSCDP(address _repayAssetAddr, address _seizeAssetAddr)
    external
    view
    returns (MaxLiqInfo memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>Address of Kresko Asset to repay</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>Address of Collateral to seize</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MaxLiqInfo</code></td><td>MaxLiqInfo Calculated information about the maximum liquidation.</td></tr>
</tbody></table>
</div>
<h3 id="getliquidatablescdp-1"><a class="header" href="#getliquidatablescdp-1">getLiquidatableSCDP</a></h3>
<pre><code class="language-solidity">function getLiquidatableSCDP() external view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iscdpstatefacet"><a class="header" href="#iscdpstatefacet">ISCDPStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/interfaces/ISCDPStateFacet.sol">Git Source</a></p>
<h2 id="functions-94"><a class="header" href="#functions-94">Functions</a></h2>
<h3 id="getaccountscaleddepositsscdp-1"><a class="header" href="#getaccountscaleddepositsscdp-1">getAccountScaledDepositsSCDP</a></h3>
<p>Get the collateral pool deposit balance of <code>_account</code>. Including fees.</p>
<pre><code class="language-solidity">function getAccountScaledDepositsSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountdepositscdp-1"><a class="header" href="#getaccountdepositscdp-1">getAccountDepositSCDP</a></h3>
<p>Get the total collateral principal deposits for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountDepositSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccountdepositfeesgainedscdp-1"><a class="header" href="#getaccountdepositfeesgainedscdp-1">getAccountDepositFeesGainedSCDP</a></h3>
<pre><code class="language-solidity">function getAccountDepositFeesGainedSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<h3 id="getaccountdepositvaluescdp-1"><a class="header" href="#getaccountdepositvaluescdp-1">getAccountDepositValueSCDP</a></h3>
<p>Get the (principal) deposit value for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountDepositValueSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccountscaleddepositvaluecdp-1"><a class="header" href="#getaccountscaleddepositvaluecdp-1">getAccountScaledDepositValueCDP</a></h3>
<p>Get the full value of account and fees for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountScaledDepositValueCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldepositsvaluescdp-1"><a class="header" href="#getaccounttotaldepositsvaluescdp-1">getAccountTotalDepositsValueSCDP</a></h3>
<p>Get the total collateral deposit value for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountTotalDepositsValueSCDP(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalscaleddepositsvaluescdp-1"><a class="header" href="#getaccounttotalscaleddepositsvaluescdp-1">getAccountTotalScaledDepositsValueSCDP</a></h3>
<p>Get the full value of account and fees for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountTotalScaledDepositsValueSCDP(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
</tbody></table>
</div>
<h3 id="getdepositassetsscdp-1"><a class="header" href="#getdepositassetsscdp-1">getDepositAssetsSCDP</a></h3>
<p>Get all pool CollateralAssets</p>
<pre><code class="language-solidity">function getDepositAssetsSCDP() external view returns (address[] memory);
</code></pre>
<h3 id="getdepositsscdp-1"><a class="header" href="#getdepositsscdp-1">getDepositsSCDP</a></h3>
<p>Get the total collateral deposits for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getDepositsSCDP(address _collateralAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getswapdepositsscdp-1"><a class="header" href="#getswapdepositsscdp-1">getSwapDepositsSCDP</a></h3>
<p>Get the total collateral swap deposits for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getSwapDepositsSCDP(address _collateralAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getcollateralvaluescdp-1"><a class="header" href="#getcollateralvaluescdp-1">getCollateralValueSCDP</a></h3>
<p>Get the total collateral deposit value for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getCollateralValueSCDP(address _depositAsset, bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral and debt value.</td></tr>
</tbody></table>
</div>
<h3 id="gettotalcollateralvaluescdp-1"><a class="header" href="#gettotalcollateralvaluescdp-1">getTotalCollateralValueSCDP</a></h3>
<p>Get the total collateral value, oracle precision</p>
<pre><code class="language-solidity">function getTotalCollateralValueSCDP(bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral value.</td></tr>
</tbody></table>
</div>
<h3 id="getkreskoassetsscdp-1"><a class="header" href="#getkreskoassetsscdp-1">getKreskoAssetsSCDP</a></h3>
<p>Get all pool KreskoAssets</p>
<pre><code class="language-solidity">function getKreskoAssetsSCDP() external view returns (address[] memory);
</code></pre>
<h3 id="getdebtscdp-1"><a class="header" href="#getdebtscdp-1">getDebtSCDP</a></h3>
<p>Get the collateral debt amount for <code>_krAsset</code></p>
<pre><code class="language-solidity">function getDebtSCDP(address _krAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The KreskoAsset</td></tr>
</tbody></table>
</div>
<h3 id="getdebtvaluescdp-1"><a class="header" href="#getdebtvaluescdp-1">getDebtValueSCDP</a></h3>
<p>Get the debt value for <code>_krAsset</code></p>
<pre><code class="language-solidity">function getDebtValueSCDP(address _krAsset, bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The KreskoAsset</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral and debt value.</td></tr>
</tbody></table>
</div>
<h3 id="gettotaldebtvaluescdp-1"><a class="header" href="#gettotaldebtvaluescdp-1">getTotalDebtValueSCDP</a></h3>
<p>Get the total debt value of krAssets in oracle precision</p>
<pre><code class="language-solidity">function getTotalDebtValueSCDP(bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating debt value.</td></tr>
</tbody></table>
</div>
<h3 id="getassetenabledscdp-1"><a class="header" href="#getassetenabledscdp-1">getAssetEnabledSCDP</a></h3>
<p>Get enabled state of asset</p>
<pre><code class="language-solidity">function getAssetEnabledSCDP(address _assetAddr) external view returns (bool);
</code></pre>
<h3 id="getswapenabledscdp-1"><a class="header" href="#getswapenabledscdp-1">getSwapEnabledSCDP</a></h3>
<p>Get whether swap is enabled from <code>_assetIn</code> to <code>_assetOut</code></p>
<pre><code class="language-solidity">function getSwapEnabledSCDP(address _assetIn, address _assetOut) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIn</code></td><td><code>address</code></td><td>The asset to swap from</td></tr>
<tr><td><code>_assetOut</code></td><td><code>address</code></td><td>The asset to swap to</td></tr>
</tbody></table>
</div>
<h3 id="getcollateralratioscdp-1"><a class="header" href="#getcollateralratioscdp-1">getCollateralRatioSCDP</a></h3>
<pre><code class="language-solidity">function getCollateralRatioSCDP() external view returns (uint256);
</code></pre>
<h3 id="getstatisticsscdp-1"><a class="header" href="#getstatisticsscdp-1">getStatisticsSCDP</a></h3>
<p>Get pool collateral values and debt values with CR.</p>
<pre><code class="language-solidity">function getStatisticsSCDP() external view returns (GlobalData memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>GlobalData</code></td><td>GlobalData struct</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iscdpswapfacet"><a class="header" href="#iscdpswapfacet">ISCDPSwapFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/interfaces/ISCDPSwapFacet.sol">Git Source</a></p>
<h2 id="functions-95"><a class="header" href="#functions-95">Functions</a></h2>
<h3 id="previewswapscdp-1"><a class="header" href="#previewswapscdp-1">previewSwapSCDP</a></h3>
<p>Preview the amount out received.</p>
<pre><code class="language-solidity">function previewSwapSCDP(address _assetIn, address _assetOut, uint256 _amountIn)
    external
    view
    returns (uint256 amountOut, uint256 feeAmount, uint256 protocolFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIn</code></td><td><code>address</code></td><td>The asset to pay with.</td></tr>
<tr><td><code>_assetOut</code></td><td><code>address</code></td><td>The asset to receive.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of _assetIn to pay.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>The amount of <code>_assetOut</code> to receive according to <code>_amountIn</code>.</td></tr>
<tr><td><code>feeAmount</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>protocolFee</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="swapscdp-1"><a class="header" href="#swapscdp-1">swapSCDP</a></h3>
<p>Swap kresko assets with KISS using the shared collateral pool.
Uses oracle pricing of _amountIn to determine how much _assetOut to send.</p>
<pre><code class="language-solidity">function swapSCDP(address _account, address _assetIn, address _assetOut, uint256 _amountIn, uint256 _amountOutMin)
    external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The receiver of amount out.</td></tr>
<tr><td><code>_assetIn</code></td><td><code>address</code></td><td>The asset to pay with.</td></tr>
<tr><td><code>_assetOut</code></td><td><code>address</code></td><td>The asset to receive.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of _assetIn to pay.</td></tr>
<tr><td><code>_amountOutMin</code></td><td><code>uint256</code></td><td>The minimum amount of _assetOut to receive, this is due to possible oracle price change.</td></tr>
</tbody></table>
</div>
<h3 id="cumulateincomescdp-1"><a class="header" href="#cumulateincomescdp-1">cumulateIncomeSCDP</a></h3>
<p>Accumulates fees to deposits as a fixed, instantaneous income.</p>
<pre><code class="language-solidity">function cumulateIncomeSCDP(address _depositAssetAddr, uint256 _incomeAmount)
    external
    returns (uint256 nextLiquidityIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_depositAssetAddr</code></td><td><code>address</code></td><td>Deposit asset to give income for</td></tr>
<tr><td><code>_incomeAmount</code></td><td><code>uint256</code></td><td>Amount to accumulate</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>nextLiquidityIndex</code></td><td><code>uint256</code></td><td>Next liquidity index for the asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="isdifacet"><a class="header" href="#isdifacet">ISDIFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/interfaces/ISDIFacet.sol">Git Source</a></p>
<h2 id="functions-96"><a class="header" href="#functions-96">Functions</a></h2>
<h3 id="gettotalsdidebt-1"><a class="header" href="#gettotalsdidebt-1">getTotalSDIDebt</a></h3>
<pre><code class="language-solidity">function getTotalSDIDebt() external view returns (uint256);
</code></pre>
<h3 id="geteffectivesdidebtusd-1"><a class="header" href="#geteffectivesdidebtusd-1">getEffectiveSDIDebtUSD</a></h3>
<pre><code class="language-solidity">function getEffectiveSDIDebtUSD() external view returns (uint256);
</code></pre>
<h3 id="geteffectivesdidebt-1"><a class="header" href="#geteffectivesdidebt-1">getEffectiveSDIDebt</a></h3>
<pre><code class="language-solidity">function getEffectiveSDIDebt() external view returns (uint256);
</code></pre>
<h3 id="getsdicoveramount-1"><a class="header" href="#getsdicoveramount-1">getSDICoverAmount</a></h3>
<pre><code class="language-solidity">function getSDICoverAmount() external view returns (uint256);
</code></pre>
<h3 id="previewscdpburn-1"><a class="header" href="#previewscdpburn-1">previewSCDPBurn</a></h3>
<pre><code class="language-solidity">function previewSCDPBurn(address _assetAddr, uint256 _burnAmount, bool _ignoreFactors)
    external
    view
    returns (uint256 shares);
</code></pre>
<h3 id="previewscdpmint-1"><a class="header" href="#previewscdpmint-1">previewSCDPMint</a></h3>
<pre><code class="language-solidity">function previewSCDPMint(address _assetAddr, uint256 _mintAmount, bool _ignoreFactors)
    external
    view
    returns (uint256 shares);
</code></pre>
<h3 id="totalsdi-2"><a class="header" href="#totalsdi-2">totalSDI</a></h3>
<p>Simply returns the total supply of SDI.</p>
<pre><code class="language-solidity">function totalSDI() external view returns (uint256);
</code></pre>
<h3 id="getsdiprice-1"><a class="header" href="#getsdiprice-1">getSDIPrice</a></h3>
<p>Get the price of SDI in USD, oracle precision.</p>
<pre><code class="language-solidity">function getSDIPrice() external view returns (uint256);
</code></pre>
<h3 id="sdicover-1"><a class="header" href="#sdicover-1">SDICover</a></h3>
<pre><code class="language-solidity">function SDICover(address _assetAddr, uint256 _amount) external returns (uint256 shares, uint256 value);
</code></pre>
<h3 id="enablecoverassetsdi-1"><a class="header" href="#enablecoverassetsdi-1">enableCoverAssetSDI</a></h3>
<pre><code class="language-solidity">function enableCoverAssetSDI(address _assetAddr) external;
</code></pre>
<h3 id="disablecoverassetsdi-1"><a class="header" href="#disablecoverassetsdi-1">disableCoverAssetSDI</a></h3>
<pre><code class="language-solidity">function disableCoverAssetSDI(address _assetAddr) external;
</code></pre>
<h3 id="setcoverrecipientsdi-1"><a class="header" href="#setcoverrecipientsdi-1">setCoverRecipientSDI</a></h3>
<pre><code class="language-solidity">function setCoverRecipientSDI(address _coverRecipient) external;
</code></pre>
<h3 id="getcoverassetssdi-1"><a class="header" href="#getcoverassetssdi-1">getCoverAssetsSDI</a></h3>
<pre><code class="language-solidity">function getCoverAssetsSDI() external view returns (address[] memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sdicoverrecipient"><a class="header" href="#sdicoverrecipient">SDICoverRecipient</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/SDICoverRecipient.sol">Git Source</a></p>
<h2 id="state-variables-18"><a class="header" href="#state-variables-18">State Variables</a></h2>
<h3 id="owner-2"><a class="header" href="#owner-2">owner</a></h3>
<pre><code class="language-solidity">address public owner;
</code></pre>
<h3 id="pendingowner-2"><a class="header" href="#pendingowner-2">pendingOwner</a></h3>
<pre><code class="language-solidity">address public pendingOwner;
</code></pre>
<h2 id="functions-97"><a class="header" href="#functions-97">Functions</a></h2>
<h3 id="constructor-6"><a class="header" href="#constructor-6">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _owner);
</code></pre>
<h3 id="withdraw-5"><a class="header" href="#withdraw-5">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(address token, address recipient, uint256 amount) external;
</code></pre>
<h3 id="changeowner"><a class="header" href="#changeowner">changeOwner</a></h3>
<pre><code class="language-solidity">function changeOwner(address _owner) external;
</code></pre>
<h3 id="acceptownership-2"><a class="header" href="#acceptownership-2">acceptOwnership</a></h3>
<pre><code class="language-solidity">function acceptOwnership(address _owner) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sevent"><a class="header" href="#sevent">SEvent</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/SEvent.sol">Git Source</a></p>
<h2 id="events-5"><a class="header" href="#events-5">Events</a></h2>
<h3 id="scdpdeposit"><a class="header" href="#scdpdeposit">SCDPDeposit</a></h3>
<pre><code class="language-solidity">event SCDPDeposit(address indexed depositor, address indexed collateralAsset, uint256 amount);
</code></pre>
<h3 id="scdpwithdraw"><a class="header" href="#scdpwithdraw">SCDPWithdraw</a></h3>
<pre><code class="language-solidity">event SCDPWithdraw(address indexed withdrawer, address indexed collateralAsset, uint256 amount, uint256 feeAmount);
</code></pre>
<h3 id="scdprepay"><a class="header" href="#scdprepay">SCDPRepay</a></h3>
<pre><code class="language-solidity">event SCDPRepay(
    address indexed repayer,
    address indexed repayKreskoAsset,
    uint256 repayAmount,
    address indexed receiveKreskoAsset,
    uint256 receiveAmount
);
</code></pre>
<h3 id="scdpliquidationoccured"><a class="header" href="#scdpliquidationoccured">SCDPLiquidationOccured</a></h3>
<pre><code class="language-solidity">event SCDPLiquidationOccured(
    address indexed liquidator,
    address indexed repayKreskoAsset,
    uint256 repayAmount,
    address indexed seizeCollateral,
    uint256 seizeAmount
);
</code></pre>
<h3 id="pairset"><a class="header" href="#pairset">PairSet</a></h3>
<pre><code class="language-solidity">event PairSet(address indexed assetIn, address indexed assetOut, bool enabled);
</code></pre>
<h3 id="feeset"><a class="header" href="#feeset">FeeSet</a></h3>
<pre><code class="language-solidity">event FeeSet(address indexed _asset, uint256 openFee, uint256 closeFee, uint256 protocolFee);
</code></pre>
<h3 id="scdpcollateralupdated"><a class="header" href="#scdpcollateralupdated">SCDPCollateralUpdated</a></h3>
<pre><code class="language-solidity">event SCDPCollateralUpdated(address indexed _asset, uint256 liquidationThreshold);
</code></pre>
<h3 id="scdpkrassetupdated"><a class="header" href="#scdpkrassetupdated">SCDPKrAssetUpdated</a></h3>
<pre><code class="language-solidity">event SCDPKrAssetUpdated(
    address indexed _asset, uint256 openFee, uint256 closeFee, uint256 protocolFee, uint256 maxDebtMinter
);
</code></pre>
<h3 id="swap-1"><a class="header" href="#swap-1">Swap</a></h3>
<pre><code class="language-solidity">event Swap(address indexed who, address indexed assetIn, address indexed assetOut, uint256 amountIn, uint256 amountOut);
</code></pre>
<h3 id="swapfee-1"><a class="header" href="#swapfee-1">SwapFee</a></h3>
<pre><code class="language-solidity">event SwapFee(address indexed feeAsset, address indexed assetIn, uint256 feeAmount, uint256 protocolFeeAmount);
</code></pre>
<h3 id="income"><a class="header" href="#income">Income</a></h3>
<pre><code class="language-solidity">event Income(address asset, uint256 amount);
</code></pre>
<h3 id="scdpliquidationincentiveupdated"><a class="header" href="#scdpliquidationincentiveupdated">SCDPLiquidationIncentiveUpdated</a></h3>
<p>Emitted when the liquidation incentive multiplier is updated for a swappable krAsset.</p>
<pre><code class="language-solidity">event SCDPLiquidationIncentiveUpdated(string indexed symbol, address indexed asset, uint256 from, uint256 to);
</code></pre>
<h3 id="scdpmincollateralratioupdated"><a class="header" href="#scdpmincollateralratioupdated">SCDPMinCollateralRatioUpdated</a></h3>
<p>Emitted when the minimum collateralization ratio is updated for the SCDP.</p>
<pre><code class="language-solidity">event SCDPMinCollateralRatioUpdated(uint256 from, uint256 to);
</code></pre>
<h3 id="scdpliquidationthresholdupdated"><a class="header" href="#scdpliquidationthresholdupdated">SCDPLiquidationThresholdUpdated</a></h3>
<p>Emitted when the liquidation threshold value is updated</p>
<pre><code class="language-solidity">event SCDPLiquidationThresholdUpdated(uint256 from, uint256 to, uint256 mlr);
</code></pre>
<h3 id="scdpmaxliquidationratioupdated"><a class="header" href="#scdpmaxliquidationratioupdated">SCDPMaxLiquidationRatioUpdated</a></h3>
<p>Emitted when the max liquidation ratio is updated</p>
<pre><code class="language-solidity">event SCDPMaxLiquidationRatioUpdated(uint256 from, uint256 to);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpstate"><a class="header" href="#scdpstate">SCDPState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/SState.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<pre><code class="language-solidity">struct SCDPState {
    address[] collaterals;
    address[] krAssets;
    mapping(address =&gt; mapping(address =&gt; bool)) isRoute;
    mapping(address =&gt; bool) isEnabled;
    mapping(address =&gt; SCDPAssetData) assetData;
    mapping(address =&gt; mapping(address =&gt; uint256)) deposits;
    mapping(address =&gt; mapping(address =&gt; uint256)) depositsPrincipal;
    address feeAsset;
    uint32 minCollateralRatio;
    uint32 liquidationThreshold;
    uint32 maxLiquidationRatio;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sdistate"><a class="header" href="#sdistate">SDIState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/SState.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SDIState {
    uint256 totalDebt;
    uint256 totalCover;
    address coverRecipient;
    address[] coverAssets;
    uint8 sdiPricePrecision;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sdi"><a class="header" href="#sdi">sdi</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/SState.sol">Git Source</a></p>
<pre><code class="language-solidity">function sdi() pure returns (SDIState storage state);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdp"><a class="header" href="#scdp">scdp</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/SState.sol">Git Source</a></p>
<pre><code class="language-solidity">function scdp() pure returns (SCDPState storage state);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-4"><a class="header" href="#constants-4">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/SState.sol">Git Source</a></p>
<h3 id="scdp_storage_position"><a class="header" href="#scdp_storage_position">SCDP_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant SCDP_STORAGE_POSITION = keccak256(&quot;kresko.scdp.storage&quot;);
</code></pre>
<h3 id="sdi_storage_position"><a class="header" href="#sdi_storage_position">SDI_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant SDI_STORAGE_POSITION = keccak256(&quot;kresko.scdp.sdi.storage&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpinitargs"><a class="header" href="#scdpinitargs">SCDPInitArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/STypes.sol">Git Source</a></p>
<p>SCDP initializer configuration.</p>
<pre><code class="language-solidity">struct SCDPInitArgs {
    uint32 minCollateralRatio;
    uint32 liquidationThreshold;
    uint8 sdiPricePrecision;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpparameters"><a class="header" href="#scdpparameters">SCDPParameters</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/STypes.sol">Git Source</a></p>
<p>SCDP initializer configuration.</p>
<pre><code class="language-solidity">struct SCDPParameters {
    address feeAsset;
    uint32 minCollateralRatio;
    uint32 liquidationThreshold;
    uint32 maxLiquidationRatio;
    uint8 sdiPricePrecision;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="swaproutesetter"><a class="header" href="#swaproutesetter">SwapRouteSetter</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/STypes.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SwapRouteSetter {
    address assetIn;
    address assetOut;
    bool enabled;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpassetdata"><a class="header" href="#scdpassetdata">SCDPAssetData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/STypes.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SCDPAssetData {
    uint256 debt;
    uint128 totalDeposits;
    uint128 swapDeposits;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="globaldata"><a class="header" href="#globaldata">GlobalData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/STypes.sol">Git Source</a></p>
<pre><code class="language-solidity">struct GlobalData {
    uint256 collateralValue;
    uint256 collateralValueAdjusted;
    uint256 debtValue;
    uint256 debtValueAdjusted;
    uint256 effectiveDebtValue;
    uint256 cr;
    uint256 crDebtValue;
    uint256 crDebtValueAdjusted;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="assetdata"><a class="header" href="#assetdata">AssetData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/STypes.sol">Git Source</a></p>
<p>Periphery asset data</p>
<pre><code class="language-solidity">struct AssetData {
    address addr;
    uint256 depositAmount;
    uint256 depositValue;
    uint256 depositValueAdjusted;
    uint256 debtAmount;
    uint256 debtValue;
    uint256 debtValueAdjusted;
    uint256 swapDeposits;
    Asset asset;
    uint256 assetPrice;
    string symbol;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="userassetdata"><a class="header" href="#userassetdata">UserAssetData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/STypes.sol">Git Source</a></p>
<pre><code class="language-solidity">struct UserAssetData {
    address asset;
    uint256 assetPrice;
    uint256 depositAmount;
    uint256 scaledDepositAmount;
    uint256 depositValue;
    uint256 scaledDepositValue;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="userdata"><a class="header" href="#userdata">UserData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/scdp/STypes.sol">Git Source</a></p>
<pre><code class="language-solidity">struct UserData {
    address account;
    uint256 totalDepositValue;
    uint256 totalScaledDepositValue;
    uint256 totalFeesValue;
    UserAssetData[] deposits;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-22"><a class="header" href="#contents-22">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/test//src/contracts/core/test/mocks">mocks</a></li>
<li><a href="src/contracts/core/test//src/contracts/core/test/redstone">redstone</a></li>
<li><a href="src/contracts/core/test//src/contracts/core/test/smocks">smocks</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-23"><a class="header" href="#contents-23">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/test/mocks/MockERC1155.sol/contract.MockERC1155.html">MockERC1155</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20Restricted.html">MockERC20Restricted</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.WETH.html">WETH</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.USDC.html">USDC</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.DAI.html">DAI</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.USDT.html">USDT</a></li>
<li><a href="src/contracts/core/test/mocks/MockOracle.sol/contract.MockOracle.html">MockOracle</a></li>
<li><a href="src/contracts/core/test/mocks/MockSequencerUptimeFeed.sol/contract.MockSequencerUptimeFeed.html">MockSequencerUptimeFeed</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mockerc1155"><a class="header" href="#mockerc1155">MockERC1155</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/mocks/MockERC1155.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC1155</p>
<h2 id="functions-98"><a class="header" href="#functions-98">Functions</a></h2>
<h3 id="constructor-7"><a class="header" href="#constructor-7">constructor</a></h3>
<pre><code class="language-solidity">constructor() ERC1155(&quot;https://test&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mockerc20restricted"><a class="header" href="#mockerc20restricted">MockERC20Restricted</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC20</p>
<h2 id="state-variables-19"><a class="header" href="#state-variables-19">State Variables</a></h2>
<h3 id="minters"><a class="header" href="#minters">minters</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public minters;
</code></pre>
<h3 id="owner-3"><a class="header" href="#owner-3">owner</a></h3>
<pre><code class="language-solidity">address public owner;
</code></pre>
<h2 id="functions-99"><a class="header" href="#functions-99">Functions</a></h2>
<h3 id="constructor-8"><a class="header" href="#constructor-8">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory _name, string memory _symbol, uint8 _decimals, uint256 _initialSupply)
    ERC20(_name, _symbol, _decimals);
</code></pre>
<h3 id="reinitializeerc20-4"><a class="header" href="#reinitializeerc20-4">reinitializeERC20</a></h3>
<pre><code class="language-solidity">function reinitializeERC20(string memory _name, string memory _symbol) external;
</code></pre>
<h3 id="toggleminters"><a class="header" href="#toggleminters">toggleMinters</a></h3>
<pre><code class="language-solidity">function toggleMinters(address[] calldata _minters) external;
</code></pre>
<h3 id="mint-5"><a class="header" href="#mint-5">mint</a></h3>
<pre><code class="language-solidity">function mint(address to, uint256 value) public virtual;
</code></pre>
<h3 id="burn-3"><a class="header" href="#burn-3">burn</a></h3>
<pre><code class="language-solidity">function burn(address from, uint256 value) public virtual;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mockerc20"><a class="header" href="#mockerc20">MockERC20</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC20</p>
<h2 id="functions-100"><a class="header" href="#functions-100">Functions</a></h2>
<h3 id="constructor-9"><a class="header" href="#constructor-9">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory name_, string memory symbol_, uint8 decimals_, uint256 mintAmount)
    ERC20(name_, symbol_, decimals_);
</code></pre>
<h3 id="mint-6"><a class="header" href="#mint-6">mint</a></h3>
<pre><code class="language-solidity">function mint(address to, uint256 amount) external;
</code></pre>
<h3 id="burn-4"><a class="header" href="#burn-4">burn</a></h3>
<pre><code class="language-solidity">function burn(address from, uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="weth"><a class="header" href="#weth">WETH</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockERC20.sol//docs/book/src/src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></p>
<h2 id="functions-101"><a class="header" href="#functions-101">Functions</a></h2>
<h3 id="constructor-10"><a class="header" href="#constructor-10">constructor</a></h3>
<pre><code class="language-solidity">constructor() MockERC20(&quot;WETH&quot;, &quot;WETH&quot;, 18, 0);
</code></pre>
<h3 id="deposit-5"><a class="header" href="#deposit-5">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="withdraw-6"><a class="header" href="#withdraw-6">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="usdc"><a class="header" href="#usdc">USDC</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockERC20.sol//docs/book/src/src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></p>
<h2 id="functions-102"><a class="header" href="#functions-102">Functions</a></h2>
<h3 id="constructor-11"><a class="header" href="#constructor-11">constructor</a></h3>
<pre><code class="language-solidity">constructor() MockERC20(&quot;USDC&quot;, &quot;USDC&quot;, 18, 0);
</code></pre>
<h3 id="deposit-6"><a class="header" href="#deposit-6">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="withdraw-7"><a class="header" href="#withdraw-7">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dai"><a class="header" href="#dai">DAI</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockERC20.sol//docs/book/src/src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></p>
<h2 id="functions-103"><a class="header" href="#functions-103">Functions</a></h2>
<h3 id="constructor-12"><a class="header" href="#constructor-12">constructor</a></h3>
<pre><code class="language-solidity">constructor() MockERC20(&quot;DAI&quot;, &quot;DAI&quot;, 18, 0);
</code></pre>
<h3 id="deposit-7"><a class="header" href="#deposit-7">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="withdraw-8"><a class="header" href="#withdraw-8">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="usdt"><a class="header" href="#usdt">USDT</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockERC20.sol//docs/book/src/src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></p>
<h2 id="functions-104"><a class="header" href="#functions-104">Functions</a></h2>
<h3 id="constructor-13"><a class="header" href="#constructor-13">constructor</a></h3>
<pre><code class="language-solidity">constructor() MockERC20(&quot;USDT&quot;, &quot;USDT&quot;, 6, 0);
</code></pre>
<h3 id="deposit-8"><a class="header" href="#deposit-8">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="withdraw-9"><a class="header" href="#withdraw-9">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mockoracle"><a class="header" href="#mockoracle">MockOracle</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/mocks/MockOracle.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IAggregatorV3</p>
<h2 id="state-variables-20"><a class="header" href="#state-variables-20">State Variables</a></h2>
<h3 id="decimals"><a class="header" href="#decimals">decimals</a></h3>
<pre><code class="language-solidity">uint8 public decimals = 8;
</code></pre>
<h3 id="description"><a class="header" href="#description">description</a></h3>
<pre><code class="language-solidity">string public override description;
</code></pre>
<h3 id="version"><a class="header" href="#version">version</a></h3>
<pre><code class="language-solidity">uint256 public override version = 1;
</code></pre>
<h3 id="initialanswer"><a class="header" href="#initialanswer">initialAnswer</a></h3>
<pre><code class="language-solidity">int256 public initialAnswer;
</code></pre>
<h2 id="functions-105"><a class="header" href="#functions-105">Functions</a></h2>
<h3 id="constructor-14"><a class="header" href="#constructor-14">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory _description, uint256 _initialAnswer, uint8 _decimals);
</code></pre>
<h3 id="setprice"><a class="header" href="#setprice">setPrice</a></h3>
<pre><code class="language-solidity">function setPrice(uint256 _answer) external;
</code></pre>
<h3 id="price-2"><a class="header" href="#price-2">price</a></h3>
<pre><code class="language-solidity">function price() external view returns (uint256);
</code></pre>
<h3 id="getrounddata"><a class="header" href="#getrounddata">getRoundData</a></h3>
<pre><code class="language-solidity">function getRoundData(uint80)
    external
    view
    override
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<h3 id="latestrounddata"><a class="header" href="#latestrounddata">latestRoundData</a></h3>
<pre><code class="language-solidity">function latestRoundData()
    external
    view
    override
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mocksequenceruptimefeed"><a class="header" href="#mocksequenceruptimefeed">MockSequencerUptimeFeed</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/mocks/MockSequencerUptimeFeed.sol">Git Source</a></p>
<h2 id="state-variables-21"><a class="header" href="#state-variables-21">State Variables</a></h2>
<h3 id="__startedat"><a class="header" href="#__startedat">__startedAt</a></h3>
<pre><code class="language-solidity">uint256 internal __startedAt;
</code></pre>
<h3 id="__updatedat"><a class="header" href="#__updatedat">__updatedAt</a></h3>
<pre><code class="language-solidity">uint256 internal __updatedAt;
</code></pre>
<h3 id="__answer"><a class="header" href="#__answer">__answer</a></h3>
<pre><code class="language-solidity">int256 internal __answer;
</code></pre>
<h2 id="functions-106"><a class="header" href="#functions-106">Functions</a></h2>
<h3 id="constructor-15"><a class="header" href="#constructor-15">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="setanswers"><a class="header" href="#setanswers">setAnswers</a></h3>
<pre><code class="language-solidity">function setAnswers(int256 _answer, uint256 _startedAt, uint256 _updatedAt) external;
</code></pre>
<h3 id="setanswer"><a class="header" href="#setanswer">setAnswer</a></h3>
<p>0 = up, 1 = down</p>
<pre><code class="language-solidity">function setAnswer(int256 _answer) external;
</code></pre>
<h3 id="latestrounddata-1"><a class="header" href="#latestrounddata-1">latestRoundData</a></h3>
<pre><code class="language-solidity">function latestRoundData()
    public
    view
    virtual
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-24"><a class="header" href="#contents-24">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/test/redstone/CalldataExtractor.sol/contract.CalldataExtractor.html">CalldataExtractor</a></li>
<li><a href="src/contracts/core/test/redstone/ProxyConnector.sol/contract.ProxyConnector.html">ProxyConnector</a></li>
<li><a href="src/contracts/core/test/redstone/RedstoneConstants.sol/contract.RedstoneConstants.html">RedstoneConstants</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="calldataextractor"><a class="header" href="#calldataextractor">CalldataExtractor</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/redstone/CalldataExtractor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/redstone/CalldataExtractor.sol//docs/book/src/src/contracts/core/test/redstone/RedstoneConstants.sol/contract.RedstoneConstants.html">RedstoneConstants</a></p>
<p><strong>Author:</strong>
The Redstone Oracles team</p>
<p><em>This contract was created to reuse the same logic in the RedstoneConsumerBase
and the ProxyConnector contracts</em></p>
<h2 id="functions-107"><a class="header" href="#functions-107">Functions</a></h2>
<h3 id="_extractbytesizeofunsignedmetadata-1"><a class="header" href="#_extractbytesizeofunsignedmetadata-1">_extractByteSizeOfUnsignedMetadata</a></h3>
<pre><code class="language-solidity">function _extractByteSizeOfUnsignedMetadata() internal pure returns (uint256);
</code></pre>
<h3 id="_extractdatapackagescountfromcalldata-1"><a class="header" href="#_extractdatapackagescountfromcalldata-1">_extractDataPackagesCountFromCalldata</a></h3>
<pre><code class="language-solidity">function _extractDataPackagesCountFromCalldata(uint256 calldataNegativeOffset)
    internal
    pure
    returns (uint16 dataPackagesCount);
</code></pre>
<h3 id="_extractdatapointvalueanddatafeedid-1"><a class="header" href="#_extractdatapointvalueanddatafeedid-1">_extractDataPointValueAndDataFeedId</a></h3>
<pre><code class="language-solidity">function _extractDataPointValueAndDataFeedId(
    uint256 calldataNegativeOffsetForDataPackage,
    uint256 defaultDataPointValueByteSize,
    uint256 dataPointIndex
) internal pure virtual returns (bytes32 dataPointDataFeedId, uint256 dataPointValue);
</code></pre>
<h3 id="_extractdatapointsdetailsfordatapackage-1"><a class="header" href="#_extractdatapointsdetailsfordatapackage-1">_extractDataPointsDetailsForDataPackage</a></h3>
<pre><code class="language-solidity">function _extractDataPointsDetailsForDataPackage(uint256 calldataNegativeOffsetForDataPackage)
    internal
    pure
    returns (uint256 dataPointsCount, uint256 eachDataPointValueByteSize);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proxyconnector"><a class="header" href="#proxyconnector">ProxyConnector</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/redstone/ProxyConnector.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/redstone/ProxyConnector.sol//docs/book/src/src/contracts/core/test/redstone/RedstoneConstants.sol/contract.RedstoneConstants.html">RedstoneConstants</a>, <a href="src/contracts/core/test/redstone/ProxyConnector.sol//docs/book/src/src/contracts/core/test/redstone/CalldataExtractor.sol/contract.CalldataExtractor.html">CalldataExtractor</a></p>
<p><strong>Author:</strong>
The Redstone Oracles team</p>
<h2 id="functions-108"><a class="header" href="#functions-108">Functions</a></h2>
<h3 id="proxycalldata-1"><a class="header" href="#proxycalldata-1">proxyCalldata</a></h3>
<pre><code class="language-solidity">function proxyCalldata(address contractAddress, bytes memory encodedFunction, bool forwardValue)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="proxydelegatecalldata-1"><a class="header" href="#proxydelegatecalldata-1">proxyDelegateCalldata</a></h3>
<pre><code class="language-solidity">function proxyDelegateCalldata(address contractAddress, bytes memory encodedFunction) internal returns (bytes memory);
</code></pre>
<h3 id="proxycalldataview-1"><a class="header" href="#proxycalldataview-1">proxyCalldataView</a></h3>
<pre><code class="language-solidity">function proxyCalldataView(address contractAddress, bytes memory encodedFunction)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="_preparemessage-1"><a class="header" href="#_preparemessage-1">_prepareMessage</a></h3>
<pre><code class="language-solidity">function _prepareMessage(bytes memory encodedFunction) private pure returns (bytes memory);
</code></pre>
<h3 id="_getredstonepayloadbytesize-1"><a class="header" href="#_getredstonepayloadbytesize-1">_getRedstonePayloadByteSize</a></h3>
<pre><code class="language-solidity">function _getRedstonePayloadByteSize() private pure returns (uint256);
</code></pre>
<h3 id="_getdatapackagebytesize-1"><a class="header" href="#_getdatapackagebytesize-1">_getDataPackageByteSize</a></h3>
<pre><code class="language-solidity">function _getDataPackageByteSize(uint256 calldataNegativeOffset) private pure returns (uint256);
</code></pre>
<h3 id="_preparereturnvalue-1"><a class="header" href="#_preparereturnvalue-1">_prepareReturnValue</a></h3>
<pre><code class="language-solidity">function _prepareReturnValue(bool success, bytes memory result) internal pure returns (bytes memory);
</code></pre>
<h2 id="errors-9"><a class="header" href="#errors-9">Errors</a></h2>
<h3 id="proxycalldatafailedwithouterrmsg-1"><a class="header" href="#proxycalldatafailedwithouterrmsg-1">ProxyCalldataFailedWithoutErrMsg</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithoutErrMsg();
</code></pre>
<h3 id="proxycalldatafailedwithstringmessage-1"><a class="header" href="#proxycalldatafailedwithstringmessage-1">ProxyCalldataFailedWithStringMessage</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithStringMessage(string message);
</code></pre>
<h3 id="proxycalldatafailedwithcustomerror-1"><a class="header" href="#proxycalldatafailedwithcustomerror-1">ProxyCalldataFailedWithCustomError</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithCustomError(bytes result);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redstoneconstants"><a class="header" href="#redstoneconstants">RedstoneConstants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/redstone/RedstoneConstants.sol">Git Source</a></p>
<p><strong>Author:</strong>
The Redstone Oracles team</p>
<p><em>It mainly contains redstone-related values, which improve readability
of other contracts (e.g. CalldataExtractor and RedstoneConsumerBase)</em></p>
<h2 id="state-variables-22"><a class="header" href="#state-variables-22">State Variables</a></h2>
<h3 id="standard_slot_bs-1"><a class="header" href="#standard_slot_bs-1">STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant STANDARD_SLOT_BS = 32;
</code></pre>
<h3 id="free_memory_ptr-1"><a class="header" href="#free_memory_ptr-1">FREE_MEMORY_PTR</a></h3>
<pre><code class="language-solidity">uint256 internal constant FREE_MEMORY_PTR = 0x40;
</code></pre>
<h3 id="bytes_arr_len_var_bs-2"><a class="header" href="#bytes_arr_len_var_bs-2">BYTES_ARR_LEN_VAR_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant BYTES_ARR_LEN_VAR_BS = 32;
</code></pre>
<h3 id="function_signature_bs-1"><a class="header" href="#function_signature_bs-1">FUNCTION_SIGNATURE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant FUNCTION_SIGNATURE_BS = 4;
</code></pre>
<h3 id="revert_msg_offset-1"><a class="header" href="#revert_msg_offset-1">REVERT_MSG_OFFSET</a></h3>
<pre><code class="language-solidity">uint256 internal constant REVERT_MSG_OFFSET = 68;
</code></pre>
<h3 id="string_err_message_mask-1"><a class="header" href="#string_err_message_mask-1">STRING_ERR_MESSAGE_MASK</a></h3>
<pre><code class="language-solidity">uint256 internal constant STRING_ERR_MESSAGE_MASK = 0x08c379a000000000000000000000000000000000000000000000000000000000;
</code></pre>
<h3 id="sig_bs-1"><a class="header" href="#sig_bs-1">SIG_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant SIG_BS = 65;
</code></pre>
<h3 id="timestamp_bs-1"><a class="header" href="#timestamp_bs-1">TIMESTAMP_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant TIMESTAMP_BS = 6;
</code></pre>
<h3 id="data_packages_count_bs-1"><a class="header" href="#data_packages_count_bs-1">DATA_PACKAGES_COUNT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_PACKAGES_COUNT_BS = 2;
</code></pre>
<h3 id="data_points_count_bs-1"><a class="header" href="#data_points_count_bs-1">DATA_POINTS_COUNT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_POINTS_COUNT_BS = 3;
</code></pre>
<h3 id="data_point_value_byte_size_bs-1"><a class="header" href="#data_point_value_byte_size_bs-1">DATA_POINT_VALUE_BYTE_SIZE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_POINT_VALUE_BYTE_SIZE_BS = 4;
</code></pre>
<h3 id="data_point_symbol_bs-1"><a class="header" href="#data_point_symbol_bs-1">DATA_POINT_SYMBOL_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_POINT_SYMBOL_BS = 32;
</code></pre>
<h3 id="default_data_point_value_bs-1"><a class="header" href="#default_data_point_value_bs-1">DEFAULT_DATA_POINT_VALUE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DEFAULT_DATA_POINT_VALUE_BS = 32;
</code></pre>
<h3 id="unsigned_metadata_byte_size_bs-1"><a class="header" href="#unsigned_metadata_byte_size_bs-1">UNSIGNED_METADATA_BYTE_SIZE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant UNSIGNED_METADATA_BYTE_SIZE_BS = 3;
</code></pre>
<h3 id="redstone_marker_bs-1"><a class="header" href="#redstone_marker_bs-1">REDSTONE_MARKER_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant REDSTONE_MARKER_BS = 9;
</code></pre>
<h3 id="redstone_marker_mask-1"><a class="header" href="#redstone_marker_mask-1">REDSTONE_MARKER_MASK</a></h3>
<pre><code class="language-solidity">uint256 internal constant REDSTONE_MARKER_MASK = 0x0000000000000000000000000000000000000000000000000002ed57011e0000;
</code></pre>
<h3 id="timestamp_negative_offset_in_data_package_with_standard_slot_bs-1"><a class="header" href="#timestamp_negative_offset_in_data_package_with_standard_slot_bs-1">TIMESTAMP_NEGATIVE_OFFSET_IN_DATA_PACKAGE_WITH_STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant TIMESTAMP_NEGATIVE_OFFSET_IN_DATA_PACKAGE_WITH_STANDARD_SLOT_BS = 104;
</code></pre>
<h3 id="data_package_without_data_points_bs-1"><a class="header" href="#data_package_without_data_points_bs-1">DATA_PACKAGE_WITHOUT_DATA_POINTS_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_PACKAGE_WITHOUT_DATA_POINTS_BS = 78;
</code></pre>
<h3 id="data_package_without_data_points_and_sig_bs-1"><a class="header" href="#data_package_without_data_points_and_sig_bs-1">DATA_PACKAGE_WITHOUT_DATA_POINTS_AND_SIG_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_PACKAGE_WITHOUT_DATA_POINTS_AND_SIG_BS = 13;
</code></pre>
<h3 id="redstone_marker_bs_plus_standard_slot_bs-1"><a class="header" href="#redstone_marker_bs_plus_standard_slot_bs-1">REDSTONE_MARKER_BS_PLUS_STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant REDSTONE_MARKER_BS_PLUS_STANDARD_SLOT_BS = 41;
</code></pre>
<h2 id="errors-10"><a class="header" href="#errors-10">Errors</a></h2>
<h3 id="calldataoverorunderflow-1"><a class="header" href="#calldataoverorunderflow-1">CalldataOverOrUnderFlow</a></h3>
<pre><code class="language-solidity">error CalldataOverOrUnderFlow();
</code></pre>
<h3 id="incorrectunsignedmetadatasize-1"><a class="header" href="#incorrectunsignedmetadatasize-1">IncorrectUnsignedMetadataSize</a></h3>
<pre><code class="language-solidity">error IncorrectUnsignedMetadataSize();
</code></pre>
<h3 id="insufficientnumberofuniquesigners-1"><a class="header" href="#insufficientnumberofuniquesigners-1">InsufficientNumberOfUniqueSigners</a></h3>
<pre><code class="language-solidity">error InsufficientNumberOfUniqueSigners(uint256 receivedSignersCount, uint256 requiredSignersCount);
</code></pre>
<h3 id="eachsignermustprovidethesamevalue-1"><a class="header" href="#eachsignermustprovidethesamevalue-1">EachSignerMustProvideTheSameValue</a></h3>
<pre><code class="language-solidity">error EachSignerMustProvideTheSameValue();
</code></pre>
<h3 id="emptycalldatapointersarr-1"><a class="header" href="#emptycalldatapointersarr-1">EmptyCalldataPointersArr</a></h3>
<pre><code class="language-solidity">error EmptyCalldataPointersArr();
</code></pre>
<h3 id="invalidcalldatapointer-1"><a class="header" href="#invalidcalldatapointer-1">InvalidCalldataPointer</a></h3>
<pre><code class="language-solidity">error InvalidCalldataPointer();
</code></pre>
<h3 id="calldatamusthavevalidpayload-1"><a class="header" href="#calldatamusthavevalidpayload-1">CalldataMustHaveValidPayload</a></h3>
<pre><code class="language-solidity">error CalldataMustHaveValidPayload();
</code></pre>
<h3 id="signernotauthorised-1"><a class="header" href="#signernotauthorised-1">SignerNotAuthorised</a></h3>
<pre><code class="language-solidity">error SignerNotAuthorised(address receivedSigner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-25"><a class="header" href="#contents-25">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/test/smocks/ISmockFacet.sol/interface.ISmockFacet.html">ISmockFacet</a></li>
<li><a href="src/contracts/core/test/smocks/SmockCollateralReceiver.sol/contract.SmockCollateralReceiver.html">SmockCollateralReceiver</a></li>
<li><a href="src/contracts/core/test/smocks/SmockFacet.sol/contract.SmockFacet.html">SmockFacet</a></li>
<li><a href="src/contracts/core/test/smocks/SmockFacet.sol/constants.SmockFacet.html">SmockFacet constants</a></li>
<li><a href="src/contracts/core/test/smocks/SmockFacet2.sol/contract.SmockFacet2.html">SmockFacet2</a></li>
<li><a href="src/contracts/core/test/smocks/SmockInit.sol/contract.SmockInit.html">SmockInit</a></li>
<li><a href="src/contracts/core/test/smocks/SmockStorage.sol/library.Errors.html">Errors</a></li>
<li><a href="src/contracts/core/test/smocks/SmockStorage.sol/struct.SmockState.html">SmockState</a></li>
<li><a href="src/contracts/core/test/smocks/SmockStorage.sol/struct.SmockState2.html">SmockState2</a></li>
<li><a href="src/contracts/core/test/smocks/SmockStorage.sol/library.SmockStorage.html">SmockStorage</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ismockfacet"><a class="header" href="#ismockfacet">ISmockFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/smocks/ISmockFacet.sol">Git Source</a></p>
<h2 id="functions-109"><a class="header" href="#functions-109">Functions</a></h2>
<h3 id="activate"><a class="header" href="#activate">activate</a></h3>
<pre><code class="language-solidity">function activate() external;
</code></pre>
<h3 id="disable"><a class="header" href="#disable">disable</a></h3>
<pre><code class="language-solidity">function disable() external;
</code></pre>
<h3 id="setmessage"><a class="header" href="#setmessage">setMessage</a></h3>
<pre><code class="language-solidity">function setMessage(string memory message) external;
</code></pre>
<h2 id="events-6"><a class="header" href="#events-6">Events</a></h2>
<h3 id="newmessage"><a class="header" href="#newmessage">NewMessage</a></h3>
<pre><code class="language-solidity">event NewMessage(address indexed caller, string message);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockcollateralreceiver"><a class="header" href="#smockcollateralreceiver">SmockCollateralReceiver</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/smocks/SmockCollateralReceiver.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/smocks/SmockCollateralReceiver.sol//docs/book/src/src/contracts/core/minter/interfaces/ICollateralReceiver.sol/interface.ICollateralReceiver.html">ICollateralReceiver</a>, <a href="src/contracts/core/test/smocks/SmockCollateralReceiver.sol//docs/book/src/src/contracts/core/test/redstone/ProxyConnector.sol/contract.ProxyConnector.html">ProxyConnector</a></p>
<h2 id="state-variables-23"><a class="header" href="#state-variables-23">State Variables</a></h2>
<h3 id="kresko-3"><a class="header" href="#kresko-3">kresko</a></h3>
<pre><code class="language-solidity">IMinterDepositWithdrawFacet public kresko;
</code></pre>
<h3 id="callbacklogic"><a class="header" href="#callbacklogic">callbackLogic</a></h3>
<pre><code class="language-solidity">function(address, address, uint256, bytes memory) internal callbackLogic;
</code></pre>
<h3 id="account"><a class="header" href="#account">account</a></h3>
<pre><code class="language-solidity">address public account;
</code></pre>
<h3 id="collateralasset"><a class="header" href="#collateralasset">collateralAsset</a></h3>
<pre><code class="language-solidity">address public collateralAsset;
</code></pre>
<h3 id="withdrawalamountrequested"><a class="header" href="#withdrawalamountrequested">withdrawalAmountRequested</a></h3>
<pre><code class="language-solidity">uint256 public withdrawalAmountRequested;
</code></pre>
<h3 id="withdrawalamountreceived"><a class="header" href="#withdrawalamountreceived">withdrawalAmountReceived</a></h3>
<pre><code class="language-solidity">uint256 public withdrawalAmountReceived;
</code></pre>
<h3 id="userdata-1"><a class="header" href="#userdata-1">userData</a></h3>
<pre><code class="language-solidity">Params public userData;
</code></pre>
<h2 id="functions-110"><a class="header" href="#functions-110">Functions</a></h2>
<h3 id="constructor-16"><a class="header" href="#constructor-16">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _kresko);
</code></pre>
<h3 id="onuncheckedcollateralwithdraw-1"><a class="header" href="#onuncheckedcollateralwithdraw-1">onUncheckedCollateralWithdraw</a></h3>
<pre><code class="language-solidity">function onUncheckedCollateralWithdraw(
    address _account,
    address _collateralAsset,
    uint256 _withdrawalAmount,
    uint256 _depositedCollateralAssetIndex,
    bytes memory _userData
) external returns (bytes memory);
</code></pre>
<h3 id="execute"><a class="header" href="#execute">execute</a></h3>
<pre><code class="language-solidity">function execute(
    address _collateralAsset,
    uint256 _amount,
    function(address, address, uint256, bytes memory) internal logic
) internal;
</code></pre>
<h3 id="execute-1"><a class="header" href="#execute-1">execute</a></h3>
<pre><code class="language-solidity">function execute(
    address _collateralAsset,
    uint256 _amount,
    bytes memory data,
    function(address, address, uint256, bytes memory) internal logic
) internal;
</code></pre>
<h3 id="test"><a class="header" href="#test">test</a></h3>
<pre><code class="language-solidity">function test(address _collateralAsset, uint256 _amount) external;
</code></pre>
<h3 id="testwithdrawalamount"><a class="header" href="#testwithdrawalamount">testWithdrawalAmount</a></h3>
<pre><code class="language-solidity">function testWithdrawalAmount(address _collateralAsset, uint256 _amount) external;
</code></pre>
<h3 id="testredeposit"><a class="header" href="#testredeposit">testRedeposit</a></h3>
<pre><code class="language-solidity">function testRedeposit(address _collateralAsset, uint256 _amount) external;
</code></pre>
<h3 id="testinsufficientredeposit"><a class="header" href="#testinsufficientredeposit">testInsufficientRedeposit</a></h3>
<pre><code class="language-solidity">function testInsufficientRedeposit(address _collateralAsset, uint256 _amount) external;
</code></pre>
<h3 id="testdepositalternate"><a class="header" href="#testdepositalternate">testDepositAlternate</a></h3>
<pre><code class="language-solidity">function testDepositAlternate(address _collateralWithdraw, uint256 _amount, address _collateralDeposit) external;
</code></pre>
<h3 id="logicdepositalternate"><a class="header" href="#logicdepositalternate">logicDepositAlternate</a></h3>
<pre><code class="language-solidity">function logicDepositAlternate(
    address _account,
    address _collateralAsset,
    uint256 _withdrawalAmount,
    bytes memory _userData
) internal;
</code></pre>
<h3 id="logicbase"><a class="header" href="#logicbase">logicBase</a></h3>
<pre><code class="language-solidity">function logicBase(address _account, address _collateralAsset, uint256 _withdrawalAmount, bytes memory _userData)
    internal;
</code></pre>
<h3 id="logictestwithdrawalamount"><a class="header" href="#logictestwithdrawalamount">logicTestWithdrawalAmount</a></h3>
<pre><code class="language-solidity">function logicTestWithdrawalAmount(
    address _account,
    address _collateralAsset,
    uint256 _withdrawalAmount,
    bytes memory _userData
) internal;
</code></pre>
<h3 id="logicredeposit"><a class="header" href="#logicredeposit">logicRedeposit</a></h3>
<pre><code class="language-solidity">function logicRedeposit(address _account, address _collateralAsset, uint256 _withdrawalAmount, bytes memory _userData)
    internal;
</code></pre>
<h3 id="logicinsufficientredeposit"><a class="header" href="#logicinsufficientredeposit">logicInsufficientRedeposit</a></h3>
<pre><code class="language-solidity">function logicInsufficientRedeposit(
    address _account,
    address _collateralAsset,
    uint256 _withdrawalAmount,
    bytes memory _userData
) internal;
</code></pre>
<h2 id="structs-5"><a class="header" href="#structs-5">Structs</a></h2>
<h3 id="params"><a class="header" href="#params">Params</a></h3>
<pre><code class="language-solidity">struct Params {
    uint256 val;
    uint256 val1;
    address addr;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockfacet"><a class="header" href="#smockfacet">SmockFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/smocks/SmockFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/smocks/SmockFacet.sol//docs/book/src/src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/test/smocks/SmockFacet.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a>, <a href="src/contracts/core/test/smocks/SmockFacet.sol//docs/book/src/src/contracts/core/test/smocks/ISmockFacet.sol/interface.ISmockFacet.html">ISmockFacet</a></p>
<p><em>Use for Smock fakes / mocks.</em></p>
<h2 id="state-variables-24"><a class="header" href="#state-variables-24">State Variables</a></h2>
<h3 id="message_throttle"><a class="header" href="#message_throttle">MESSAGE_THROTTLE</a></h3>
<pre><code class="language-solidity">uint256 public constant MESSAGE_THROTTLE = 2;
</code></pre>
<h2 id="functions-111"><a class="header" href="#functions-111">Functions</a></h2>
<h3 id="operator-1"><a class="header" href="#operator-1">operator</a></h3>
<pre><code class="language-solidity">function operator() external view returns (address);
</code></pre>
<h3 id="activate-1"><a class="header" href="#activate-1">activate</a></h3>
<pre><code class="language-solidity">function activate() external override onlyRole(TEST_OPERATOR_ROLE) onlyDisabled;
</code></pre>
<h3 id="disable-1"><a class="header" href="#disable-1">disable</a></h3>
<pre><code class="language-solidity">function disable() external override onlyRole(TEST_OPERATOR_ROLE) onlyActive;
</code></pre>
<h3 id="smockinitialized"><a class="header" href="#smockinitialized">smockInitialized</a></h3>
<pre><code class="language-solidity">function smockInitialized() external view returns (bool);
</code></pre>
<h3 id="setmessage-1"><a class="header" href="#setmessage-1">setMessage</a></h3>
<pre><code class="language-solidity">function setMessage(string memory message) external override onlyActive;
</code></pre>
<h3 id="onlyactive"><a class="header" href="#onlyactive">onlyActive</a></h3>
<pre><code class="language-solidity">modifier onlyActive();
</code></pre>
<h3 id="onlydisabled"><a class="header" href="#onlydisabled">onlyDisabled</a></h3>
<pre><code class="language-solidity">modifier onlyDisabled();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-5"><a class="header" href="#constants-5">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/smocks/SmockFacet.sol">Git Source</a></p>
<h3 id="test_operator_role"><a class="header" href="#test_operator_role">TEST_OPERATOR_ROLE</a></h3>
<pre><code class="language-solidity">bytes32 constant TEST_OPERATOR_ROLE = keccak256(&quot;kresko.test.operator&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockfacet2"><a class="header" href="#smockfacet2">SmockFacet2</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/smocks/SmockFacet2.sol">Git Source</a></p>
<h2 id="functions-112"><a class="header" href="#functions-112">Functions</a></h2>
<h3 id="initialize-5"><a class="header" href="#initialize-5">initialize</a></h3>
<pre><code class="language-solidity">function initialize() external;
</code></pre>
<h3 id="getoldstructvaluefromextended"><a class="header" href="#getoldstructvaluefromextended">getOldStructValueFromExtended</a></h3>
<pre><code class="language-solidity">function getOldStructValueFromExtended() external view returns (bool);
</code></pre>
<h3 id="getnewstructvaluefromextended"><a class="header" href="#getnewstructvaluefromextended">getNewStructValueFromExtended</a></h3>
<pre><code class="language-solidity">function getNewStructValueFromExtended() external view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockinit"><a class="header" href="#smockinit">SmockInit</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/smocks/SmockInit.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/smocks/SmockInit.sol//docs/book/src/src/contracts/core/diamond/DSModifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/test/smocks/SmockInit.sol//docs/book/src/src/contracts/core/common/Modifiers.sol/contract.Modifiers.html">Modifiers</a></p>
<h2 id="functions-113"><a class="header" href="#functions-113">Functions</a></h2>
<h3 id="initialize-6"><a class="header" href="#initialize-6">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address _operator) external onlyDiamondOwner onlyRole(Role.ADMIN);
</code></pre>
<h3 id="getnumber"><a class="header" href="#getnumber">getNumber</a></h3>
<pre><code class="language-solidity">function getNumber() public pure returns (uint8);
</code></pre>
<h3 id="getbool"><a class="header" href="#getbool">getBool</a></h3>
<pre><code class="language-solidity">function getBool() public pure returns (bool);
</code></pre>
<h3 id="upgradestate"><a class="header" href="#upgradestate">upgradeState</a></h3>
<pre><code class="language-solidity">function upgradeState() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="errors-11"><a class="header" href="#errors-11">Errors</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/smocks/SmockStorage.sol">Git Source</a></p>
<h2 id="state-variables-25"><a class="header" href="#state-variables-25">State Variables</a></h2>
<h3 id="initialized-2"><a class="header" href="#initialized-2">INITIALIZED</a></h3>
<pre><code class="language-solidity">string public constant INITIALIZED = &quot;Already initialized&quot;;
</code></pre>
<h3 id="not_active"><a class="header" href="#not_active">NOT_ACTIVE</a></h3>
<pre><code class="language-solidity">string public constant NOT_ACTIVE = &quot;SmockFacet: Not active&quot;;
</code></pre>
<h3 id="active"><a class="header" href="#active">ACTIVE</a></h3>
<pre><code class="language-solidity">string public constant ACTIVE = &quot;SmockFacet: Active&quot;;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockstate"><a class="header" href="#smockstate">SmockState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/smocks/SmockStorage.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SmockState {
    bool initialized;
    bool isActive;
    address operator;
    mapping(address =&gt; bool) callers;
    string message;
    uint256 lastMessageBlock;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockstate2"><a class="header" href="#smockstate2">SmockState2</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/smocks/SmockStorage.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SmockState2 {
    bool initialized;
    bool isActive;
    address operator;
    mapping(address =&gt; bool) callers;
    string message;
    uint256 lastMessageBlock;
    bool extended;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockstorage"><a class="header" href="#smockstorage">SmockStorage</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/test/smocks/SmockStorage.sol">Git Source</a></p>
<h2 id="state-variables-26"><a class="header" href="#state-variables-26">State Variables</a></h2>
<h3 id="smock_storage_position"><a class="header" href="#smock_storage_position">SMOCK_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 public constant SMOCK_STORAGE_POSITION = keccak256(&quot;kresko.smock.storage&quot;);
</code></pre>
<h2 id="functions-114"><a class="header" href="#functions-114">Functions</a></h2>
<h3 id="initialize-7"><a class="header" href="#initialize-7">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address _operator) internal;
</code></pre>
<h3 id="state-1"><a class="header" href="#state-1">state</a></h3>
<pre><code class="language-solidity">function state() internal pure returns (SmockState storage ss);
</code></pre>
<h3 id="stateextended"><a class="header" href="#stateextended">stateExtended</a></h3>
<pre><code class="language-solidity">function stateExtended() internal pure returns (SmockState2 storage ss);
</code></pre>
<h3 id="activate-2"><a class="header" href="#activate-2">activate</a></h3>
<pre><code class="language-solidity">function activate() internal;
</code></pre>
<h3 id="disable-2"><a class="header" href="#disable-2">disable</a></h3>
<pre><code class="language-solidity">function disable() internal;
</code></pre>
<h2 id="events-7"><a class="header" href="#events-7">Events</a></h2>
<h3 id="call"><a class="header" href="#call">Call</a></h3>
<pre><code class="language-solidity">event Call(address indexed caller);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-26"><a class="header" href="#contents-26">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/vault//src/contracts/core/vault/funcs">funcs</a></li>
<li><a href="src/contracts/core/vault//src/contracts/core/vault/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/vault/VEvent.sol/library.VEvent.html">VEvent</a></li>
<li><a href="src/contracts/core/vault/VTypes.sol/struct.VaultAsset.html">VaultAsset</a></li>
<li><a href="src/contracts/core/vault/VTypes.sol/struct.VaultConfiguration.html">VaultConfiguration</a></li>
<li><a href="src/contracts/core/vault/Vault.sol/contract.Vault.html">Vault</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-27"><a class="header" href="#contents-27">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/vault/funcs/VAssets.sol/library.VAssets.html">VAssets</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vassets"><a class="header" href="#vassets">VAssets</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/vault/funcs/VAssets.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Helper library for KreskoVault</p>
<h2 id="functions-115"><a class="header" href="#functions-115">Functions</a></h2>
<h3 id="price-3"><a class="header" href="#price-3">price</a></h3>
<p>Gets the price of an asset from the oracle speficied.</p>
<pre><code class="language-solidity">function price(VaultAsset storage self, VaultConfiguration storage config) internal view returns (uint256 answer);
</code></pre>
<h3 id="handledepositfee"><a class="header" href="#handledepositfee">handleDepositFee</a></h3>
<p>Gets the price of an asset from the oracle speficied.</p>
<pre><code class="language-solidity">function handleDepositFee(VaultAsset storage self, uint256 assets)
    internal
    view
    returns (uint256 assetsWithFee, uint256 fee);
</code></pre>
<h3 id="handlemintfee"><a class="header" href="#handlemintfee">handleMintFee</a></h3>
<p>Gets the price of an asset from the oracle speficied.</p>
<pre><code class="language-solidity">function handleMintFee(VaultAsset storage self, uint256 assets)
    internal
    view
    returns (uint256 assetsWithFee, uint256 fee);
</code></pre>
<h3 id="handlewithdrawfee"><a class="header" href="#handlewithdrawfee">handleWithdrawFee</a></h3>
<p>Gets the price of an asset from the oracle speficied.</p>
<pre><code class="language-solidity">function handleWithdrawFee(VaultAsset storage self, uint256 assets)
    internal
    view
    returns (uint256 assetsWithFee, uint256 fee);
</code></pre>
<h3 id="handleredeemfee"><a class="header" href="#handleredeemfee">handleRedeemFee</a></h3>
<p>Gets the price of an asset from the oracle speficied.</p>
<pre><code class="language-solidity">function handleRedeemFee(VaultAsset storage self, uint256 assets)
    internal
    view
    returns (uint256 assetsWithFee, uint256 fee);
</code></pre>
<h3 id="usdwad"><a class="header" href="#usdwad">usdWad</a></h3>
<p>Gets the oracle decimal precision USD value for <code>amount</code>.</p>
<pre><code class="language-solidity">function usdWad(VaultAsset storage self, VaultConfiguration storage config, uint256 amount)
    internal
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>VaultAsset</code></td><td></td></tr>
<tr><td><code>config</code></td><td><code>VaultConfiguration</code></td><td>vault configuration.</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>amount of tokens to get USD value for.</td></tr>
</tbody></table>
</div>
<h3 id="getdepositvalue"><a class="header" href="#getdepositvalue">getDepositValue</a></h3>
<p>Gets the total deposit value of <code>self</code> in USD, oracle precision.</p>
<pre><code class="language-solidity">function getDepositValue(VaultAsset storage self, VaultConfiguration storage config) internal view returns (uint256);
</code></pre>
<h3 id="getdepositvaluewad"><a class="header" href="#getdepositvaluewad">getDepositValueWad</a></h3>
<p>Gets the total deposit value of <code>self</code> in USD, oracle precision.</p>
<pre><code class="language-solidity">function getDepositValueWad(VaultAsset storage self, VaultConfiguration storage config)
    internal
    view
    returns (uint256);
</code></pre>
<h3 id="getamount"><a class="header" href="#getamount">getAmount</a></h3>
<p>Gets the a token amount for <code>value</code> USD, oracle precision.</p>
<pre><code class="language-solidity">function getAmount(VaultAsset storage self, VaultConfiguration storage config, uint256 value)
    internal
    view
    returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-28"><a class="header" href="#contents-28">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/vault/interfaces/IVault.sol/interface.IVault.html">IVault</a></li>
<li><a href="src/contracts/core/vault/interfaces/IVaultExtender.sol/interface.IVaultExtender.html">IVaultExtender</a></li>
<li><a href="src/contracts/core/vault/interfaces/IVaultRateProvider.sol/interface.IVaultRateProvider.html">IVaultRateProvider</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ivault"><a class="header" href="#ivault">IVault</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/vault/interfaces/IVault.sol">Git Source</a></p>
<h2 id="functions-116"><a class="header" href="#functions-116">Functions</a></h2>
<h3 id="deposit-9"><a class="header" href="#deposit-9">deposit</a></h3>
<p>This function deposits <code>assetsIn</code> of <code>asset</code>, regardless of the amount of vault shares minted.</p>
<p>If depositFee &gt; 0, <code>depositFee</code> of <code>assetsIn</code> is sent to the fee recipient.</p>
<p><em>emits Deposit(caller, receiver, asset, assetsIn, sharesOut);</em></p>
<pre><code class="language-solidity">function deposit(address assetAddr, uint256 assetsIn, address receiver)
    external
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to deposit.</td></tr>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> to deposit.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive <code>sharesOut</code> of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares minted for <code>assetsIn</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="mint-7"><a class="header" href="#mint-7">mint</a></h3>
<p>This function mints <code>sharesOut</code> of vault shares, regardless of the amount of <code>asset</code> received.</p>
<p>If depositFee &gt; 0, <code>depositFee</code> of <code>assetsIn</code> is sent to the fee recipient.</p>
<p><em>emits Deposit(caller, receiver, asset, assetsIn, sharesOut);</em></p>
<pre><code class="language-solidity">function mint(address assetAddr, uint256 sharesOut, address receiver)
    external
    returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to deposit.</td></tr>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares desired to mint.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive <code>sharesOut</code> of shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Assets used to mint <code>sharesOut</code> of vault shares.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="redeem-3"><a class="header" href="#redeem-3">redeem</a></h3>
<p>This function burns <code>sharesIn</code> of shares from <code>owner</code>, regardless of the amount of <code>asset</code> received.</p>
<p>If withdrawFee &gt; 0, <code>withdrawFee</code> of <code>assetsOut</code> is sent to the fee recipient.</p>
<p><em>emits Withdraw(caller, receiver, asset, owner, assetsOut, sharesIn);</em></p>
<pre><code class="language-solidity">function redeem(address assetAddr, uint256 sharesIn, address receiver, address owner)
    external
    returns (uint256 assetsOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to redeem.</td></tr>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares to redeem.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive the redeemed assets.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> used for redeem <code>assetsOut</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-10"><a class="header" href="#withdraw-10">withdraw</a></h3>
<p>This function withdraws <code>assetsOut</code> of assets, regardless of the amount of vault shares required.</p>
<p>If withdrawFee &gt; 0, <code>withdrawFee</code> of <code>assetsOut</code> is sent to the fee recipient.</p>
<p><em>emits Withdraw(caller, receiver, asset, owner, assetsOut, sharesIn);</em></p>
<pre><code class="language-solidity">function withdraw(address assetAddr, uint256 assetsOut, address receiver, address owner)
    external
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to withdraw.</td></tr>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> desired to withdraw.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive the withdrawn assets.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares used to withdraw <code>assetsOut</code> of <code>asset</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getconfig"><a class="header" href="#getconfig">getConfig</a></h3>
<p>Returns the current vault configuration</p>
<pre><code class="language-solidity">function getConfig() external view returns (VaultConfiguration memory config);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>config</code></td><td><code>VaultConfiguration</code></td><td>Vault configuration struct</td></tr>
</tbody></table>
</div>
<h3 id="totalassets-4"><a class="header" href="#totalassets-4">totalAssets</a></h3>
<p>Returns the total value of all assets in the shares contract in USD WAD precision.</p>
<pre><code class="language-solidity">function totalAssets() external view returns (uint256 result);
</code></pre>
<h3 id="assetlist"><a class="header" href="#assetlist">assetList</a></h3>
<p>Assets array used for iterating through the assets in the shares contract</p>
<pre><code class="language-solidity">function assetList(uint256 index) external view returns (address assetAddr);
</code></pre>
<h3 id="assets-1"><a class="header" href="#assets-1">assets</a></h3>
<p>Returns the asset struct for a given asset</p>
<pre><code class="language-solidity">function assets(address) external view returns (VaultAsset memory asset);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>VaultAsset</code></td><td>Asset struct for <code>asset</code></td></tr>
</tbody></table>
</div>
<h3 id="assetprice"><a class="header" href="#assetprice">assetPrice</a></h3>
<pre><code class="language-solidity">function assetPrice(address assetAddr) external view returns (uint256);
</code></pre>
<h3 id="previewdeposit-2"><a class="header" href="#previewdeposit-2">previewDeposit</a></h3>
<p>This function is used for previewing the amount of shares minted for <code>assetsIn</code> of <code>asset</code>.</p>
<pre><code class="language-solidity">function previewDeposit(address assetAddr, uint256 assetsIn)
    external
    view
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> in.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares minted.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-2"><a class="header" href="#previewmint-2">previewMint</a></h3>
<p>This function is used for previewing <code>assetsIn</code> of <code>asset</code> required to mint <code>sharesOut</code> of vault shares.</p>
<pre><code class="language-solidity">function previewMint(address assetAddr, uint256 sharesOut) external view returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Desired amount of vault shares to mint.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> required.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-2"><a class="header" href="#previewredeem-2">previewRedeem</a></h3>
<p>This function is used for previewing <code>assetsOut</code> of <code>asset</code> received for <code>sharesIn</code> of vault shares.</p>
<pre><code class="language-solidity">function previewRedeem(address assetAddr, uint256 sharesIn)
    external
    view
    returns (uint256 assetsOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Desired amount of vault shares to burn.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> received.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-2"><a class="header" href="#previewwithdraw-2">previewWithdraw</a></h3>
<p>This function is used for previewing <code>sharesIn</code> of vault shares required to burn for <code>assetsOut</code> of <code>asset</code>.</p>
<pre><code class="language-solidity">function previewWithdraw(address assetAddr, uint256 assetsOut)
    external
    view
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Desired amount of <code>asset</code> out.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares required.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="maxdeposit-2"><a class="header" href="#maxdeposit-2">maxDeposit</a></h3>
<p>Returns the maximum deposit amount of <code>asset</code></p>
<pre><code class="language-solidity">function maxDeposit(address assetAddr) external view returns (uint256 assetsIn);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Maximum depositable amount of assets.</td></tr>
</tbody></table>
</div>
<h3 id="maxmint-2"><a class="header" href="#maxmint-2">maxMint</a></h3>
<p>Returns the maximum mint using <code>asset</code></p>
<pre><code class="language-solidity">function maxMint(address assetAddr, address owner) external view returns (uint256 sharesOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of assets.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Maximum mint amount.</td></tr>
</tbody></table>
</div>
<h3 id="maxredeem-2"><a class="header" href="#maxredeem-2">maxRedeem</a></h3>
<p>Returns the maximum redeemable amount for <code>user</code></p>
<pre><code class="language-solidity">function maxRedeem(address assetAddr, address owner) external view returns (uint256 sharesIn);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Maximum redeemable amount of <code>shares</code> (vault share balance)</td></tr>
</tbody></table>
</div>
<h3 id="maxwithdraw-2"><a class="header" href="#maxwithdraw-2">maxWithdraw</a></h3>
<p>Returns the maximum redeemable amount for <code>user</code></p>
<pre><code class="language-solidity">function maxWithdraw(address assetAddr, address owner) external view returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>Maximum amount of <code>asset</code> received.</td></tr>
</tbody></table>
</div>
<h3 id="exchangerate-2"><a class="header" href="#exchangerate-2">exchangeRate</a></h3>
<p>Returns the exchange rate of one vault share to USD.</p>
<pre><code class="language-solidity">function exchangeRate() external view returns (uint256 rate);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>rate</code></td><td><code>uint256</code></td><td>Exchange rate of one vault share to USD in wad precision.</td></tr>
</tbody></table>
</div>
<h3 id="addasset-2"><a class="header" href="#addasset-2">addAsset</a></h3>
<p>Adds a new asset to the vault</p>
<pre><code class="language-solidity">function addAsset(VaultAsset memory assetConfig) external returns (VaultAsset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetConfig</code></td><td><code>VaultAsset</code></td><td>Asset to add</td></tr>
</tbody></table>
</div>
<h3 id="removeasset"><a class="header" href="#removeasset">removeAsset</a></h3>
<p>Removes an asset from the vault</p>
<pre><code class="language-solidity">function removeAsset(address assetAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset address to remove emits assetRemoved(asset, block.timestamp);</td></tr>
</tbody></table>
</div>
<h3 id="setgovernance"><a class="header" href="#setgovernance">setGovernance</a></h3>
<p>Current governance sets a new governance address</p>
<pre><code class="language-solidity">function setGovernance(address newGovernance) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newGovernance</code></td><td><code>address</code></td><td>The new governance address</td></tr>
</tbody></table>
</div>
<h3 id="setfeerecipient-4"><a class="header" href="#setfeerecipient-4">setFeeRecipient</a></h3>
<p>Current governance sets a new fee recipient address</p>
<pre><code class="language-solidity">function setFeeRecipient(address newFeeRecipient) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newFeeRecipient</code></td><td><code>address</code></td><td>The new fee recipient address</td></tr>
</tbody></table>
</div>
<h3 id="setassetfeed"><a class="header" href="#setassetfeed">setAssetFeed</a></h3>
<p>Sets a new oracle for a asset</p>
<pre><code class="language-solidity">function setAssetFeed(address assetAddr, address feedAddr, uint24 newStaleTime) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to set the oracle for</td></tr>
<tr><td><code>feedAddr</code></td><td><code>address</code></td><td>Feed to set</td></tr>
<tr><td><code>newStaleTime</code></td><td><code>uint24</code></td><td>Time in seconds for the feed to be considered stale</td></tr>
</tbody></table>
</div>
<h3 id="setfeedpriceprecision"><a class="header" href="#setfeedpriceprecision">setFeedPricePrecision</a></h3>
<p>Sets a new oracle decimals</p>
<pre><code class="language-solidity">function setFeedPricePrecision(uint8 newDecimals) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newDecimals</code></td><td><code>uint8</code></td><td>New oracle decimal precision</td></tr>
</tbody></table>
</div>
<h3 id="setmaxdeposits"><a class="header" href="#setmaxdeposits">setMaxDeposits</a></h3>
<p>Sets the max deposit amount for a asset</p>
<pre><code class="language-solidity">function setMaxDeposits(address assetAddr, uint248 newMaxDeposits) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to set the max deposits for</td></tr>
<tr><td><code>newMaxDeposits</code></td><td><code>uint248</code></td><td>Max deposits to set</td></tr>
</tbody></table>
</div>
<h3 id="setassetenabled"><a class="header" href="#setassetenabled">setAssetEnabled</a></h3>
<p>Sets the enabled status for a asset</p>
<pre><code class="language-solidity">function setAssetEnabled(address assetAddr, bool isEnabled) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to set the enabled status for</td></tr>
<tr><td><code>isEnabled</code></td><td><code>bool</code></td><td>Enabled status to set</td></tr>
</tbody></table>
</div>
<h3 id="setdepositfee"><a class="header" href="#setdepositfee">setDepositFee</a></h3>
<p>Sets the deposit fee for a asset</p>
<pre><code class="language-solidity">function setDepositFee(address assetAddr, uint16 newDepositFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to set the deposit fee for</td></tr>
<tr><td><code>newDepositFee</code></td><td><code>uint16</code></td><td>Fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setwithdrawfee"><a class="header" href="#setwithdrawfee">setWithdrawFee</a></h3>
<p>Sets the withdraw fee for a asset</p>
<pre><code class="language-solidity">function setWithdrawFee(address assetAddr, uint16 newWithdrawFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to set the withdraw fee for</td></tr>
<tr><td><code>newWithdrawFee</code></td><td><code>uint16</code></td><td>Fee to set</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ivaultextender"><a class="header" href="#ivaultextender">IVaultExtender</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/vault/interfaces/IVaultExtender.sol">Git Source</a></p>
<h2 id="functions-117"><a class="header" href="#functions-117">Functions</a></h2>
<h3 id="vaultdeposit-1"><a class="header" href="#vaultdeposit-1">vaultDeposit</a></h3>
<p>Deposit tokens to vault for shares and convert them to equal amount of extender token.</p>
<pre><code class="language-solidity">function vaultDeposit(address _assetAddr, uint256 _assets, address _receiver)
    external
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_assets</code></td><td><code>uint256</code></td><td>amount of <code>_assetAddr</code> to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>amount of shares/extender tokens minted</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_assetAddr</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultmint-1"><a class="header" href="#vaultmint-1">vaultMint</a></h3>
<p>Deposit supported vault assets to receive <code>_shares</code>, depositing the shares for equal amount of extender token.</p>
<pre><code class="language-solidity">function vaultMint(address _assetAddr, uint256 _shares, address _receiver)
    external
    returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>Amount of shares to receive</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of assets for <code>_shares</code></td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of <code>_assetAddr</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultwithdraw-1"><a class="header" href="#vaultwithdraw-1">vaultWithdraw</a></h3>
<p>Withdraw supported vault asset, burning extender tokens and withdrawing shares from vault.</p>
<pre><code class="language-solidity">function vaultWithdraw(address _assetAddr, uint256 _assets, address _receiver, address _owner)
    external
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_assets</code></td><td><code>uint256</code></td><td>amount of <code>_assetAddr</code> to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>Owner of extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>amount of shares/extender tokens burned</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_assetAddr</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultredeem-1"><a class="header" href="#vaultredeem-1">vaultRedeem</a></h3>
<p>Withdraw supported vault asset for  <code>_shares</code> of extender tokens.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function vaultRedeem(address _assetAddr, uint256 _shares, address _receiver, address _owner)
    external
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Token to deposit into vault for shares.</td></tr>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>amount of extender tokens to burn</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address to receive assets withdrawn</td></tr>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>Owner of extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>amount of shares/extender tokens minted</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_assetAddr</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="deposit-10"><a class="header" href="#deposit-10">deposit</a></h3>
<p>Deposit shares for equal amount of extender token.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function deposit(uint256 _shares, address _receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>amount of vault shares to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>address to mint extender tokens to</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-11"><a class="header" href="#withdraw-11">withdraw</a></h3>
<p>Withdraw shares for equal amount of extender token.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function withdraw(uint256 _amount, address _receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount of vault extender tokens to burn</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>address to send shares to</td></tr>
</tbody></table>
</div>
<h3 id="withdrawfrom-1"><a class="header" href="#withdrawfrom-1">withdrawFrom</a></h3>
<p>Withdraw shares for equal amount of extender token with allowance.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function withdrawFrom(address _from, address _to, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_from</code></td><td><code>address</code></td><td>address to burn extender tokens from</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to send shares to</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to convert</td></tr>
</tbody></table>
</div>
<h2 id="events-8"><a class="header" href="#events-8">Events</a></h2>
<h3 id="deposit-11"><a class="header" href="#deposit-11">Deposit</a></h3>
<pre><code class="language-solidity">event Deposit(address indexed _from, address indexed _to, uint256 _amount);
</code></pre>
<h3 id="withdraw-12"><a class="header" href="#withdraw-12">Withdraw</a></h3>
<pre><code class="language-solidity">event Withdraw(address indexed _from, address indexed _to, uint256 _amount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ivaultrateprovider"><a class="header" href="#ivaultrateprovider">IVaultRateProvider</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/vault/interfaces/IVaultRateProvider.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Minimal exchange rate interface for vaults.</p>
<h2 id="functions-118"><a class="header" href="#functions-118">Functions</a></h2>
<h3 id="exchangerate-3"><a class="header" href="#exchangerate-3">exchangeRate</a></h3>
<p>Gets the exchange rate of one vault share to USD.</p>
<pre><code class="language-solidity">function exchangeRate() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 The current exchange rate of the vault share in 18 decimals precision.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="vevent"><a class="header" href="#vevent">VEvent</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/vault/VEvent.sol">Git Source</a></p>
<h2 id="events-9"><a class="header" href="#events-9">Events</a></h2>
<h3 id="deposit-12"><a class="header" href="#deposit-12">Deposit</a></h3>
<p>Emitted when a deposit/mint is made</p>
<pre><code class="language-solidity">event Deposit(
    address indexed caller, address indexed receiver, address indexed asset, uint256 assetsIn, uint256 sharesOut
);
</code></pre>
<h3 id="oracleset"><a class="header" href="#oracleset">OracleSet</a></h3>
<p>Emitted when a new oracle is set for an asset</p>
<pre><code class="language-solidity">event OracleSet(address indexed asset, address indexed feed, uint256 staletime, uint256 price, uint256 timestamp);
</code></pre>
<h3 id="assetadded"><a class="header" href="#assetadded">AssetAdded</a></h3>
<p>Emitted when a new asset is added to the shares contract</p>
<pre><code class="language-solidity">event AssetAdded(
    address indexed asset,
    address indexed feed,
    string indexed symbol,
    uint256 staletime,
    uint256 price,
    uint256 depositLimit,
    uint256 timestamp
);
</code></pre>
<h3 id="assetremoved"><a class="header" href="#assetremoved">AssetRemoved</a></h3>
<p>Emitted when a previously existing asset is removed from the shares contract</p>
<pre><code class="language-solidity">event AssetRemoved(address indexed asset, uint256 timestamp);
</code></pre>
<h3 id="assetenabledchange"><a class="header" href="#assetenabledchange">AssetEnabledChange</a></h3>
<p>Emitted when the enabled status for asset is changed</p>
<pre><code class="language-solidity">event AssetEnabledChange(address indexed asset, bool enabled, uint256 timestamp);
</code></pre>
<h3 id="withdraw-13"><a class="header" href="#withdraw-13">Withdraw</a></h3>
<p>Emitted when a withdraw/redeem is made</p>
<pre><code class="language-solidity">event Withdraw(
    address indexed caller,
    address indexed receiver,
    address indexed asset,
    address owner,
    uint256 assetsOut,
    uint256 sharesIn
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vaultasset"><a class="header" href="#vaultasset">VaultAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/vault/VTypes.sol">Git Source</a></p>
<p>Asset struct for deposit assets in contract</p>
<pre><code class="language-solidity">struct VaultAsset {
    IERC20 token;
    IAggregatorV3 feed;
    uint24 staleTime;
    uint8 decimals;
    uint32 depositFee;
    uint32 withdrawFee;
    uint248 maxDeposits;
    bool enabled;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vaultconfiguration"><a class="header" href="#vaultconfiguration">VaultConfiguration</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/vault/VTypes.sol">Git Source</a></p>
<p>Vault configuration struct</p>
<pre><code class="language-solidity">struct VaultConfiguration {
    address sequencerUptimeFeed;
    uint96 sequencerGracePeriodTime;
    address governance;
    address feeRecipient;
    uint8 oracleDecimals;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vault"><a class="header" href="#vault">Vault</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/vault/Vault.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/vault/Vault.sol//docs/book/src/src/contracts/core/vault/interfaces/IVault.sol/interface.IVault.html">IVault</a>, ERC20</p>
<p><strong>Author:</strong>
Kresko</p>
<p>This is derived from ERC4626 standard.</p>
<p>Users deposit tokens into the vault and receive shares of equal value in return.</p>
<p>Shares are redeemable for the underlying tokens at any time.</p>
<p>Price or exchange rate of SHARE/USD is determined by the total value of the underlying tokens in the vault and the share supply.</p>
<h2 id="state-variables-27"><a class="header" href="#state-variables-27">State Variables</a></h2>
<h3 id="_config"><a class="header" href="#_config">_config</a></h3>
<pre><code class="language-solidity">VaultConfiguration internal _config;
</code></pre>
<h3 id="_assets"><a class="header" href="#_assets">_assets</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; VaultAsset) internal _assets;
</code></pre>
<h3 id="assetlist-1"><a class="header" href="#assetlist-1">assetList</a></h3>
<pre><code class="language-solidity">address[] public assetList;
</code></pre>
<h2 id="functions-119"><a class="header" href="#functions-119">Functions</a></h2>
<h3 id="constructor-17"><a class="header" href="#constructor-17">constructor</a></h3>
<pre><code class="language-solidity">constructor(
    string memory _name,
    string memory _symbol,
    uint8 _decimals,
    uint8 _oracleDecimals,
    address _feeRecipient,
    address _sequencerUptimeFeed
) ERC20(_name, _symbol, _decimals);
</code></pre>
<h3 id="onlygovernance"><a class="header" href="#onlygovernance">onlyGovernance</a></h3>
<pre><code class="language-solidity">modifier onlyGovernance();
</code></pre>
<h3 id="check"><a class="header" href="#check">check</a></h3>
<pre><code class="language-solidity">modifier check(address assetAddr);
</code></pre>
<h3 id="_checkassetsin"><a class="header" href="#_checkassetsin">_checkAssetsIn</a></h3>
<p>Validate deposits.</p>
<pre><code class="language-solidity">function _checkAssetsIn(address assetAddr, uint256 assetsIn, uint256 sharesOut) private view;
</code></pre>
<h3 id="deposit-13"><a class="header" href="#deposit-13">deposit</a></h3>
<p>This function deposits <code>assetsIn</code> of <code>asset</code>, regardless of the amount of vault shares minted.</p>
<p><em>emits Deposit(caller, receiver, asset, assetsIn, sharesOut);</em></p>
<pre><code class="language-solidity">function deposit(address assetAddr, uint256 assetsIn, address receiver)
    public
    virtual
    check(assetAddr)
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to deposit.</td></tr>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> to deposit.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive <code>sharesOut</code> of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares minted for <code>assetsIn</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="mint-8"><a class="header" href="#mint-8">mint</a></h3>
<p>This function mints <code>sharesOut</code> of vault shares, regardless of the amount of <code>asset</code> received.</p>
<p><em>emits Deposit(caller, receiver, asset, assetsIn, sharesOut);</em></p>
<pre><code class="language-solidity">function mint(address assetAddr, uint256 sharesOut, address receiver)
    public
    virtual
    check(assetAddr)
    returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to deposit.</td></tr>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares desired to mint.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive <code>sharesOut</code> of shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Assets used to mint <code>sharesOut</code> of vault shares.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="redeem-4"><a class="header" href="#redeem-4">redeem</a></h3>
<p>This function burns <code>sharesIn</code> of shares from <code>owner</code>, regardless of the amount of <code>asset</code> received.</p>
<p><em>emits Withdraw(caller, receiver, asset, owner, assetsOut, sharesIn);</em></p>
<pre><code class="language-solidity">function redeem(address assetAddr, uint256 sharesIn, address receiver, address owner)
    public
    virtual
    check(assetAddr)
    returns (uint256 assetsOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to redeem.</td></tr>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares to redeem.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive the redeemed assets.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> used for redeem <code>assetsOut</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-14"><a class="header" href="#withdraw-14">withdraw</a></h3>
<p>This function withdraws <code>assetsOut</code> of assets, regardless of the amount of vault shares required.</p>
<p><em>emits Withdraw(caller, receiver, asset, owner, assetsOut, sharesIn);</em></p>
<pre><code class="language-solidity">function withdraw(address assetAddr, uint256 assetsOut, address receiver, address owner)
    public
    virtual
    check(assetAddr)
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to withdraw.</td></tr>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> desired to withdraw.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive the withdrawn assets.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares used to withdraw <code>assetsOut</code> of <code>asset</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getconfig-1"><a class="header" href="#getconfig-1">getConfig</a></h3>
<p>Returns the current vault configuration</p>
<pre><code class="language-solidity">function getConfig() external view returns (VaultConfiguration memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>VaultConfiguration</code></td><td>config Vault configuration struct</td></tr>
</tbody></table>
</div>
<h3 id="assets-2"><a class="header" href="#assets-2">assets</a></h3>
<p>Returns the asset struct for a given asset</p>
<pre><code class="language-solidity">function assets(address assetAddr) external view returns (VaultAsset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>VaultAsset</code></td><td>asset Asset struct for <code>asset</code></td></tr>
</tbody></table>
</div>
<h3 id="assetprice-1"><a class="header" href="#assetprice-1">assetPrice</a></h3>
<pre><code class="language-solidity">function assetPrice(address assetAddr) external view returns (uint256);
</code></pre>
<h3 id="totalassets-5"><a class="header" href="#totalassets-5">totalAssets</a></h3>
<p>Returns the total value of all assets in the shares contract in USD WAD precision.</p>
<pre><code class="language-solidity">function totalAssets() public view virtual returns (uint256 result);
</code></pre>
<h3 id="exchangerate-4"><a class="header" href="#exchangerate-4">exchangeRate</a></h3>
<p>Returns the exchange rate of one vault share to USD.</p>
<pre><code class="language-solidity">function exchangeRate() public view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>rate Exchange rate of one vault share to USD in wad precision.</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-3"><a class="header" href="#previewdeposit-3">previewDeposit</a></h3>
<p>This function is used for previewing the amount of shares minted for <code>assetsIn</code> of <code>asset</code>.</p>
<pre><code class="language-solidity">function previewDeposit(address assetAddr, uint256 assetsIn)
    public
    view
    virtual
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> in.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares minted.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-3"><a class="header" href="#previewmint-3">previewMint</a></h3>
<p>This function is used for previewing <code>assetsIn</code> of <code>asset</code> required to mint <code>sharesOut</code> of vault shares.</p>
<pre><code class="language-solidity">function previewMint(address assetAddr, uint256 sharesOut)
    public
    view
    virtual
    returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Desired amount of vault shares to mint.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> required.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-3"><a class="header" href="#previewredeem-3">previewRedeem</a></h3>
<p>This function is used for previewing <code>assetsOut</code> of <code>asset</code> received for <code>sharesIn</code> of vault shares.</p>
<pre><code class="language-solidity">function previewRedeem(address assetAddr, uint256 sharesIn)
    public
    view
    virtual
    returns (uint256 assetsOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Desired amount of vault shares to burn.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> received.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-3"><a class="header" href="#previewwithdraw-3">previewWithdraw</a></h3>
<p>This function is used for previewing <code>sharesIn</code> of vault shares required to burn for <code>assetsOut</code> of <code>asset</code>.</p>
<pre><code class="language-solidity">function previewWithdraw(address assetAddr, uint256 assetsOut)
    public
    view
    virtual
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Desired amount of <code>asset</code> out.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares required.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="maxredeem-3"><a class="header" href="#maxredeem-3">maxRedeem</a></h3>
<p>Returns the maximum redeemable amount for <code>user</code></p>
<pre><code class="language-solidity">function maxRedeem(address assetAddr, address owner) public view virtual returns (uint256 max);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>max</code></td><td><code>uint256</code></td><td>sharesIn Maximum redeemable amount of <code>shares</code> (vault share balance)</td></tr>
</tbody></table>
</div>
<h3 id="maxwithdraw-3"><a class="header" href="#maxwithdraw-3">maxWithdraw</a></h3>
<p>Returns the maximum redeemable amount for <code>user</code></p>
<pre><code class="language-solidity">function maxWithdraw(address assetAddr, address owner) external view returns (uint256 max);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>max</code></td><td><code>uint256</code></td><td>amountOut Maximum amount of <code>asset</code> received.</td></tr>
</tbody></table>
</div>
<h3 id="maxdeposit-3"><a class="header" href="#maxdeposit-3">maxDeposit</a></h3>
<p>Returns the maximum deposit amount of <code>asset</code></p>
<pre><code class="language-solidity">function maxDeposit(address assetAddr) public view virtual returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assetsIn Maximum depositable amount of assets.</td></tr>
</tbody></table>
</div>
<h3 id="maxmint-3"><a class="header" href="#maxmint-3">maxMint</a></h3>
<p>Returns the maximum mint using <code>asset</code></p>
<pre><code class="language-solidity">function maxMint(address assetAddr, address user) external view virtual returns (uint256 max);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>user</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>max</code></td><td><code>uint256</code></td><td>sharesOut Maximum mint amount.</td></tr>
</tbody></table>
</div>
<h3 id="setsequenceruptimefeed-2"><a class="header" href="#setsequenceruptimefeed-2">setSequencerUptimeFeed</a></h3>
<pre><code class="language-solidity">function setSequencerUptimeFeed(address newFeedAddr, uint96 gracePeriod) external onlyGovernance;
</code></pre>
<h3 id="addasset-3"><a class="header" href="#addasset-3">addAsset</a></h3>
<p>Adds a new asset to the vault</p>
<pre><code class="language-solidity">function addAsset(VaultAsset memory assetConfig) external onlyGovernance returns (VaultAsset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetConfig</code></td><td><code>VaultAsset</code></td><td>Asset to add</td></tr>
</tbody></table>
</div>
<h3 id="removeasset-1"><a class="header" href="#removeasset-1">removeAsset</a></h3>
<p>Removes an asset from the vault</p>
<pre><code class="language-solidity">function removeAsset(address assetAddr) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset address to remove emits assetRemoved(asset, block.timestamp);</td></tr>
</tbody></table>
</div>
<h3 id="setassetfeed-1"><a class="header" href="#setassetfeed-1">setAssetFeed</a></h3>
<p>Sets a new oracle for a asset</p>
<pre><code class="language-solidity">function setAssetFeed(address assetAddr, address newFeedAddr, uint24 newStaleTime) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to set the oracle for</td></tr>
<tr><td><code>newFeedAddr</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>newStaleTime</code></td><td><code>uint24</code></td><td>Time in seconds for the feed to be considered stale</td></tr>
</tbody></table>
</div>
<h3 id="setfeedpriceprecision-1"><a class="header" href="#setfeedpriceprecision-1">setFeedPricePrecision</a></h3>
<p>Sets a new oracle decimals</p>
<pre><code class="language-solidity">function setFeedPricePrecision(uint8 newDecimals) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newDecimals</code></td><td><code>uint8</code></td><td>New oracle decimal precision</td></tr>
</tbody></table>
</div>
<h3 id="setassetenabled-1"><a class="header" href="#setassetenabled-1">setAssetEnabled</a></h3>
<p>Sets the enabled status for a asset</p>
<pre><code class="language-solidity">function setAssetEnabled(address assetAddr, bool isEnabled) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to set the enabled status for</td></tr>
<tr><td><code>isEnabled</code></td><td><code>bool</code></td><td>Enabled status to set</td></tr>
</tbody></table>
</div>
<h3 id="setdepositfee-1"><a class="header" href="#setdepositfee-1">setDepositFee</a></h3>
<p>Sets the deposit fee for a asset</p>
<pre><code class="language-solidity">function setDepositFee(address assetAddr, uint16 newDepositFee) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to set the deposit fee for</td></tr>
<tr><td><code>newDepositFee</code></td><td><code>uint16</code></td><td>Fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setwithdrawfee-1"><a class="header" href="#setwithdrawfee-1">setWithdrawFee</a></h3>
<p>Sets the withdraw fee for a asset</p>
<pre><code class="language-solidity">function setWithdrawFee(address assetAddr, uint16 newWithdrawFee) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to set the withdraw fee for</td></tr>
<tr><td><code>newWithdrawFee</code></td><td><code>uint16</code></td><td>Fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setmaxdeposits-1"><a class="header" href="#setmaxdeposits-1">setMaxDeposits</a></h3>
<p>Sets the max deposit amount for a asset</p>
<pre><code class="language-solidity">function setMaxDeposits(address assetAddr, uint248 newMaxDeposits) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetAddr</code></td><td><code>address</code></td><td>Asset to set the max deposits for</td></tr>
<tr><td><code>newMaxDeposits</code></td><td><code>uint248</code></td><td>Max deposits to set</td></tr>
</tbody></table>
</div>
<h3 id="setgovernance-1"><a class="header" href="#setgovernance-1">setGovernance</a></h3>
<p>Current governance sets a new governance address</p>
<pre><code class="language-solidity">function setGovernance(address newGovernance) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newGovernance</code></td><td><code>address</code></td><td>The new governance address</td></tr>
</tbody></table>
</div>
<h3 id="setfeerecipient-5"><a class="header" href="#setfeerecipient-5">setFeeRecipient</a></h3>
<p>Current governance sets a new fee recipient address</p>
<pre><code class="language-solidity">function setFeeRecipient(address newFeeRecipient) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newFeeRecipient</code></td><td><code>address</code></td><td>The new fee recipient address</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-29"><a class="header" href="#contents-29">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/vendor/IERC165.sol/interface.IERC165.html">IERC165</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc165"><a class="header" href="#ierc165">IERC165</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/9ea882f6ec88280acfb1da2b083631692f6edd8f/src/contracts/core/vendor/IERC165.sol">Git Source</a></p>
<h2 id="functions-120"><a class="header" href="#functions-120">Functions</a></h2>
<h3 id="supportsinterface-5"><a class="header" href="#supportsinterface-5">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
