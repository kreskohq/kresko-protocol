<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="index.html">Home</a></li><li class="chapter-item affix "><li class="part-title">src</li><li class="chapter-item "><a href="src/contracts/index.html">❱ contracts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/index.html">❱ core</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/common/index.html">❱ common</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/common/facets/index.html">❱ facets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/common/facets/AssetConfigurationFacet.sol/contract.AssetConfigurationFacet.html">AssetConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/facets/AssetStateFacet.sol/contract.AssetStateFacet.html">AssetStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/facets/AuthorizationFacet.sol/contract.AuthorizationFacet.html">AuthorizationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/facets/CommonConfigurationFacet.sol/contract.CommonConfigurationFacet.html">CommonConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/facets/CommonStateFacet.sol/contract.CommonStateFacet.html">CommonStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/facets/SafetyCouncilFacet.sol/contract.SafetyCouncilFacet.html">SafetyCouncilFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/index.html">❱ funcs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/common/funcs/Actions.sol/function.mintKrAsset.html">mintKrAsset</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Actions.sol/function.mintSCDP.html">mintSCDP</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Actions.sol/function.burnSCDP.html">burnSCDP</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Actions.sol/function.burnKrAsset.html">burnKrAsset</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Asset.sol/library.CAsset.html">CAsset</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Helpers.sol/function.collateralAmountToValues.html">collateralAmountToValues</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Helpers.sol/function.debtAmountToValues.html">debtAmountToValues</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Math.sol/function.valueToAmount.html">valueToAmount</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Math.sol/function.fromWad.html">fromWad</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Math.sol/function.toWad.html">toWad</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.aggregatorV3Price.html">aggregatorV3Price</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.pushPrice.html">pushPrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.API3PriceWithTimestamp.html">API3PriceWithTimestamp</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.safePrice.html">safePrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.usdWad.html">usdWad</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.aggregatorV3PriceWithTimestamp.html">aggregatorV3PriceWithTimestamp</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.divByPrice.html">divByPrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.SDIPrice.html">SDIPrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.oraclePrice.html">oraclePrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.handleSequencerDown.html">handleSequencerDown</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.wadToDecimal.html">wadToDecimal</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.deducePrice.html">deducePrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.API3Price.html">API3Price</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Prices.sol/function.oraclePriceToWad.html">oraclePriceToWad</a></li><li class="chapter-item "><a href="src/contracts/core/common/funcs/Utils.sol/function.isSequencerUp.html">isSequencerUp</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/common/interfaces/IAssetConfigurationFacet.sol/interface.IAssetConfigurationFacet.html">IAssetConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/IAssetStateFacet.sol/interface.IAssetStateFacet.html">IAssetStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/IAuthorizationFacet.sol/interface.IAuthorizationFacet.html">IAuthorizationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/ICommonConfigurationFacet.sol/interface.ICommonConfigurationFacet.html">ICommonConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/ICommonStateFacet.sol/interface.ICommonStateFacet.html">ICommonStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/IERC1155.sol/interface.IERC1155.html">IERC1155</a></li><li class="chapter-item "><a href="src/contracts/core/common/interfaces/ISafetyCouncilFacet.sol/interface.ISafetyCouncilFacet.html">ISafetyCouncilFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/common/Auth.sol/interface.IGnosisSafeL2.html">IGnosisSafeL2</a></li><li class="chapter-item "><a href="src/contracts/core/common/Auth.sol/library.Auth.html">Auth</a></li><li class="chapter-item "><a href="src/contracts/core/common/CError.sol/library.CError.html">CError</a></li><li class="chapter-item "><a href="src/contracts/core/common/Constants.sol/library.Constants.html">Constants</a></li><li class="chapter-item "><a href="src/contracts/core/common/Constants.sol/library.Percents.html">Percents</a></li><li class="chapter-item "><a href="src/contracts/core/common/Constants.sol/constants.Constants.html">Constants</a></li><li class="chapter-item "><a href="src/contracts/core/common/Events.sol/library.DiamondEvent.html">DiamondEvent</a></li><li class="chapter-item "><a href="src/contracts/core/common/Events.sol/library.StakingEvent.html">StakingEvent</a></li><li class="chapter-item "><a href="src/contracts/core/common/Events.sol/library.AuthEvent.html">AuthEvent</a></li><li class="chapter-item "><a href="src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a></li><li class="chapter-item "><a href="src/contracts/core/common/State.sol/struct.CommonState.html">CommonState</a></li><li class="chapter-item "><a href="src/contracts/core/common/State.sol/struct.GatingState.html">GatingState</a></li><li class="chapter-item "><a href="src/contracts/core/common/State.sol/function.cs.html">cs</a></li><li class="chapter-item "><a href="src/contracts/core/common/State.sol/function.gs.html">gs</a></li><li class="chapter-item "><a href="src/contracts/core/common/State.sol/constants.State.html">State constants</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/library.Role.html">Role</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.Oracle.html">Oracle</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/enum.OracleType.html">OracleType</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.FeedConfiguration.html">FeedConfiguration</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.Asset.html">Asset</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.RoleData.html">RoleData</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.MaxLiqVars.html">MaxLiqVars</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.MaxLiqInfo.html">MaxLiqInfo</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.PushPrice.html">PushPrice</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.Pause.html">Pause</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.SafetyState.html">SafetyState</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.CommonInitArgs.html">CommonInitArgs</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.SCDPCollateralArgs.html">SCDPCollateralArgs</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/struct.SCDPKrAssetArgs.html">SCDPKrAssetArgs</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/enum.Action.html">Action</a></li><li class="chapter-item "><a href="src/contracts/core/common/Types.sol/constants.Types.html">Types constants</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/diamond/index.html">❱ diamond</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/diamond/facets/index.html">❱ facets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol/contract.DiamondCutFacet.html">DiamondCutFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/facets/DiamondLoupeFacet.sol/contract.DiamondLoupeFacet.html">DiamondLoupeFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/facets/DiamondOwnershipFacet.sol/contract.DiamondOwnershipFacet.html">DiamondOwnershipFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/facets/ERC165Facet.sol/contract.ERC165Facet.html">ERC165Facet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/diamond/funcs/index.html">❱ funcs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/diamond/funcs/Core.sol/library.DCore.html">DCore</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/funcs/Cuts.sol/library.DCuts.html">DCuts</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/funcs/Cuts.sol/function.initializeDiamondCut.html">initializeDiamondCut</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol/interface.IDiamondCutFacet.html">IDiamondCutFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/IDiamondLoupeFacet.sol/interface.IDiamondLoupeFacet.html">IDiamondLoupeFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/IDiamondOwnershipFacet.sol/interface.IDiamondOwnershipFacet.html">IDiamondOwnershipFacet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/interfaces/IERC165Facet.sol/interface.IERC165Facet.html">IERC165Facet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/diamond/Diamond.sol/contract.Diamond.html">Diamond</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/State.sol/struct.DiamondState.html">DiamondState</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/State.sol/function.ds.html">ds</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/State.sol/constants.State.html">State constants</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/Types.sol/struct.Facet.html">Facet</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/Types.sol/struct.FacetAddressAndPosition.html">FacetAddressAndPosition</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/Types.sol/struct.FacetFunctionSelectors.html">FacetFunctionSelectors</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/Types.sol/enum.FacetCutAction.html">FacetCutAction</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/Types.sol/struct.FacetCut.html">FacetCut</a></li><li class="chapter-item "><a href="src/contracts/core/diamond/Types.sol/struct.Initialization.html">Initialization</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/kiss/index.html">❱ kiss</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/kiss/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/kiss/interfaces/IKISS.sol/interface.IKISS.html">IKISS</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/kiss/KISS.sol/contract.KISS.html">KISS</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/index.html">❱ kresko-asset</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/kresko-asset/ERC4626Upgradeable.sol/abstract.ERC4626Upgradeable.html">ERC4626Upgradeable</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/IERC4626Upgradeable.sol/interface.IERC4626Upgradeable.html">IERC4626Upgradeable</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/IKreskoAsset.sol/interface.ISyncable.html">ISyncable</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/IKreskoAsset.sol/interface.IKreskoAsset.html">IKreskoAsset</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol/interface.IKreskoAssetAnchor.html">IKreskoAssetAnchor</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/IKreskoAssetIssuer.sol/interface.IKreskoAssetIssuer.html">IKreskoAssetIssuer</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/KreskoAsset.sol/contract.KreskoAsset.html">KreskoAsset</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/KreskoAssetAnchor.sol/contract.KreskoAssetAnchor.html">KreskoAssetAnchor</a></li><li class="chapter-item "><a href="src/contracts/core/kresko-asset/Rebaser.sol/library.Rebaser.html">Rebaser</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/libs/index.html">❱ libs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/libs/Arrays.sol/library.Arrays.html">Arrays</a></li><li class="chapter-item "><a href="src/contracts/core/libs/EnumerableSet.sol/library.EnumerableSet.html">EnumerableSet</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Meta.sol/library.Meta.html">Meta</a></li><li class="chapter-item "><a href="src/contracts/core/libs/PercentageMath.sol/library.PercentageMath.html">PercentageMath</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Redstone.sol/library.Redstone.html">Redstone</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Redstone.sol/function.add.html">add</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Redstone.sol/function.sub.html">sub</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Redstone.sol/constants.Redstone.html">Redstone constants</a></li><li class="chapter-item "><a href="src/contracts/core/libs/RedstoneInternals.sol/library.NumericArrayLib.html">NumericArrayLib</a></li><li class="chapter-item "><a href="src/contracts/core/libs/RedstoneInternals.sol/library.RedstoneDefaultsLib.html">RedstoneDefaultsLib</a></li><li class="chapter-item "><a href="src/contracts/core/libs/RedstoneInternals.sol/library.BitmapLib.html">BitmapLib</a></li><li class="chapter-item "><a href="src/contracts/core/libs/RedstoneInternals.sol/library.SignatureLib.html">SignatureLib</a></li><li class="chapter-item "><a href="src/contracts/core/libs/RedstoneInternals.sol/library.RedstoneError.html">RedstoneError</a></li><li class="chapter-item "><a href="src/contracts/core/libs/Strings.sol/library.Strings.html">Strings</a></li><li class="chapter-item "><a href="src/contracts/core/libs/WadRay.sol/library.WadRay.html">WadRay</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/minter/index.html">❱ minter</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/minter/facets/index.html">❱ facets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/minter/facets/AccountStateFacet.sol/contract.AccountStateFacet.html">AccountStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/AccountStateFacet.sol/function.accountTotalCollateralValues.html">accountTotalCollateralValues</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/AccountStateFacet.sol/function.accountTotalDebtValues.html">accountTotalDebtValues</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/BurnFacet.sol/contract.BurnFacet.html">BurnFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/ConfigurationFacet.sol/contract.ConfigurationFacet.html">ConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/DepositWithdrawFacet.sol/contract.DepositWithdrawFacet.html">DepositWithdrawFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/LiquidationFacet.sol/contract.LiquidationFacet.html">LiquidationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/MintFacet.sol/contract.MintFacet.html">MintFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/facets/StateFacet.sol/contract.StateFacet.html">StateFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/minter/funcs/index.html">❱ funcs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/minter/funcs/Accounts.sol/library.MAccounts.html">MAccounts</a></li><li class="chapter-item "><a href="src/contracts/core/minter/funcs/Core.sol/library.MCore.html">MCore</a></li><li class="chapter-item "><a href="src/contracts/core/minter/funcs/Fees.sol/function.handleMinterFee.html">handleMinterFee</a></li><li class="chapter-item "><a href="src/contracts/core/minter/funcs/Fees.sol/function._calcAndHandleCollateralsArray.html">_calcAndHandleCollateralsArray</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IAccountStateFacet.sol/interface.IAccountStateFacet.html">IAccountStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IBurnFacet.sol/interface.IBurnFacet.html">IBurnFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/ICollateralReceiver.sol/interface.ICollateralReceiver.html">ICollateralReceiver</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IConfigurationFacet.sol/interface.IConfigurationFacet.html">IConfigurationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IDepositWithdrawFacet.sol/interface.IDepositWithdrawFacet.html">IDepositWithdrawFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/ILiquidationFacet.sol/interface.ILiquidationFacet.html">ILiquidationFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IMintFacet.sol/interface.IMintFacet.html">IMintFacet</a></li><li class="chapter-item "><a href="src/contracts/core/minter/interfaces/IStateFacet.sol/interface.IStateFacet.html">IStateFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/minter/Events.sol/library.MEvent.html">MEvent</a></li><li class="chapter-item "><a href="src/contracts/core/minter/State.sol/struct.MinterState.html">MinterState</a></li><li class="chapter-item "><a href="src/contracts/core/minter/State.sol/function.ms.html">ms</a></li><li class="chapter-item "><a href="src/contracts/core/minter/State.sol/constants.State.html">State constants</a></li><li class="chapter-item "><a href="src/contracts/core/minter/Types.sol/struct.MinterAccountState.html">MinterAccountState</a></li><li class="chapter-item "><a href="src/contracts/core/minter/Types.sol/struct.MinterInitArgs.html">MinterInitArgs</a></li><li class="chapter-item "><a href="src/contracts/core/minter/Types.sol/struct.MinterParams.html">MinterParams</a></li><li class="chapter-item "><a href="src/contracts/core/minter/Types.sol/enum.MinterFee.html">MinterFee</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/scdp/index.html">❱ scdp</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/scdp/facets/index.html">❱ facets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SCDPConfigFacet.sol/contract.SCDPConfigFacet.html">SCDPConfigFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SCDPFacet.sol/contract.SCDPFacet.html">SCDPFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SCDPStateFacet.sol/contract.SCDPStateFacet.html">SCDPStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol/contract.SCDPSwapFacet.html">SCDPSwapFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol/function.getSwapFees.html">getSwapFees</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/facets/SDIFacet.sol/contract.SDIFacet.html">SDIFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/index.html">❱ funcs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/Accounts.sol/library.SAccounts.html">SAccounts</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/Deposits.sol/library.SDeposits.html">SDeposits</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/Global.sol/library.SGlobal.html">SGlobal</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/Helpers.sol/function.totalCollateralValuesSCDP.html">totalCollateralValuesSCDP</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/Helpers.sol/function.totalDebtValuesAtRatioSCDP.html">totalDebtValuesAtRatioSCDP</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/Helpers.sol/function.accountDepositAmountsAndValues.html">accountDepositAmountsAndValues</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/Helpers.sol/function.accountTotalDepositValues.html">accountTotalDepositValues</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/SDI.sol/library.SDebtIndex.html">SDebtIndex</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/funcs/Swap.sol/library.Swap.html">Swap</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/ISCDPConfigFacet.sol/interface.ISCDPConfigFacet.html">ISCDPConfigFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/ISCDPFacet.sol/interface.ISCDPFacet.html">ISCDPFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/ISCDPStateFacet.sol/interface.ISCDPStateFacet.html">ISCDPStateFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/ISCDPSwapFacet.sol/interface.ISCDPSwapFacet.html">ISCDPSwapFacet</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/interfaces/ISDIFacet.sol/interface.ISDIFacet.html">ISDIFacet</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/scdp/Events.sol/library.SEvent.html">SEvent</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/SDICoverRecipient.sol/contract.SDICoverRecipient.html">SDICoverRecipient</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/State.sol/struct.SCDPState.html">SCDPState</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/State.sol/struct.SDIState.html">SDIState</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/State.sol/function.sdi.html">sdi</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/State.sol/function.scdp.html">scdp</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/State.sol/constants.State.html">State constants</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/Types.sol/struct.SCDPInitArgs.html">SCDPInitArgs</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/Types.sol/struct.PairSetter.html">PairSetter</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/Types.sol/struct.SCDPAssetData.html">SCDPAssetData</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/Types.sol/struct.GlobalData.html">GlobalData</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/Types.sol/struct.AssetData.html">AssetData</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/Types.sol/struct.UserAssetData.html">UserAssetData</a></li><li class="chapter-item "><a href="src/contracts/core/scdp/Types.sol/struct.UserData.html">UserData</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/test/index.html">❱ test</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/test/mocks/index.html">❱ mocks</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC1155.sol/contract.MockERC1155.html">MockERC1155</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20Restricted.html">MockERC20Restricted</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.WETH.html">WETH</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.USDC.html">USDC</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.DAI.html">DAI</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.USDT.html">USDT</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockOracle.sol/contract.MockOracle.html">MockOracle</a></li><li class="chapter-item "><a href="src/contracts/core/test/mocks/MockSequencerUptimeFeed.sol/contract.MockSequencerUptimeFeed.html">MockSequencerUptimeFeed</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/test/redstone/index.html">❱ redstone</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/test/redstone/CalldataExtractor.sol/contract.CalldataExtractor.html">CalldataExtractor</a></li><li class="chapter-item "><a href="src/contracts/core/test/redstone/ProxyConnector.sol/contract.ProxyConnector.html">ProxyConnector</a></li><li class="chapter-item "><a href="src/contracts/core/test/redstone/RedstoneConstants.sol/contract.RedstoneConstants.html">RedstoneConstants</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/index.html">❱ smocks</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/test/smocks/ISmockFacet.sol/interface.ISmockFacet.html">ISmockFacet</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockCollateralReceiver.sol/contract.SmockCollateralReceiver.html">SmockCollateralReceiver</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockFacet.sol/contract.SmockFacet.html">SmockFacet</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockFacet.sol/constants.SmockFacet.html">SmockFacet constants</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockFacet2.sol/contract.SmockFacet2.html">SmockFacet2</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockInit.sol/contract.SmockInit.html">SmockInit</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockStorage.sol/library.Errors.html">Errors</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockStorage.sol/struct.SmockState.html">SmockState</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockStorage.sol/struct.SmockState2.html">SmockState2</a></li><li class="chapter-item "><a href="src/contracts/core/test/smocks/SmockStorage.sol/library.SmockStorage.html">SmockStorage</a></li></ol></li></ol></li><li class="chapter-item "><a href="src/contracts/core/vault/index.html">❱ vault</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/vault/funcs/index.html">❱ funcs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/vault/funcs/Assets.sol/library.VAssets.html">VAssets</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/vault/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/vault/interfaces/IVault.sol/interface.IVault.html">IVault</a></li><li class="chapter-item "><a href="src/contracts/core/vault/interfaces/IVaultExtender.sol/interface.IVaultExtender.html">IVaultExtender</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/vault/Events.sol/library.VEvent.html">VEvent</a></li><li class="chapter-item "><a href="src/contracts/core/vault/Types.sol/struct.VaultAsset.html">VaultAsset</a></li><li class="chapter-item "><a href="src/contracts/core/vault/Vault.sol/contract.Vault.html">Vault</a></li></ol></li><li class="chapter-item "><a href="src/contracts/core/vendor/index.html">❱ vendor</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/contracts/core/vendor/AggregatorV3Interface.sol/interface.AggregatorV3Interface.html">AggregatorV3Interface</a></li><li class="chapter-item "><a href="src/contracts/core/vendor/ERC20.sol/abstract.ERC20.html">ERC20</a></li><li class="chapter-item "><a href="src/contracts/core/vendor/ERC20Upgradeable.sol/contract.ERC20Upgradeable.html">ERC20Upgradeable</a></li><li class="chapter-item "><a href="src/contracts/core/vendor/IERC165.sol/interface.IERC165.html">IERC165</a></li><li class="chapter-item "><a href="src/contracts/core/vendor/IERC20Permit.sol/interface.IERC20Permit.html">IERC20Permit</a></li><li class="chapter-item "><a href="src/contracts/core/vendor/IProxy.sol/interface.IProxy.html">IProxy</a></li><li class="chapter-item "><a href="src/contracts/core/vendor/SafeERC20.sol/library.SafeERC20.html">SafeERC20</a></li><li class="chapter-item "><a href="src/contracts/core/vendor/SafeERC20Permit.sol/library.SafeERC20Permit.html">SafeERC20Permit</a></li><li class="chapter-item "><a href="src/contracts/core/vendor/SafeERC20Upgradeable.sol/library.SafeERC20Upgradeable.html">SafeERC20Upgradeable</a></li><li class="chapter-item "><a href="src/contracts/core/vendor/WETH9.sol/contract.WETH9.html">WETH9</a></li></ol></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/kreskohq/kresko-protocol" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="kresko-protocol"><a class="header" href="#kresko-protocol">Kresko Protocol</a></h1>
<p>This repository contains the core smart contract code for Kresko protocol, which supports the creation and management of crypto-backed synthetic assets. Prices for synthetic assets are committed on chain by trusted oracles. Kresko uses a proxy system so that contract upgrades are not disruptive to protocol functionality. This is a usage and integration guide that assumes familiarity with the basic economic mechanics as described in the litepaper.</p>
<p><a href="https://github.com/kreskohq/kresko-protocol/actions/workflows/run-test-suite.yml?branch=develop"><img src="https://github.com/kreskohq/kresko-protocol/actions/workflows/run-test-suite.yml/badge.svg?branch=develop" alt="run test suite" /></a></p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<h3 id="setup"><a class="header" href="#setup">Setup</a></h3>
<p><b><em>You need a authorized npm token in .npmrc to install required internal dependencies, this will be lifted later on.</em></b> <br/></p>
<p>Install dependencies with an authorized .npmrc:</p>
<pre><code class="language-sh">pnpm i
</code></pre>
<h3 id="testing"><a class="header" href="#testing">Testing</a></h3>
<p>Create local .env file:</p>
<pre><code class="language-sh">cp .env.example .env
</code></pre>
<p>Minimum required values:</p>
<pre><code class="language-sh">MNEMONIC=some mnemonic
LIQUIDATION_INCENTIVE=1.05
LIQUIDATION_THRESHOLD=1.4
MINIMUM_COLLATERALIZATION_RATIO=1.5
MINIMUM_DEBT_VALUE=10
ALCHEMY_API_KEY=alchemy api key
TWELVE_DATA_API_KEY=twelve data api key
TREASURY=0x0000000000000000000000000000000000000001
MULTISIG=0x0000000000000000000000000000000000000002
OPERATOR=0x0000000000000000000000000000000000000003
ADMIN=0x0000000000000000000000000000000000000004
FEED_VALIDATOR=0x0000000000000000000000000000000000000005
FEED_VALIDATOR_PK=some private key
FUNDER=0x0000000000000000000000000000000000000006

</code></pre>
<p>Ensure a working setup by performing a dry-run of the local deployment setup:</p>
<pre><code class="language-sh">pnpm run deploy --tags local
</code></pre>
<p>Run tests with against a local deployment fixture:</p>
<pre><code class="language-sh">pnpm test
</code></pre>
<h3 id="deployment"><a class="header" href="#deployment">Deployment</a></h3>
<p>To local network:</p>
<pre><code class="language-sh">pnpm local
</code></pre>
<p>To live network:</p>
<pre><code class="language-sh">pnpm deploy --network &lt;network&gt;
</code></pre>
<h3 id="forking"><a class="header" href="#forking">Forking</a></h3>
<ul>
<li>value of <code>process.env.FORKING</code> maps to network key and it's setup within <code>hardhat-configs/networks</code></li>
<li>set a specific block with <code>process.env.FORKING_BLOCKNUMBER</code></li>
<li>HRE is extended with helpers to get live deployments within the forked network (https://github.com/wighawag/hardhat-deploy#companionnetworks)</li>
</ul>
<p>Run deploy in fork</p>
<pre><code class="language-sh">pnpm fork:deploy
</code></pre>
<p>Run tests with <code>--grep Forking</code></p>
<pre><code class="language-sh">pnpm fork:test
</code></pre>
<h2 id="notes-about-the-usage-of-erc-2535-diamond"><a class="header" href="#notes-about-the-usage-of-erc-2535-diamond">Notes about the usage of <a href="https://eips.ethereum.org/EIPS/eip-2535">ERC-2535</a> (Diamond)</a></h2>
<h3 id="general"><a class="header" href="#general">General</a></h3>
<ul>
<li>
<p>All external functions are contained in the facets, <code>hardhat-diamond-abi</code> will combine their ABI to a separate artifact (Kresko.json) after compile.</p>
</li>
<li>
<p>Core logic is mostly defined inside library functions. These internal functions are attached to the minter storage struct for ease of use.</p>
</li>
<li>
<p>Storage is used through a inline assembly pointer inside free function. To access the storage (+ attached internal lib functions) simply call the free function anywhere within the diamond.</p>
</li>
<li>
<p>Note that Staking, AMM and KreskoAsset contracts do not live inside the diamond scope.</p>
</li>
</ul>
<h3 id="state"><a class="header" href="#state">State</a></h3>
<h4 id="nay"><a class="header" href="#nay">Nay</a></h4>
<ul>
<li>
<p>Do not add new state variables to the beginning or middle of structs. Doing this makes the new state variable overwrite existing state variable data and all state variables after the new state variable reference the wrong storage location.</p>
</li>
<li>
<p>Do not put structs directly in structs unless you don’t plan on ever adding more state variables to the inner structs. You won't be able to add new state variables to inner structs in upgrades. This makes sense because a struct uses a fixed number of storage locations. Adding a new state variable to an inner struct would cause the next state variable after the inner struct to be overwritten. Structs that are in mappings can be extended in upgrades, because those structs are stored in random locations based on keccak256 hashing.</p>
</li>
<li>
<p>Do not add new state variables to structs that are used in arrays.</p>
</li>
<li>
<p>Do not use the same namespace string for different structs. This is obvious. Two different structs at the same location will overwrite each other.</p>
</li>
</ul>
<h4 id="yay"><a class="header" href="#yay">Yay</a></h4>
<ul>
<li>
<p>To add new state variables to DiamondStorage pattern in eg. MinterStorage (ms), add them to the end of the struct. This makes sense because it is not possible for existing facets to overwrite state variables at new storage locations.</p>
</li>
<li>
<p>New state variables can be added to the ends of structs that are used in mappings.</p>
</li>
<li>
<p>The names of state variables can be changed, but that might be confusing if different facets are using different names for the same storage locations.</p>
</li>
</ul>
<p><em>Learning references</em></p>
<p><em>https://eip2535diamonds.substack.com/p/compliance-with-eip-2535-diamonds</em></p>
<p><em>https://github.com/solidstate-network/solidstate-solidity</em></p>
<p><em>https://eip2535diamonds.substack.com/p/how-eip2535-diamonds-reduces-gas</em></p>
<h3 id="contributions"><a class="header" href="#contributions">Contributions</a></h3>
<p>Contributions to Kresko Protocol are encouraged, feel free to open an issue or pull request. <br/> All contributions are licensed under BUSL1.1.</p>
<h3 id="contact"><a class="header" href="#contact">Contact</a></h3>
<p>Critical bug disclosures and inquiries should be directed to: <br> <img src="https://user-images.githubusercontent.com/15370712/167093578-d6c0acd8-f32c-4ca3-b22e-76c2eef7f0e3.png" alt="contact_2" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="src/contracts//src/contracts/core">core</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="src/contracts/core//src/contracts/core/common">common</a></li>
<li><a href="src/contracts/core//src/contracts/core/diamond">diamond</a></li>
<li><a href="src/contracts/core//src/contracts/core/kiss">kiss</a></li>
<li><a href="src/contracts/core//src/contracts/core/kresko-asset">kresko-asset</a></li>
<li><a href="src/contracts/core//src/contracts/core/libs">libs</a></li>
<li><a href="src/contracts/core//src/contracts/core/minter">minter</a></li>
<li><a href="src/contracts/core//src/contracts/core/scdp">scdp</a></li>
<li><a href="src/contracts/core//src/contracts/core/test">test</a></li>
<li><a href="src/contracts/core//src/contracts/core/vault">vault</a></li>
<li><a href="src/contracts/core//src/contracts/core/vendor">vendor</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-2"><a class="header" href="#contents-2">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/common//src/contracts/core/common/facets">facets</a></li>
<li><a href="src/contracts/core/common//src/contracts/core/common/funcs">funcs</a></li>
<li><a href="src/contracts/core/common//src/contracts/core/common/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/common/Auth.sol/interface.IGnosisSafeL2.html">IGnosisSafeL2</a></li>
<li><a href="src/contracts/core/common/Auth.sol/library.Auth.html">Auth</a></li>
<li><a href="src/contracts/core/common/CError.sol/library.CError.html">CError</a></li>
<li><a href="src/contracts/core/common/Constants.sol/library.Constants.html">Constants</a></li>
<li><a href="src/contracts/core/common/Constants.sol/library.Percents.html">Percents</a></li>
<li><a href="src/contracts/core/common/Constants.sol/constants.Constants.html">Constants</a></li>
<li><a href="src/contracts/core/common/Events.sol/library.DiamondEvent.html">DiamondEvent</a></li>
<li><a href="src/contracts/core/common/Events.sol/library.StakingEvent.html">StakingEvent</a></li>
<li><a href="src/contracts/core/common/Events.sol/library.AuthEvent.html">AuthEvent</a></li>
<li><a href="src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a></li>
<li><a href="src/contracts/core/common/State.sol/struct.CommonState.html">CommonState</a></li>
<li><a href="src/contracts/core/common/State.sol/struct.GatingState.html">GatingState</a></li>
<li><a href="src/contracts/core/common/State.sol/function.cs.html">cs</a></li>
<li><a href="src/contracts/core/common/State.sol/function.gs.html">gs</a></li>
<li><a href="src/contracts/core/common/State.sol/constants.State.html">State constants</a></li>
<li><a href="src/contracts/core/common/Types.sol/library.Role.html">Role</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.Oracle.html">Oracle</a></li>
<li><a href="src/contracts/core/common/Types.sol/enum.OracleType.html">OracleType</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.FeedConfiguration.html">FeedConfiguration</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.Asset.html">Asset</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.RoleData.html">RoleData</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.MaxLiqVars.html">MaxLiqVars</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.MaxLiqInfo.html">MaxLiqInfo</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.PushPrice.html">PushPrice</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.Pause.html">Pause</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.SafetyState.html">SafetyState</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.CommonInitArgs.html">CommonInitArgs</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.SCDPCollateralArgs.html">SCDPCollateralArgs</a></li>
<li><a href="src/contracts/core/common/Types.sol/struct.SCDPKrAssetArgs.html">SCDPKrAssetArgs</a></li>
<li><a href="src/contracts/core/common/Types.sol/enum.Action.html">Action</a></li>
<li><a href="src/contracts/core/common/Types.sol/constants.Types.html">Types constants</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-3"><a class="header" href="#contents-3">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/common/facets/AssetConfigurationFacet.sol/contract.AssetConfigurationFacet.html">AssetConfigurationFacet</a></li>
<li><a href="src/contracts/core/common/facets/AssetStateFacet.sol/contract.AssetStateFacet.html">AssetStateFacet</a></li>
<li><a href="src/contracts/core/common/facets/AuthorizationFacet.sol/contract.AuthorizationFacet.html">AuthorizationFacet</a></li>
<li><a href="src/contracts/core/common/facets/CommonConfigurationFacet.sol/contract.CommonConfigurationFacet.html">CommonConfigurationFacet</a></li>
<li><a href="src/contracts/core/common/facets/CommonStateFacet.sol/contract.CommonStateFacet.html">CommonStateFacet</a></li>
<li><a href="src/contracts/core/common/facets/SafetyCouncilFacet.sol/contract.SafetyCouncilFacet.html">SafetyCouncilFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="assetconfigurationfacet"><a class="header" href="#assetconfigurationfacet">AssetConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/facets/AssetConfigurationFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/AssetConfigurationFacet.sol//src/contracts/core/common/interfaces/IAssetConfigurationFacet.sol/interface.IAssetConfigurationFacet.html">IAssetConfigurationFacet</a>, <a href="src/contracts/core/common/facets/AssetConfigurationFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a>, <a href="src/contracts/core/common/facets/AssetConfigurationFacet.sol//src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a></p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="addasset"><a class="header" href="#addasset">addAsset</a></h3>
<p>Adds a new asset to the system.</p>
<p><em>Use validatConfig or staticCall to validate config before calling this function.</em></p>
<pre><code class="language-solidity">function addAsset(address _assetAddr, Asset memory _config, FeedConfiguration memory _feedConfig, bool _setFeeds)
    external
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>The configuration for the asset.</td></tr>
<tr><td><code>_feedConfig</code></td><td><code>FeedConfiguration</code></td><td>The feed configuration for the asset.</td></tr>
<tr><td><code>_setFeeds</code></td><td><code>bool</code></td><td>Whether to actually set feeds or not.</td></tr>
</tbody></table>
</div>
<h3 id="updateasset"><a class="header" href="#updateasset">updateAsset</a></h3>
<p>Update asset config.</p>
<p><em>Use validatConfig or staticCall to validate config before calling this function.</em></p>
<pre><code class="language-solidity">function updateAsset(address _assetAddr, Asset memory _config) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>The configuration for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="updatefeeds"><a class="header" href="#updatefeeds">updateFeeds</a></h3>
<p>Set feeds for an asset Id.</p>
<pre><code class="language-solidity">function updateFeeds(bytes12 _assetId, FeedConfiguration memory _feedConfig) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetId</code></td><td><code>bytes12</code></td><td>Asset id.</td></tr>
<tr><td><code>_feedConfig</code></td><td><code>FeedConfiguration</code></td><td>List oracle configuration containing oracle identifiers and feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setchainlinkfeeds"><a class="header" href="#setchainlinkfeeds">setChainlinkFeeds</a></h3>
<p>Set chainlink feeds for assetIds.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setChainlinkFeeds(bytes12[] calldata _assetIds, address[] calldata _feeds) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIds</code></td><td><code>bytes12[]</code></td><td>List of asset id's.</td></tr>
<tr><td><code>_feeds</code></td><td><code>address[]</code></td><td>List of feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setapi3feeds"><a class="header" href="#setapi3feeds">setApi3Feeds</a></h3>
<p>Set api3 feeds for assetIds.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setApi3Feeds(bytes12[] calldata _assetIds, address[] calldata _feeds) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIds</code></td><td><code>bytes12[]</code></td><td>List of asset id's.</td></tr>
<tr><td><code>_feeds</code></td><td><code>address[]</code></td><td>List of feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setchainlinkfeed"><a class="header" href="#setchainlinkfeed">setChainLinkFeed</a></h3>
<p>Set chain link feed for an asset.</p>
<pre><code class="language-solidity">function setChainLinkFeed(bytes12 _assetId, address _feedAddr) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetId</code></td><td><code>bytes12</code></td><td>The asset (bytes12).</td></tr>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<h3 id="setapi3feed"><a class="header" href="#setapi3feed">setApi3Feed</a></h3>
<p>Set api3 feed address for an asset.</p>
<pre><code class="language-solidity">function setApi3Feed(bytes12 _assetId, address _feedAddr) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetId</code></td><td><code>bytes12</code></td><td>The asset (bytes12).</td></tr>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<h3 id="updateoracleorder"><a class="header" href="#updateoracleorder">updateOracleOrder</a></h3>
<p>Update oracle order for an asset.</p>
<pre><code class="language-solidity">function updateOracleOrder(address _assetAddr, OracleType[2] memory _newOracleOrder) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_newOracleOrder</code></td><td><code>OracleType[2]</code></td><td>List of 2 OracleTypes. 0 is primary and 1 is the reference.</td></tr>
</tbody></table>
</div>
<h3 id="validateassetconfig"><a class="header" href="#validateassetconfig">validateAssetConfig</a></h3>
<p>Validate supplied asset config. Reverts with information if invalid.</p>
<pre><code class="language-solidity">function validateAssetConfig(address _assetAddr, Asset memory _config) external view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>The configuration for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="_validatemintercollateral"><a class="header" href="#_validatemintercollateral">_validateMinterCollateral</a></h3>
<pre><code class="language-solidity">function _validateMinterCollateral(address _assetAddr, Asset memory _config) internal pure;
</code></pre>
<h3 id="_validateminterkrasset"><a class="header" href="#_validateminterkrasset">_validateMinterKrAsset</a></h3>
<pre><code class="language-solidity">function _validateMinterKrAsset(address _assetAddr, Asset memory _config) internal view;
</code></pre>
<h3 id="_validatescdpdepositasset"><a class="header" href="#_validatescdpdepositasset">_validateSCDPDepositAsset</a></h3>
<pre><code class="language-solidity">function _validateSCDPDepositAsset(address _assetAddr, Asset memory _config) internal pure;
</code></pre>
<h3 id="_validatescdpkrasset"><a class="header" href="#_validatescdpkrasset">_validateSCDPKrAsset</a></h3>
<pre><code class="language-solidity">function _validateSCDPKrAsset(address _assetAddr, Asset memory _config) internal pure;
</code></pre>
<h3 id="validateliqconfig"><a class="header" href="#validateliqconfig">validateLiqConfig</a></h3>
<pre><code class="language-solidity">function validateLiqConfig(address _assetAddr) public view;
</code></pre>
<h3 id="_checkliqpercents"><a class="header" href="#_checkliqpercents">_checkLiqPercents</a></h3>
<pre><code class="language-solidity">function _checkLiqPercents(
    address _seizeAssetAddr,
    Asset storage seizeAsset,
    address _repayAssetAddr,
    Asset storage repayAsset
) internal view;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="assetstatefacet"><a class="header" href="#assetstatefacet">AssetStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/facets/AssetStateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/AssetStateFacet.sol//src/contracts/core/common/interfaces/IAssetStateFacet.sol/interface.IAssetStateFacet.html">IAssetStateFacet</a></p>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="getasset"><a class="header" href="#getasset">getAsset</a></h3>
<p>Get the state of a specific asset</p>
<pre><code class="language-solidity">function getAsset(address _asset) external view returns (Asset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Asset</code></td><td>State of assets <code>asset</code> struct</td></tr>
</tbody></table>
</div>
<h3 id="getprice"><a class="header" href="#getprice">getPrice</a></h3>
<p>Get price for an asset from address.</p>
<pre><code class="language-solidity">function getPrice(address _asset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Current price for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="getvalue"><a class="header" href="#getvalue">getValue</a></h3>
<p>Get value for an asset amount using the current price.</p>
<pre><code class="language-solidity">function getValue(address _asset, uint256 amount) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Current value for <code>_amount</code> of <code>_assetAddr</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getfeedforid"><a class="header" href="#getfeedforid">getFeedForId</a></h3>
<p>Gets the feed address for this underlying + oracle type.</p>
<pre><code class="language-solidity">function getFeedForId(bytes12 _underlyingId, OracleType _oracleType) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_underlyingId</code></td><td><code>bytes12</code></td><td>The underlying asset id in 12 bytes.</td></tr>
<tr><td><code>_oracleType</code></td><td><code>OracleType</code></td><td>The oracle type.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>feedAddr Feed address matching the oracle type given.</td></tr>
</tbody></table>
</div>
<h3 id="getfeedforaddress"><a class="header" href="#getfeedforaddress">getFeedForAddress</a></h3>
<p>Gets corresponding feed address for the oracle type and asset address.</p>
<pre><code class="language-solidity">function getFeedForAddress(address _asset, OracleType _oracleType) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_oracleType</code></td><td><code>OracleType</code></td><td>The oracle type.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>feedAddr Feed address that the asset uses with the oracle type.</td></tr>
</tbody></table>
</div>
<h3 id="getpriceofasset"><a class="header" href="#getpriceofasset">getPriceOfAsset</a></h3>
<p>Gets the deduced price in use from oracles defined for this asset address.</p>
<pre><code class="language-solidity">function getPriceOfAsset(address _asset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 The current price.</td></tr>
</tbody></table>
</div>
<h3 id="getchainlinkprice"><a class="header" href="#getchainlinkprice">getChainlinkPrice</a></h3>
<p>Price getter for AggregatorV3/Chainlink type feeds.</p>
<p><em>Valid call will revert if the answer is negative.</em></p>
<pre><code class="language-solidity">function getChainlinkPrice(address _feed) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feed</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Price answer from the feed, 0 if the price is stale.</td></tr>
</tbody></table>
</div>
<h3 id="redstoneprice"><a class="header" href="#redstoneprice">redstonePrice</a></h3>
<p>Price getter for Redstone, extracting the price from the supplied &quot;hidden&quot; calldata.
Reverts for a number of reasons, notably:</p>
<ol>
<li>Invalid calldata</li>
<li>Not enough signers for the price data.</li>
<li>Wrong signers for the price data.</li>
<li>Stale price data.</li>
<li>Not enough data points</li>
</ol>
<pre><code class="language-solidity">function redstonePrice(bytes12 _underlyingId, address) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_underlyingId</code></td><td><code>bytes12</code></td><td>The reference asset id (bytes12).</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Extracted price with enough unique signers.</td></tr>
</tbody></table>
</div>
<h3 id="getapi3price"><a class="header" href="#getapi3price">getAPI3Price</a></h3>
<p>Price getter for IProxy/API3 type feeds.</p>
<p><em>Valid call will revert if the answer is negative.</em></p>
<pre><code class="language-solidity">function getAPI3Price(address _feed) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feed</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Price answer from the feed, 0 if the price is stale.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="authorizationfacet"><a class="header" href="#authorizationfacet">AuthorizationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/facets/AuthorizationFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/AuthorizationFacet.sol//src/contracts/core/common/interfaces/IAuthorizationFacet.sol/interface.IAuthorizationFacet.html">IAuthorizationFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>The storage area is in the main proxy diamond storage.</p>
<p><em>Difference here is the logic library that is shared and reused, there is no state here.</em></p>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="getrolemember"><a class="header" href="#getrolemember">getRoleMember</a></h3>
<p>WARNING:
When using {getRoleMember} and {getRoleMemberCount}, make sure
you perform all queries on the same block.
See the following forum post for more information:</p>
<ul>
<li>https://forum.openzeppelin.com/t/iterating-over-elements-on-enumerableset-in-openzeppelin-contracts/2296</li>
</ul>
<p><em>OpenZeppelin
Returns one of the accounts that have <code>role</code>. <code>index</code> must be a
value between 0 and {getRoleMemberCount}, non-inclusive.
Role bearers are not sorted in any particular way, and their ordering may
change at any point.</em></p>
<pre><code class="language-solidity">function getRoleMember(bytes32 role, uint256 index) external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>address with the <code>role</code></td></tr>
</tbody></table>
</div>
<h3 id="getrolemembercount"><a class="header" href="#getrolemembercount">getRoleMemberCount</a></h3>
<p>See warning in {getRoleMember} if combining these two</p>
<p><em>Returns the number of accounts that have <code>role</code>. Can be used
together with {getRoleMember} to enumerate all bearers of a role.</em></p>
<pre><code class="language-solidity">function getRoleMemberCount(bytes32 role) external view returns (uint256);
</code></pre>
<h3 id="grantrole"><a class="header" href="#grantrole">grantRole</a></h3>
<p>*Grants <code>role</code> to <code>account</code>.
If <code>account</code> had not been already granted <code>role</code>, emits a {RoleGranted}
event.
Requirements:</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.*</li>
</ul>
<pre><code class="language-solidity">function grantRole(bytes32 role, address account) external;
</code></pre>
<h3 id="revokerole"><a class="header" href="#revokerole">revokeRole</a></h3>
<p>Requirements</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.</li>
</ul>
<p><em>Revokes <code>role</code> from <code>account</code>.</em></p>
<pre><code class="language-solidity">function revokeRole(bytes32 role, address account) external;
</code></pre>
<h3 id="hasrole"><a class="header" href="#hasrole">hasRole</a></h3>
<p><em>Returns true if <code>account</code> has been granted <code>role</code>.</em></p>
<pre><code class="language-solidity">function hasRole(bytes32 role, address account) external view returns (bool);
</code></pre>
<h3 id="getroleadmin"><a class="header" href="#getroleadmin">getRoleAdmin</a></h3>
<p>To change a role's admin, use {_setRoleAdmin}.</p>
<p><em>Returns the admin role that controls <code>role</code>. See {grantRole} and
{revokeRole}.</em></p>
<pre><code class="language-solidity">function getRoleAdmin(bytes32 role) external view returns (bytes32);
</code></pre>
<h3 id="renouncerole"><a class="header" href="#renouncerole">renounceRole</a></h3>
<p>Requirements</p>
<ul>
<li>the caller must be <code>account</code>.</li>
</ul>
<p><em>Revokes <code>role</code> from the calling account.
Roles are often managed via {grantRole} and {revokeRole}: this function's
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).
If the calling account had been revoked <code>role</code>, emits a {RoleRevoked}
event.</em></p>
<pre><code class="language-solidity">function renounceRole(bytes32 role, address account) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commonconfigurationfacet"><a class="header" href="#commonconfigurationfacet">CommonConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/facets/CommonConfigurationFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/CommonConfigurationFacet.sol//src/contracts/core/common/interfaces/ICommonConfigurationFacet.sol/interface.ICommonConfigurationFacet.html">ICommonConfigurationFacet</a>, <a href="src/contracts/core/common/facets/CommonConfigurationFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a>, <a href="src/contracts/core/common/facets/CommonConfigurationFacet.sol//src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a></p>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="initializecommon"><a class="header" href="#initializecommon">initializeCommon</a></h3>
<pre><code class="language-solidity">function initializeCommon(CommonInitArgs memory args) external onlyOwner;
</code></pre>
<h3 id="updatemindebtvalue"><a class="header" href="#updatemindebtvalue">updateMinDebtValue</a></h3>
<p>Council can be set only by this specific function.
Requirements:</p>
<ul>
<li>address <code>_council</code> must implement ERC165 and a specific multisig interfaceId.</li>
<li>reverts if above is not true.</li>
</ul>
<p><em>Updates the contract's minimum debt value.</em></p>
<pre><code class="language-solidity">function updateMinDebtValue(uint96 _newMinDebtValue) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMinDebtValue</code></td><td><code>uint96</code></td><td>The new minimum debt value as a wad.</td></tr>
</tbody></table>
</div>
<h3 id="updatefeerecipient"><a class="header" href="#updatefeerecipient">updateFeeRecipient</a></h3>
<p>Updates the fee recipient.</p>
<pre><code class="language-solidity">function updateFeeRecipient(address _newFeeRecipient) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newFeeRecipient</code></td><td><code>address</code></td><td>The new fee recipient.</td></tr>
</tbody></table>
</div>
<h3 id="updateextoracledecimals"><a class="header" href="#updateextoracledecimals">updateExtOracleDecimals</a></h3>
<p>Sets the decimal precision of external oracle</p>
<pre><code class="language-solidity">function updateExtOracleDecimals(uint8 _decimals) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>Amount of decimals</td></tr>
</tbody></table>
</div>
<h3 id="updateoracledeviationpct"><a class="header" href="#updateoracledeviationpct">updateOracleDeviationPct</a></h3>
<p>Sets the decimal precision of external oracle</p>
<pre><code class="language-solidity">function updateOracleDeviationPct(uint16 _oracleDeviationPct) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracleDeviationPct</code></td><td><code>uint16</code></td><td>Amount of decimals</td></tr>
</tbody></table>
</div>
<h3 id="updatesequenceruptimefeed"><a class="header" href="#updatesequenceruptimefeed">updateSequencerUptimeFeed</a></h3>
<p>Sets L2 sequencer uptime feed address</p>
<pre><code class="language-solidity">function updateSequencerUptimeFeed(address _sequencerUptimeFeed) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sequencerUptimeFeed</code></td><td><code>address</code></td><td>sequencer uptime feed address</td></tr>
</tbody></table>
</div>
<h3 id="updatesequencergraceperiodtime"><a class="header" href="#updatesequencergraceperiodtime">updateSequencerGracePeriodTime</a></h3>
<p>Sets sequencer grace period time</p>
<pre><code class="language-solidity">function updateSequencerGracePeriodTime(uint32 _sequencerGracePeriodTime) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sequencerGracePeriodTime</code></td><td><code>uint32</code></td><td>grace period time</td></tr>
</tbody></table>
</div>
<h3 id="updateoracletimeout"><a class="header" href="#updateoracletimeout">updateOracleTimeout</a></h3>
<p>Sets oracle timeout</p>
<pre><code class="language-solidity">function updateOracleTimeout(uint32 _oracleTimeout) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracleTimeout</code></td><td><code>uint32</code></td><td>oracle timeout in seconds</td></tr>
</tbody></table>
</div>
<h3 id="updatephase"><a class="header" href="#updatephase">updatePhase</a></h3>
<p>Sets phase of gating mechanism</p>
<pre><code class="language-solidity">function updatePhase(uint8 _phase) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_phase</code></td><td><code>uint8</code></td><td>phase id</td></tr>
</tbody></table>
</div>
<h3 id="updatekreskian"><a class="header" href="#updatekreskian">updateKreskian</a></h3>
<p>Sets address of Kreskian NFT contract</p>
<pre><code class="language-solidity">function updateKreskian(address _kreskian) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskian</code></td><td><code>address</code></td><td>kreskian nft contract address</td></tr>
</tbody></table>
</div>
<h3 id="updatequestforkresk"><a class="header" href="#updatequestforkresk">updateQuestForKresk</a></h3>
<p>Sets address of Quest For Kresk NFT contract</p>
<pre><code class="language-solidity">function updateQuestForKresk(address _questForKresk) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_questForKresk</code></td><td><code>address</code></td><td>Quest For Kresk NFT contract address</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="commonstatefacet"><a class="header" href="#commonstatefacet">CommonStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/facets/CommonStateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/CommonStateFacet.sol//src/contracts/core/common/interfaces/ICommonStateFacet.sol/interface.ICommonStateFacet.html">ICommonStateFacet</a></p>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="domainseparator"><a class="header" href="#domainseparator">domainSeparator</a></h3>
<p>The EIP-712 typehash for the contract's domain.</p>
<pre><code class="language-solidity">function domainSeparator() external view returns (bytes32);
</code></pre>
<h3 id="getstorageversion"><a class="header" href="#getstorageversion">getStorageVersion</a></h3>
<p>amount of times the storage has been upgraded</p>
<pre><code class="language-solidity">function getStorageVersion() external view returns (uint96);
</code></pre>
<h3 id="getfeerecipient"><a class="header" href="#getfeerecipient">getFeeRecipient</a></h3>
<p>The recipient of protocol fees.</p>
<pre><code class="language-solidity">function getFeeRecipient() external view returns (address);
</code></pre>
<h3 id="getextoracledecimals"><a class="header" href="#getextoracledecimals">getExtOracleDecimals</a></h3>
<p>Offchain oracle decimals</p>
<pre><code class="language-solidity">function getExtOracleDecimals() external view returns (uint8);
</code></pre>
<h3 id="getmindebtvalue"><a class="header" href="#getmindebtvalue">getMinDebtValue</a></h3>
<p>The minimum USD value of an individual synthetic asset debt position.</p>
<pre><code class="language-solidity">function getMinDebtValue() external view returns (uint96);
</code></pre>
<h3 id="getoracledeviationpct"><a class="header" href="#getoracledeviationpct">getOracleDeviationPct</a></h3>
<p>max deviation between main oracle and fallback oracle</p>
<pre><code class="language-solidity">function getOracleDeviationPct() external view returns (uint16);
</code></pre>
<h3 id="getsequenceruptimefeed"><a class="header" href="#getsequenceruptimefeed">getSequencerUptimeFeed</a></h3>
<p>Get the L2 sequencer uptime feed address.</p>
<pre><code class="language-solidity">function getSequencerUptimeFeed() external view returns (address);
</code></pre>
<h3 id="getsequenceruptimefeedgraceperiod"><a class="header" href="#getsequenceruptimefeedgraceperiod">getSequencerUptimeFeedGracePeriod</a></h3>
<p>Get the L2 sequencer uptime feed grace period</p>
<pre><code class="language-solidity">function getSequencerUptimeFeedGracePeriod() external view returns (uint32);
</code></pre>
<h3 id="getoracletimeout"><a class="header" href="#getoracletimeout">getOracleTimeout</a></h3>
<p>Get stale timeout treshold for oracle answers.</p>
<pre><code class="language-solidity">function getOracleTimeout() external view returns (uint32);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safetycouncilfacet"><a class="header" href="#safetycouncilfacet">SafetyCouncilFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/facets/SafetyCouncilFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/common/facets/SafetyCouncilFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a>, <a href="src/contracts/core/common/facets/SafetyCouncilFacet.sol//src/contracts/core/common/interfaces/ISafetyCouncilFacet.sol/interface.ISafetyCouncilFacet.html">ISafetyCouncilFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p><code>Role.SAFETY_COUNCIL</code> must be a multisig.</p>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="toggleassetspaused"><a class="header" href="#toggleassetspaused">toggleAssetsPaused</a></h3>
<p>These functions are only callable by a multisig quorum.</p>
<p><em>Toggle paused-state of assets in a per-action basis</em></p>
<pre><code class="language-solidity">function toggleAssetsPaused(address[] calldata _assets, Action _action, bool _withDuration, uint256 _duration)
    external
    override
    onlyRole(Role.SAFETY_COUNCIL);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assets</code></td><td><code>address[]</code></td><td>list of addresses of krAssets and/or collateral assets</td></tr>
<tr><td><code>_action</code></td><td><code>Action</code></td><td>One of possible user actions: Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
<tr><td><code>_withDuration</code></td><td><code>bool</code></td><td>Set a duration for this pause - @todo: implement it if required</td></tr>
<tr><td><code>_duration</code></td><td><code>uint256</code></td><td>Duration for the pause if <code>_withDuration</code> is true</td></tr>
</tbody></table>
</div>
<h3 id="setsafetystateset"><a class="header" href="#setsafetystateset">setSafetyStateSet</a></h3>
<p>set the safetyStateSet flag</p>
<p><em>loop through <code>_assets</code> - be it krAsset or collateral</em></p>
<pre><code class="language-solidity">function setSafetyStateSet(bool val) external override onlyRole(Role.SAFETY_COUNCIL);
</code></pre>
<h3 id="safetystateset"><a class="header" href="#safetystateset">safetyStateSet</a></h3>
<p>For external checks if a safety state has been set for any asset</p>
<pre><code class="language-solidity">function safetyStateSet() external view override returns (bool);
</code></pre>
<h3 id="safetystatefor"><a class="header" href="#safetystatefor">safetyStateFor</a></h3>
<p>View the state of safety measures for an asset on a per-action basis</p>
<pre><code class="language-solidity">function safetyStateFor(address _asset, Action _action) external view override returns (SafetyState memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>krAsset / collateral asset</td></tr>
<tr><td><code>_action</code></td><td><code>Action</code></td><td>One of possible user actions: Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
</tbody></table>
</div>
<h3 id="assetactionpaused"><a class="header" href="#assetactionpaused">assetActionPaused</a></h3>
<p>Check if <code>_asset</code> has a pause enabled for <code>_action</code></p>
<pre><code class="language-solidity">function assetActionPaused(Action _action, address _asset) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_action</code></td><td><code>Action</code></td><td>enum <code>Action</code> Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
<tr><td><code>_asset</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if <code>_action</code> is paused</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-4"><a class="header" href="#contents-4">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/common/funcs/Actions.sol/function.mintKrAsset.html">mintKrAsset</a></li>
<li><a href="src/contracts/core/common/funcs/Actions.sol/function.mintSCDP.html">mintSCDP</a></li>
<li><a href="src/contracts/core/common/funcs/Actions.sol/function.burnSCDP.html">burnSCDP</a></li>
<li><a href="src/contracts/core/common/funcs/Actions.sol/function.burnKrAsset.html">burnKrAsset</a></li>
<li><a href="src/contracts/core/common/funcs/Asset.sol/library.CAsset.html">CAsset</a></li>
<li><a href="src/contracts/core/common/funcs/Helpers.sol/function.collateralAmountToValues.html">collateralAmountToValues</a></li>
<li><a href="src/contracts/core/common/funcs/Helpers.sol/function.debtAmountToValues.html">debtAmountToValues</a></li>
<li><a href="src/contracts/core/common/funcs/Math.sol/function.valueToAmount.html">valueToAmount</a></li>
<li><a href="src/contracts/core/common/funcs/Math.sol/function.fromWad.html">fromWad</a></li>
<li><a href="src/contracts/core/common/funcs/Math.sol/function.toWad.html">toWad</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.aggregatorV3Price.html">aggregatorV3Price</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.pushPrice.html">pushPrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.API3PriceWithTimestamp.html">API3PriceWithTimestamp</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.safePrice.html">safePrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.usdWad.html">usdWad</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.aggregatorV3PriceWithTimestamp.html">aggregatorV3PriceWithTimestamp</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.divByPrice.html">divByPrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.SDIPrice.html">SDIPrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.oraclePrice.html">oraclePrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.handleSequencerDown.html">handleSequencerDown</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.wadToDecimal.html">wadToDecimal</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.deducePrice.html">deducePrice</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.API3Price.html">API3Price</a></li>
<li><a href="src/contracts/core/common/funcs/Prices.sol/function.oraclePriceToWad.html">oraclePriceToWad</a></li>
<li><a href="src/contracts/core/common/funcs/Utils.sol/function.isSequencerUp.html">isSequencerUp</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mintkrasset"><a class="header" href="#mintkrasset">mintKrAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Actions.sol">Git Source</a></p>
<p>Mint kresko assets with anchor already known.</p>
<pre><code class="language-solidity">function mintKrAsset(uint256 _amount, address _to, address _anchor) returns (uint256 minted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The asset amount being minted</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>The account receiving minted assets.</td></tr>
<tr><td><code>_anchor</code></td><td><code>address</code></td><td>The anchor token of the minted asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mintscdp"><a class="header" href="#mintscdp">mintSCDP</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Actions.sol">Git Source</a></p>
<p>Mint kresko assets from SCDP swap.</p>
<pre><code class="language-solidity">function mintSCDP(Asset storage _asset, uint256 _amount, address _to) returns (uint256 issued);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>the asset requested</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>the asset amount requested</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>the account to mint the assets to</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="burnscdp"><a class="header" href="#burnscdp">burnSCDP</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Actions.sol">Git Source</a></p>
<p>Repay SCDP swap debt.</p>
<pre><code class="language-solidity">function burnSCDP(Asset storage _asset, uint256 _burnAmount, address _from) returns (uint256 destroyed);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>the asset being repaid</td></tr>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>the asset amount being burned</td></tr>
<tr><td><code>_from</code></td><td><code>address</code></td><td>the account to burn assets from</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="burnkrasset"><a class="header" href="#burnkrasset">burnKrAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Actions.sol">Git Source</a></p>
<p>Burn kresko assets with anchor already known.</p>
<pre><code class="language-solidity">function burnKrAsset(uint256 _burnAmount, address _from, address _anchor) returns (uint256 burned);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>The amount being burned</td></tr>
<tr><td><code>_from</code></td><td><code>address</code></td><td>The account to burn assets from.</td></tr>
<tr><td><code>_anchor</code></td><td><code>address</code></td><td>The anchor token of the asset being burned.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="casset"><a class="header" href="#casset">CAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Asset.sol">Git Source</a></p>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="price"><a class="header" href="#price">price</a></h3>
<pre><code class="language-solidity">function price(Asset storage self) internal view returns (uint256);
</code></pre>
<h3 id="price-1"><a class="header" href="#price-1">price</a></h3>
<pre><code class="language-solidity">function price(Asset storage self, uint256 oracleDeviationPct) internal view returns (uint256);
</code></pre>
<h3 id="pushedprice"><a class="header" href="#pushedprice">pushedPrice</a></h3>
<pre><code class="language-solidity">function pushedPrice(Asset storage self) internal view returns (PushPrice memory);
</code></pre>
<h3 id="checkoracles"><a class="header" href="#checkoracles">checkOracles</a></h3>
<pre><code class="language-solidity">function checkOracles(Asset memory self) internal view returns (PushPrice memory);
</code></pre>
<h3 id="uintusd"><a class="header" href="#uintusd">uintUSD</a></h3>
<p>Get value for @param _assetAmount of @param self in uint256</p>
<pre><code class="language-solidity">function uintUSD(Asset storage self, uint256 _amount) internal view returns (uint256);
</code></pre>
<h3 id="wadprice"><a class="header" href="#wadprice">wadPrice</a></h3>
<p>Get the oracle price of an asset in uint256 with 18 decimals</p>
<pre><code class="language-solidity">function wadPrice(Asset storage self) private view returns (uint256);
</code></pre>
<h3 id="redstoneprice-1"><a class="header" href="#redstoneprice-1">redstonePrice</a></h3>
<p>Get the oracle price of an asset in uint256 with oracleDecimals</p>
<pre><code class="language-solidity">function redstonePrice(Asset storage self) internal view returns (uint256);
</code></pre>
<h3 id="marketstatus"><a class="header" href="#marketstatus">marketStatus</a></h3>
<pre><code class="language-solidity">function marketStatus(Asset storage) internal pure returns (bool);
</code></pre>
<h3 id="ensurerepayvalue"><a class="header" href="#ensurerepayvalue">ensureRepayValue</a></h3>
<p>Ensure repayment value (and amount), clamp to max if necessary.</p>
<pre><code class="language-solidity">function ensureRepayValue(Asset storage self, uint256 _maxRepayValue, uint256 _repayAmount)
    internal
    view
    returns (uint256 repayValue, uint256 repayAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_maxRepayValue</code></td><td><code>uint256</code></td><td>The max liquidatable USD (uint256).</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>The repay amount (uint256).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>repayValue</code></td><td><code>uint256</code></td><td>Effective repayment value.</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>Effective repayment amount.</td></tr>
</tbody></table>
</div>
<h3 id="collateralamounttovalue"><a class="header" href="#collateralamounttovalue">collateralAmountToValue</a></h3>
<p>Gets the collateral value for a single collateral asset and amount.</p>
<pre><code class="language-solidity">function collateralAmountToValue(Asset storage self, uint256 _amount, bool _ignoreFactor)
    internal
    view
    returns (uint256 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Amount of asset to get the value for.</td></tr>
<tr><td><code>_ignoreFactor</code></td><td><code>bool</code></td><td>Should collateral factor be ignored.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Value for <code>_amount</code> of the asset.</td></tr>
</tbody></table>
</div>
<h3 id="collateralamounttovaluewithprice"><a class="header" href="#collateralamounttovaluewithprice">collateralAmountToValueWithPrice</a></h3>
<p>Gets the collateral value for <code>_amount</code> and returns the price used.</p>
<pre><code class="language-solidity">function collateralAmountToValueWithPrice(Asset storage self, uint256 _amount, bool _ignoreFactor)
    internal
    view
    returns (uint256 value, uint256 assetPrice);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Amount of asset</td></tr>
<tr><td><code>_ignoreFactor</code></td><td><code>bool</code></td><td>Should collateral factor be ignored.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Value for <code>_amount</code> of the asset.</td></tr>
<tr><td><code>assetPrice</code></td><td><code>uint256</code></td><td>Price of the collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="debtamounttovalue"><a class="header" href="#debtamounttovalue">debtAmountToValue</a></h3>
<p>Gets the USD value for a single Kresko asset and amount.</p>
<pre><code class="language-solidity">function debtAmountToValue(Asset storage self, uint256 _amount, bool _ignoreKFactor)
    internal
    view
    returns (uint256 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Amount of the Kresko asset to calculate the value for.</td></tr>
<tr><td><code>_ignoreKFactor</code></td><td><code>bool</code></td><td>Boolean indicating if the asset's k-factor should be ignored.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Value for the provided amount of the Kresko asset.</td></tr>
</tbody></table>
</div>
<h3 id="debtvaluetoamount"><a class="header" href="#debtvaluetoamount">debtValueToAmount</a></h3>
<p>Gets the amount for a single debt asset and value.</p>
<pre><code class="language-solidity">function debtValueToAmount(Asset storage self, uint256 _value, bool _ignoreKFactor)
    internal
    view
    returns (uint256 amount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_value</code></td><td><code>uint256</code></td><td>Value of the asset to calculate the amount for.</td></tr>
<tr><td><code>_ignoreKFactor</code></td><td><code>bool</code></td><td>Boolean indicating if the asset's k-factor should be ignored.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>Amount for the provided value of the Kresko asset.</td></tr>
</tbody></table>
</div>
<h3 id="debtamounttosdi"><a class="header" href="#debtamounttosdi">debtAmountToSDI</a></h3>
<p>Preview SDI amount from krAsset amount.</p>
<pre><code class="language-solidity">function debtAmountToSDI(Asset storage asset, uint256 amount, bool ignoreFactors)
    internal
    view
    returns (uint256 shares);
</code></pre>
<h3 id="checkdust"><a class="header" href="#checkdust">checkDust</a></h3>
<p>Check that amount does not put the user's debt position below the minimum debt value.</p>
<pre><code class="language-solidity">function checkDust(Asset storage _asset, uint256 _burnAmount, uint256 _debtAmount)
    internal
    view
    returns (uint256 amount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>Asset being burned.</td></tr>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>Debt amount burned.</td></tr>
<tr><td><code>_debtAmount</code></td><td><code>uint256</code></td><td>Debt amount before burn.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>&gt;= minDebtAmount</td></tr>
</tbody></table>
</div>
<h3 id="checkmindebtvalue"><a class="header" href="#checkmindebtvalue">checkMinDebtValue</a></h3>
<p>Checks min debt value against some amount.</p>
<pre><code class="language-solidity">function checkMinDebtValue(Asset storage _asset, address _kreskoAsset, uint256 _debtAmount) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset (Asset).</td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The kresko asset address.</td></tr>
<tr><td><code>_debtAmount</code></td><td><code>uint256</code></td><td>The debt amount (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="mincollateralvalueatratio"><a class="header" href="#mincollateralvalueatratio">minCollateralValueAtRatio</a></h3>
<p>Get the minimum collateral value required to
back a Kresko asset amount at a given collateralization ratio.</p>
<pre><code class="language-solidity">function minCollateralValueAtRatio(Asset storage _krAsset, uint256 _amount, uint32 _ratio)
    internal
    view
    returns (uint256 minCollateralValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>Asset</code></td><td>Address of the Kresko asset.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>Kresko Asset debt amount.</td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Collateralization ratio for the minimum collateral value.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minCollateralValue</code></td><td><code>uint256</code></td><td>Minimum collateral value required for <code>_amount</code> of the Kresko Asset.</td></tr>
</tbody></table>
</div>
<h3 id="torebasingamount"><a class="header" href="#torebasingamount">toRebasingAmount</a></h3>
<p>Amount of non rebasing tokens -&gt; amount of rebasing tokens</p>
<p><em>DO use this function when reading values storage.</em></p>
<p><em>DONT use this function when writing to storage.</em></p>
<pre><code class="language-solidity">function toRebasingAmount(Asset storage self, uint256 _unrebasedAmount)
    internal
    view
    returns (uint256 maybeRebasedAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_unrebasedAmount</code></td><td><code>uint256</code></td><td>Unrebased amount to convert.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maybeRebasedAmount</code></td><td><code>uint256</code></td><td>Possibly rebased amount of asset</td></tr>
</tbody></table>
</div>
<h3 id="tononrebasingamount"><a class="header" href="#tononrebasingamount">toNonRebasingAmount</a></h3>
<p>Amount of rebasing tokens -&gt; amount of non rebasing tokens</p>
<p><em>DONT use this function when reading from storage.</em></p>
<p><em>DO use this function when writing to storage.</em></p>
<pre><code class="language-solidity">function toNonRebasingAmount(Asset storage self, uint256 _maybeRebasedAmount)
    internal
    view
    returns (uint256 maybeUnrebasedAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_maybeRebasedAmount</code></td><td><code>uint256</code></td><td>Possibly rebased amount of asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>maybeUnrebasedAmount</code></td><td><code>uint256</code></td><td>Possibly unrebased amount of asset</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="collateralamounttovalues"><a class="header" href="#collateralamounttovalues">collateralAmountToValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Helpers.sol">Git Source</a></p>
<p>Helper function to get unadjusted, adjusted and price values for collateral assets</p>
<pre><code class="language-solidity">function collateralAmountToValues(Asset storage self, uint256 _amount)
    view
    returns (uint256 value, uint256 valueAdjusted, uint256 price);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="debtamounttovalues"><a class="header" href="#debtamounttovalues">debtAmountToValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Helpers.sol">Git Source</a></p>
<p>Helper function to get unadjusted, adjusted and price values for debt assets</p>
<pre><code class="language-solidity">function debtAmountToValues(Asset storage self, uint256 _amount)
    view
    returns (uint256 value, uint256 valueAdjusted, uint256 price);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="valuetoamount"><a class="header" href="#valuetoamount">valueToAmount</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Math.sol">Git Source</a></p>
<p>Calculate amount for value provided with possible incentive multiplier for value.</p>
<pre><code class="language-solidity">function valueToAmount(uint16 _incentiveMultiplier, uint256 _price, uint256 _repayValue) pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_incentiveMultiplier</code></td><td><code>uint16</code></td><td>The incentive multiplier (&gt;= 1e18).</td></tr>
<tr><td><code>_price</code></td><td><code>uint256</code></td><td>The price in USD for the output asset.</td></tr>
<tr><td><code>_repayValue</code></td><td><code>uint256</code></td><td>Value to be converted to amount.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="fromwad"><a class="header" href="#fromwad">fromWad</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Math.sol">Git Source</a></p>
<p>For a given collateral asset and wad amount, returns the collateral amount.</p>
<p><em>If the collateral asset has decimals other than 18, the amount is scaled appropriately.
If decimals &lt; 18, there may be a loss of precision.</em></p>
<pre><code class="language-solidity">function fromWad(uint256 _decimals, uint256 _wadAmount) pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_decimals</code></td><td><code>uint256</code></td><td>The collateral asset's number of decimals</td></tr>
<tr><td><code>_wadAmount</code></td><td><code>uint256</code></td><td>The wad amount of the collateral asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>An amount that is compatible with the collateral asset's decimals.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="towad"><a class="header" href="#towad">toWad</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Math.sol">Git Source</a></p>
<p>For a given collateral asset and amount, returns a wad represenatation.</p>
<p><em>If the collateral asset has decimals other than 18, the amount is scaled appropriately.
If decimals &gt; 18, there may be a loss of precision.</em></p>
<pre><code class="language-solidity">function toWad(uint256 _decimals, uint256 _amount) pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_decimals</code></td><td><code>uint256</code></td><td>The collateral asset's number of decimals</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>A fp of amount scaled according to the collateral asset's decimals.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="aggregatorv3price"><a class="header" href="#aggregatorv3price">aggregatorV3Price</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Gets answer from AggregatorV3 type feed.</p>
<pre><code class="language-solidity">function aggregatorV3Price(address _feedAddr) view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Parsed answer from the feed, 0 if its stale.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="pushprice"><a class="header" href="#pushprice">pushPrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Return push oracle price.</p>
<pre><code class="language-solidity">function pushPrice(OracleType[2] memory _oracles, bytes12 _assetId) view returns (PushPrice memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracles</code></td><td><code>OracleType[2]</code></td><td>The oracles defined.</td></tr>
<tr><td><code>_assetId</code></td><td><code>bytes12</code></td><td>The asset id (bytes12).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>PushPrice</code></td><td>PushPrice The push oracle price and timestamp.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="api3pricewithtimestamp"><a class="header" href="#api3pricewithtimestamp">API3PriceWithTimestamp</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Gets answer from IProxy type feed with timestamp.</p>
<pre><code class="language-solidity">function API3PriceWithTimestamp(address _feedAddr) view returns (PushPrice memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>PushPrice</code></td><td>PushPrice Parsed answer and timestamp.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="safeprice"><a class="header" href="#safeprice">safePrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Get the oracle price using safety checks for deviation and sequencer uptime</p>
<p>reverts if the price deviates more than <code>_oracleDeviationPct</code></p>
<pre><code class="language-solidity">function safePrice(bytes12 _assetId, OracleType[2] memory _oracles, uint256 _oracleDeviationPct)
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetId</code></td><td><code>bytes12</code></td><td>The asset id</td></tr>
<tr><td><code>_oracles</code></td><td><code>OracleType[2]</code></td><td>The list of oracle identifiers</td></tr>
<tr><td><code>_oracleDeviationPct</code></td><td><code>uint256</code></td><td>the deviation percentage</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="usdwad"><a class="header" href="#usdwad">usdWad</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>get some decimal precision USD value for <code>_amount</code>.</p>
<pre><code class="language-solidity">function usdWad(uint256 _amount, uint256 _price, uint8 _decimals) pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount of tokens to get USD value for.</td></tr>
<tr><td><code>_price</code></td><td><code>uint256</code></td><td>amount of tokens to get USD value for.</td></tr>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>precision</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>value USD value for <code>_amount</code> with <code>_decimals</code> precision.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="aggregatorv3pricewithtimestamp"><a class="header" href="#aggregatorv3pricewithtimestamp">aggregatorV3PriceWithTimestamp</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Gets answer from AggregatorV3 type feed with timestamp.</p>
<pre><code class="language-solidity">function aggregatorV3PriceWithTimestamp(address _feedAddr) view returns (PushPrice memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>PushPrice</code></td><td>PushPrice Parsed answer and timestamp.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="divbyprice"><a class="header" href="#divbyprice">divByPrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Divides an uint256 @param _value with @param _priceWithOracleDecimals</p>
<pre><code class="language-solidity">function divByPrice(uint256 _value, uint256 _priceWithOracleDecimals, uint8 _decimals)
    pure
    returns (uint256 wadValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_value</code></td><td><code>uint256</code></td><td>Left side value of the division</td></tr>
<tr><td><code>_priceWithOracleDecimals</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>precision</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="sdiprice"><a class="header" href="#sdiprice">SDIPrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Get the price of SDI in USD, oracle precision.</p>
<pre><code class="language-solidity">function SDIPrice() view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="oracleprice"><a class="header" href="#oracleprice">oraclePrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Oracle price, a private view library function.</p>
<pre><code class="language-solidity">function oraclePrice(OracleType _oracleId, bytes12 _assetId) view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracleId</code></td><td><code>OracleType</code></td><td>The oracle id (uint8).</td></tr>
<tr><td><code>_assetId</code></td><td><code>bytes12</code></td><td>The asset id (bytes12).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 oracle price.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="handlesequencerdown"><a class="header" href="#handlesequencerdown">handleSequencerDown</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<pre><code class="language-solidity">function handleSequencerDown(OracleType[2] memory oracles, uint256[2] memory prices) pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wadtodecimal"><a class="header" href="#wadtodecimal">wadToDecimal</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Converts an uint256 with wad precision into a number with @param _decimals precision</p>
<pre><code class="language-solidity">function wadToDecimal(uint256 _wadValue, uint8 _decimals) pure returns (uint256 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_wadValue</code></td><td><code>uint256</code></td><td>value with wad precision</td></tr>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>with decimal precision</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="deduceprice"><a class="header" href="#deduceprice">deducePrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Checks the primary and reference price for deviations.</p>
<p>Reverts if the price deviates more than <code>_oracleDeviationPct</code></p>
<pre><code class="language-solidity">function deducePrice(uint256 _primaryPrice, uint256 _referencePrice, uint256 _oracleDeviationPct)
    pure
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_primaryPrice</code></td><td><code>uint256</code></td><td>the primary price source to use</td></tr>
<tr><td><code>_referencePrice</code></td><td><code>uint256</code></td><td>the reference price to compare primary against</td></tr>
<tr><td><code>_oracleDeviationPct</code></td><td><code>uint256</code></td><td>the deviation percentage to use for the oracle</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Primary price if its within deviation range of reference price. Or the primary price is reference price is 0. Or the reference price if primary price is 0. Or revert if price deviates more than <code>_oracleDeviationPct</code></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="api3price"><a class="header" href="#api3price">API3Price</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<p>Gets answer from IProxy type feed.</p>
<pre><code class="language-solidity">function API3Price(address _feedAddr) view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Parsed answer from the feed, 0 if its stale.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="function-oraclepricetowad"><a class="header" href="#function-oraclepricetowad">function oraclePriceToWad</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Prices.sol">Git Source</a></p>
<h3 id="oraclepricetowaduint256-uint8"><a class="header" href="#oraclepricetowaduint256-uint8">oraclePriceToWad(uint256, uint8)</a></h3>
<p>Converts an uint256 with oracleDecimals into a number with 18 decimals</p>
<pre><code class="language-solidity">function oraclePriceToWad(uint256 _priceOracleDecimals, uint8 _decimals) pure returns (uint256);
</code></pre>
<h3 id="oraclepricetowadint256-uint8"><a class="header" href="#oraclepricetowadint256-uint8">oraclePriceToWad(int256, uint8)</a></h3>
<p>Converts an int256 with some decimal precision into a number with 18 decimals</p>
<pre><code class="language-solidity">function oraclePriceToWad(int256 _priceDecimalPrecision, uint8 _decimals) pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="issequencerup"><a class="header" href="#issequencerup">isSequencerUp</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/funcs/Utils.sol">Git Source</a></p>
<p>Checks if the L2 sequencer is up.
1 means the sequencer is down, 0 means the sequencer is up.</p>
<pre><code class="language-solidity">function isSequencerUp() view returns (bool);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool returns true/false if the sequencer is up/not.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-5"><a class="header" href="#contents-5">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/common/interfaces/IAssetConfigurationFacet.sol/interface.IAssetConfigurationFacet.html">IAssetConfigurationFacet</a></li>
<li><a href="src/contracts/core/common/interfaces/IAssetStateFacet.sol/interface.IAssetStateFacet.html">IAssetStateFacet</a></li>
<li><a href="src/contracts/core/common/interfaces/IAuthorizationFacet.sol/interface.IAuthorizationFacet.html">IAuthorizationFacet</a></li>
<li><a href="src/contracts/core/common/interfaces/ICommonConfigurationFacet.sol/interface.ICommonConfigurationFacet.html">ICommonConfigurationFacet</a></li>
<li><a href="src/contracts/core/common/interfaces/ICommonStateFacet.sol/interface.ICommonStateFacet.html">ICommonStateFacet</a></li>
<li><a href="src/contracts/core/common/interfaces/IERC1155.sol/interface.IERC1155.html">IERC1155</a></li>
<li><a href="src/contracts/core/common/interfaces/ISafetyCouncilFacet.sol/interface.ISafetyCouncilFacet.html">ISafetyCouncilFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iassetconfigurationfacet"><a class="header" href="#iassetconfigurationfacet">IAssetConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/interfaces/IAssetConfigurationFacet.sol">Git Source</a></p>
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<h3 id="addasset-1"><a class="header" href="#addasset-1">addAsset</a></h3>
<p>Adds a new asset to the system.</p>
<p>Performs validations according to the config set.</p>
<p><em>Use validatConfig or staticCall to validate config before calling this function.</em></p>
<pre><code class="language-solidity">function addAsset(address _assetAddr, Asset memory _config, FeedConfiguration memory _feedConfig, bool _setFeeds)
    external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>The configuration for the asset.</td></tr>
<tr><td><code>_feedConfig</code></td><td><code>FeedConfiguration</code></td><td>The feed configuration for the asset.</td></tr>
<tr><td><code>_setFeeds</code></td><td><code>bool</code></td><td>Whether to actually set feeds or not.</td></tr>
</tbody></table>
</div>
<h3 id="updateasset-1"><a class="header" href="#updateasset-1">updateAsset</a></h3>
<p>Update asset config.</p>
<p>Performs validations according to the config set.</p>
<p><em>Use validatConfig or staticCall to validate config before calling this function.</em></p>
<pre><code class="language-solidity">function updateAsset(address _assetAddr, Asset memory _config) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>The configuration for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="updatefeeds-1"><a class="header" href="#updatefeeds-1">updateFeeds</a></h3>
<p>Set feeds for an asset Id.</p>
<pre><code class="language-solidity">function updateFeeds(bytes12 _assetId, FeedConfiguration memory _feedConfig) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetId</code></td><td><code>bytes12</code></td><td>Asset id.</td></tr>
<tr><td><code>_feedConfig</code></td><td><code>FeedConfiguration</code></td><td>List oracle configuration containing oracle identifiers and feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="validateassetconfig-1"><a class="header" href="#validateassetconfig-1">validateAssetConfig</a></h3>
<p>Validate supplied asset config. Reverts with information if invalid.</p>
<pre><code class="language-solidity">function validateAssetConfig(address _assetAddr, Asset memory _config) external view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_config</code></td><td><code>Asset</code></td><td>The configuration for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setchainlinkfeeds-1"><a class="header" href="#setchainlinkfeeds-1">setChainlinkFeeds</a></h3>
<p>Set chainlink feeds for assetIds.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setChainlinkFeeds(bytes12[] calldata _assetIds, address[] calldata _feeds) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIds</code></td><td><code>bytes12[]</code></td><td>List of asset id's.</td></tr>
<tr><td><code>_feeds</code></td><td><code>address[]</code></td><td>List of feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setapi3feeds-1"><a class="header" href="#setapi3feeds-1">setApi3Feeds</a></h3>
<p>Set api3 feeds for assetIds.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setApi3Feeds(bytes12[] calldata _assetIds, address[] calldata _feeds) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIds</code></td><td><code>bytes12[]</code></td><td>List of asset id's.</td></tr>
<tr><td><code>_feeds</code></td><td><code>address[]</code></td><td>List of feed addresses.</td></tr>
</tbody></table>
</div>
<h3 id="setchainlinkfeed-1"><a class="header" href="#setchainlinkfeed-1">setChainLinkFeed</a></h3>
<p>Set chain link feed for an asset.</p>
<pre><code class="language-solidity">function setChainLinkFeed(bytes12 _assetId, address _feedAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetId</code></td><td><code>bytes12</code></td><td>The asset (bytes12).</td></tr>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<h3 id="setapi3feed-1"><a class="header" href="#setapi3feed-1">setApi3Feed</a></h3>
<p>Set api3 feed address for an asset.</p>
<pre><code class="language-solidity">function setApi3Feed(bytes12 _assetId, address _feedAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetId</code></td><td><code>bytes12</code></td><td>The asset (bytes12).</td></tr>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>The feed address.</td></tr>
</tbody></table>
</div>
<h3 id="updateoracleorder-1"><a class="header" href="#updateoracleorder-1">updateOracleOrder</a></h3>
<p>Update oracle order for an asset.</p>
<pre><code class="language-solidity">function updateOracleOrder(address _assetAddr, OracleType[2] memory _newOracleOrder) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_newOracleOrder</code></td><td><code>OracleType[2]</code></td><td>List of 2 OracleTypes. 0 is primary and 1 is the reference.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iassetstatefacet"><a class="header" href="#iassetstatefacet">IAssetStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/interfaces/IAssetStateFacet.sol">Git Source</a></p>
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<h3 id="getasset-1"><a class="header" href="#getasset-1">getAsset</a></h3>
<p>Get the state of a specific asset</p>
<pre><code class="language-solidity">function getAsset(address _assetAddr) external view returns (Asset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Address of the asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Asset</code></td><td>State of assets <code>asset</code> struct</td></tr>
</tbody></table>
</div>
<h3 id="getprice-1"><a class="header" href="#getprice-1">getPrice</a></h3>
<p>Get price for an asset from address.</p>
<pre><code class="language-solidity">function getPrice(address _assetAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Current price for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="getvalue-1"><a class="header" href="#getvalue-1">getValue</a></h3>
<p>Get value for an asset amount using the current price.</p>
<pre><code class="language-solidity">function getValue(address _assetAddr, uint256 _amount) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset address.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Current value for <code>_amount</code> of <code>_assetAddr</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getfeedforid-1"><a class="header" href="#getfeedforid-1">getFeedForId</a></h3>
<p>Gets the feed address for this underlying + oracle type.</p>
<pre><code class="language-solidity">function getFeedForId(bytes12 _underlyingId, OracleType _oracleType) external view returns (address feedAddr);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_underlyingId</code></td><td><code>bytes12</code></td><td>The underlying asset id in 12 bytes.</td></tr>
<tr><td><code>_oracleType</code></td><td><code>OracleType</code></td><td>The oracle type.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feedAddr</code></td><td><code>address</code></td><td>Feed address matching the oracle type given.</td></tr>
</tbody></table>
</div>
<h3 id="getfeedforaddress-1"><a class="header" href="#getfeedforaddress-1">getFeedForAddress</a></h3>
<p>Gets corresponding feed address for the oracle type and asset address.</p>
<pre><code class="language-solidity">function getFeedForAddress(address _assetAddr, OracleType _oracleType) external view returns (address feedAddr);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
<tr><td><code>_oracleType</code></td><td><code>OracleType</code></td><td>The oracle type.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feedAddr</code></td><td><code>address</code></td><td>Feed address that the asset uses with the oracle type.</td></tr>
</tbody></table>
</div>
<h3 id="getpriceofasset-1"><a class="header" href="#getpriceofasset-1">getPriceOfAsset</a></h3>
<p>Gets the deduced price in use from oracles defined for this asset address.</p>
<pre><code class="language-solidity">function getPriceOfAsset(address _assetAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 The current price.</td></tr>
</tbody></table>
</div>
<h3 id="getchainlinkprice-1"><a class="header" href="#getchainlinkprice-1">getChainlinkPrice</a></h3>
<p>Price getter for AggregatorV3/Chainlink type feeds.</p>
<p>Returns 0-price if answer is stale. This triggers the use of a secondary provider if available.</p>
<p><em>Valid call will revert if the answer is negative.</em></p>
<pre><code class="language-solidity">function getChainlinkPrice(address _feedAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>AggregatorV3 type feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Price answer from the feed, 0 if the price is stale.</td></tr>
</tbody></table>
</div>
<h3 id="redstoneprice-2"><a class="header" href="#redstoneprice-2">redstonePrice</a></h3>
<p>Price getter for Redstone, extracting the price from the supplied &quot;hidden&quot; calldata.
Reverts for a number of reasons, notably:</p>
<ol>
<li>Invalid calldata</li>
<li>Not enough signers for the price data.</li>
<li>Wrong signers for the price data.</li>
<li>Stale price data.</li>
<li>Not enough data points</li>
</ol>
<pre><code class="language-solidity">function redstonePrice(bytes12 _underlyingId, address) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_underlyingId</code></td><td><code>bytes12</code></td><td>The reference asset id (bytes12).</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Extracted price with enough unique signers.</td></tr>
</tbody></table>
</div>
<h3 id="getapi3price-1"><a class="header" href="#getapi3price-1">getAPI3Price</a></h3>
<p>Price getter for IProxy/API3 type feeds.</p>
<p>Decimal precision is NOT the same as other sources.</p>
<p>Returns 0-price if answer is stale.This triggers the use of a secondary provider if available.</p>
<p><em>Valid call will revert if the answer is negative.</em></p>
<pre><code class="language-solidity">function getAPI3Price(address _feedAddr) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feedAddr</code></td><td><code>address</code></td><td>IProxy type feed address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Price answer from the feed, 0 if the price is stale.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iauthorizationfacet"><a class="header" href="#iauthorizationfacet">IAuthorizationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/interfaces/IAuthorizationFacet.sol">Git Source</a></p>
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<h3 id="getrolemember-1"><a class="header" href="#getrolemember-1">getRoleMember</a></h3>
<p>WARNING:
When using {getRoleMember} and {getRoleMemberCount}, make sure
you perform all queries on the same block.
See the following forum post for more information:</p>
<ul>
<li>https://forum.openzeppelin.com/t/iterating-over-elements-on-enumerableset-in-openzeppelin-contracts/2296</li>
</ul>
<p><em>OpenZeppelin
Returns one of the accounts that have <code>role</code>. <code>index</code> must be a
value between 0 and {getRoleMemberCount}, non-inclusive.
Role bearers are not sorted in any particular way, and their ordering may
change at any point.</em></p>
<p>*Kresko
TL;DR above:</p>
<ul>
<li>If you iterate the EnumSet outside a single block scope you might get different results.</li>
<li>Since when EnumSet member is deleted it is replaced with the highest index.*</li>
</ul>
<pre><code class="language-solidity">function getRoleMember(bytes32 role, uint256 index) external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>address with the <code>role</code></td></tr>
</tbody></table>
</div>
<h3 id="getrolemembercount-1"><a class="header" href="#getrolemembercount-1">getRoleMemberCount</a></h3>
<p>See warning in {getRoleMember} if combining these two</p>
<p><em>Returns the number of accounts that have <code>role</code>. Can be used
together with {getRoleMember} to enumerate all bearers of a role.</em></p>
<pre><code class="language-solidity">function getRoleMemberCount(bytes32 role) external view returns (uint256);
</code></pre>
<h3 id="grantrole-1"><a class="header" href="#grantrole-1">grantRole</a></h3>
<p>*Grants <code>role</code> to <code>account</code>.
If <code>account</code> had not been already granted <code>role</code>, emits a {RoleGranted}
event.
Requirements:</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.*</li>
</ul>
<pre><code class="language-solidity">function grantRole(bytes32 role, address account) external;
</code></pre>
<h3 id="getroleadmin-1"><a class="header" href="#getroleadmin-1">getRoleAdmin</a></h3>
<p>To change a role's admin, use {_setRoleAdmin}.</p>
<p><em>Returns the admin role that controls <code>role</code>. See {grantRole} and
{revokeRole}.</em></p>
<pre><code class="language-solidity">function getRoleAdmin(bytes32 role) external view returns (bytes32);
</code></pre>
<h3 id="hasrole-1"><a class="header" href="#hasrole-1">hasRole</a></h3>
<p><em>Returns true if <code>account</code> has been granted <code>role</code>.</em></p>
<pre><code class="language-solidity">function hasRole(bytes32 role, address account) external view returns (bool);
</code></pre>
<h3 id="renouncerole-1"><a class="header" href="#renouncerole-1">renounceRole</a></h3>
<p>Requirements</p>
<ul>
<li>the caller must be <code>account</code>.</li>
</ul>
<p><em>Revokes <code>role</code> from the calling account.
Roles are often managed via {grantRole} and {revokeRole}: this function's
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).
If the calling account had been revoked <code>role</code>, emits a {RoleRevoked}
event.</em></p>
<pre><code class="language-solidity">function renounceRole(bytes32 role, address account) external;
</code></pre>
<h3 id="revokerole-1"><a class="header" href="#revokerole-1">revokeRole</a></h3>
<p>Requirements</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.</li>
</ul>
<p><em>Revokes <code>role</code> from <code>account</code>.</em></p>
<pre><code class="language-solidity">function revokeRole(bytes32 role, address account) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icommonconfigurationfacet"><a class="header" href="#icommonconfigurationfacet">ICommonConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/interfaces/ICommonConfigurationFacet.sol">Git Source</a></p>
<h2 id="functions-10"><a class="header" href="#functions-10">Functions</a></h2>
<h3 id="updatefeerecipient-1"><a class="header" href="#updatefeerecipient-1">updateFeeRecipient</a></h3>
<p>Updates the fee recipient.</p>
<pre><code class="language-solidity">function updateFeeRecipient(address _newFeeRecipient) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newFeeRecipient</code></td><td><code>address</code></td><td>The new fee recipient.</td></tr>
</tbody></table>
</div>
<h3 id="updatemindebtvalue-1"><a class="header" href="#updatemindebtvalue-1">updateMinDebtValue</a></h3>
<p><em>Updates the contract's minimum debt value.</em></p>
<pre><code class="language-solidity">function updateMinDebtValue(uint96 _newMinDebtValue) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMinDebtValue</code></td><td><code>uint96</code></td><td>The new minimum debt value as a wad.</td></tr>
</tbody></table>
</div>
<h3 id="updateextoracledecimals-1"><a class="header" href="#updateextoracledecimals-1">updateExtOracleDecimals</a></h3>
<p>Sets the decimal precision of external oracle</p>
<pre><code class="language-solidity">function updateExtOracleDecimals(uint8 _decimals) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>Amount of decimals</td></tr>
</tbody></table>
</div>
<h3 id="updateoracledeviationpct-1"><a class="header" href="#updateoracledeviationpct-1">updateOracleDeviationPct</a></h3>
<p>Sets the decimal precision of external oracle</p>
<pre><code class="language-solidity">function updateOracleDeviationPct(uint16 _oracleDeviationPct) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracleDeviationPct</code></td><td><code>uint16</code></td><td>Amount of decimals</td></tr>
</tbody></table>
</div>
<h3 id="updatesequenceruptimefeed-1"><a class="header" href="#updatesequenceruptimefeed-1">updateSequencerUptimeFeed</a></h3>
<p>Sets L2 sequencer uptime feed address</p>
<pre><code class="language-solidity">function updateSequencerUptimeFeed(address _sequencerUptimeFeed) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sequencerUptimeFeed</code></td><td><code>address</code></td><td>sequencer uptime feed address</td></tr>
</tbody></table>
</div>
<h3 id="updatesequencergraceperiodtime-1"><a class="header" href="#updatesequencergraceperiodtime-1">updateSequencerGracePeriodTime</a></h3>
<p>Sets sequencer grace period time</p>
<pre><code class="language-solidity">function updateSequencerGracePeriodTime(uint32 _sequencerGracePeriodTime) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sequencerGracePeriodTime</code></td><td><code>uint32</code></td><td>grace period time</td></tr>
</tbody></table>
</div>
<h3 id="updateoracletimeout-1"><a class="header" href="#updateoracletimeout-1">updateOracleTimeout</a></h3>
<p>Sets oracle timeout</p>
<pre><code class="language-solidity">function updateOracleTimeout(uint32 _oracleTimeout) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracleTimeout</code></td><td><code>uint32</code></td><td>oracle timeout in seconds</td></tr>
</tbody></table>
</div>
<h3 id="updatephase-1"><a class="header" href="#updatephase-1">updatePhase</a></h3>
<p>Sets phase of gating mechanism</p>
<pre><code class="language-solidity">function updatePhase(uint8 _phase) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_phase</code></td><td><code>uint8</code></td><td>phase id</td></tr>
</tbody></table>
</div>
<h3 id="updatekreskian-1"><a class="header" href="#updatekreskian-1">updateKreskian</a></h3>
<p>Sets address of Kreskian NFT contract</p>
<pre><code class="language-solidity">function updateKreskian(address _kreskian) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskian</code></td><td><code>address</code></td><td>kreskian nft contract address</td></tr>
</tbody></table>
</div>
<h3 id="updatequestforkresk-1"><a class="header" href="#updatequestforkresk-1">updateQuestForKresk</a></h3>
<p>Sets address of Quest For Kresk NFT contract</p>
<pre><code class="language-solidity">function updateQuestForKresk(address _questForKresk) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_questForKresk</code></td><td><code>address</code></td><td>Quest For Kresk NFT contract address</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="icommonstatefacet"><a class="header" href="#icommonstatefacet">ICommonStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/interfaces/ICommonStateFacet.sol">Git Source</a></p>
<h2 id="functions-11"><a class="header" href="#functions-11">Functions</a></h2>
<h3 id="domainseparator-1"><a class="header" href="#domainseparator-1">domainSeparator</a></h3>
<p>The EIP-712 typehash for the contract's domain.</p>
<pre><code class="language-solidity">function domainSeparator() external view returns (bytes32);
</code></pre>
<h3 id="getstorageversion-1"><a class="header" href="#getstorageversion-1">getStorageVersion</a></h3>
<p>amount of times the storage has been upgraded</p>
<pre><code class="language-solidity">function getStorageVersion() external view returns (uint96);
</code></pre>
<h3 id="getfeerecipient-1"><a class="header" href="#getfeerecipient-1">getFeeRecipient</a></h3>
<p>The recipient of protocol fees.</p>
<pre><code class="language-solidity">function getFeeRecipient() external view returns (address);
</code></pre>
<h3 id="getextoracledecimals-1"><a class="header" href="#getextoracledecimals-1">getExtOracleDecimals</a></h3>
<p>Offchain oracle decimals</p>
<pre><code class="language-solidity">function getExtOracleDecimals() external view returns (uint8);
</code></pre>
<h3 id="getoracledeviationpct-1"><a class="header" href="#getoracledeviationpct-1">getOracleDeviationPct</a></h3>
<p>max deviation between main oracle and fallback oracle</p>
<pre><code class="language-solidity">function getOracleDeviationPct() external view returns (uint16);
</code></pre>
<h3 id="getmindebtvalue-1"><a class="header" href="#getmindebtvalue-1">getMinDebtValue</a></h3>
<p>The minimum USD value of an individual synthetic asset debt position.</p>
<pre><code class="language-solidity">function getMinDebtValue() external view returns (uint96);
</code></pre>
<h3 id="getsequenceruptimefeed-1"><a class="header" href="#getsequenceruptimefeed-1">getSequencerUptimeFeed</a></h3>
<p>Get the L2 sequencer uptime feed address.</p>
<pre><code class="language-solidity">function getSequencerUptimeFeed() external view returns (address);
</code></pre>
<h3 id="getsequenceruptimefeedgraceperiod-1"><a class="header" href="#getsequenceruptimefeedgraceperiod-1">getSequencerUptimeFeedGracePeriod</a></h3>
<p>Get the L2 sequencer uptime feed grace period</p>
<pre><code class="language-solidity">function getSequencerUptimeFeedGracePeriod() external view returns (uint32);
</code></pre>
<h3 id="getoracletimeout-1"><a class="header" href="#getoracletimeout-1">getOracleTimeout</a></h3>
<p>Get stale timeout treshold for oracle answers.</p>
<pre><code class="language-solidity">function getOracleTimeout() external view returns (uint32);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc1155"><a class="header" href="#ierc1155">IERC1155</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/interfaces/IERC1155.sol">Git Source</a></p>
<h2 id="functions-12"><a class="header" href="#functions-12">Functions</a></h2>
<h3 id="balanceof"><a class="header" href="#balanceof">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address account, uint256 id) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="isafetycouncilfacet"><a class="header" href="#isafetycouncilfacet">ISafetyCouncilFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/interfaces/ISafetyCouncilFacet.sol">Git Source</a></p>
<h2 id="functions-13"><a class="header" href="#functions-13">Functions</a></h2>
<h3 id="toggleassetspaused-1"><a class="header" href="#toggleassetspaused-1">toggleAssetsPaused</a></h3>
<p>These functions are only callable by a multisig quorum.</p>
<p><em>Toggle paused-state of assets in a per-action basis</em></p>
<pre><code class="language-solidity">function toggleAssetsPaused(address[] memory _assets, Action _action, bool _withDuration, uint256 _duration) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assets</code></td><td><code>address[]</code></td><td>list of addresses of krAssets and/or collateral assets</td></tr>
<tr><td><code>_action</code></td><td><code>Action</code></td><td>One of possible user actions: Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
<tr><td><code>_withDuration</code></td><td><code>bool</code></td><td>Set a duration for this pause - @todo: implement it if required</td></tr>
<tr><td><code>_duration</code></td><td><code>uint256</code></td><td>Duration for the pause if <code>_withDuration</code> is true</td></tr>
</tbody></table>
</div>
<h3 id="setsafetystateset-1"><a class="header" href="#setsafetystateset-1">setSafetyStateSet</a></h3>
<p>set the safetyStateSet flag</p>
<pre><code class="language-solidity">function setSafetyStateSet(bool val) external;
</code></pre>
<h3 id="safetystateset-1"><a class="header" href="#safetystateset-1">safetyStateSet</a></h3>
<p>For external checks if a safety state has been set for any asset</p>
<pre><code class="language-solidity">function safetyStateSet() external view returns (bool);
</code></pre>
<h3 id="safetystatefor-1"><a class="header" href="#safetystatefor-1">safetyStateFor</a></h3>
<p>View the state of safety measures for an asset on a per-action basis</p>
<pre><code class="language-solidity">function safetyStateFor(address _asset, Action _action) external view returns (SafetyState memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>krAsset / collateral asset</td></tr>
<tr><td><code>_action</code></td><td><code>Action</code></td><td>One of possible user actions: Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
</tbody></table>
</div>
<h3 id="assetactionpaused-1"><a class="header" href="#assetactionpaused-1">assetActionPaused</a></h3>
<p>Check if <code>_asset</code> has a pause enabled for <code>_action</code></p>
<pre><code class="language-solidity">function assetActionPaused(Action _action, address _asset) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_action</code></td><td><code>Action</code></td><td>enum <code>Action</code> Deposit = 0 Withdraw = 1, Repay = 2, Borrow = 3, Liquidate = 4</td></tr>
<tr><td><code>_asset</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>true if <code>_action</code> is paused</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ignosissafel2"><a class="header" href="#ignosissafel2">IGnosisSafeL2</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Auth.sol">Git Source</a></p>
<h2 id="functions-14"><a class="header" href="#functions-14">Functions</a></h2>
<h3 id="isowner"><a class="header" href="#isowner">isOwner</a></h3>
<pre><code class="language-solidity">function isOwner(address owner) external view returns (bool);
</code></pre>
<h3 id="getowners"><a class="header" href="#getowners">getOwners</a></h3>
<pre><code class="language-solidity">function getOwners() external view returns (address[] memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="auth"><a class="header" href="#auth">Auth</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Auth.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<h2 id="functions-15"><a class="header" href="#functions-15">Functions</a></h2>
<h3 id="hasrole-2"><a class="header" href="#hasrole-2">hasRole</a></h3>
<pre><code class="language-solidity">function hasRole(bytes32 role, address account) internal view returns (bool);
</code></pre>
<h3 id="getrolemembercount-2"><a class="header" href="#getrolemembercount-2">getRoleMemberCount</a></h3>
<pre><code class="language-solidity">function getRoleMemberCount(bytes32 role) internal view returns (uint256);
</code></pre>
<h3 id="checkrole"><a class="header" href="#checkrole">checkRole</a></h3>
<p><em>Revert with a standard message if <code>Meta.msgSender</code> is missing <code>role</code>.
Overriding this function changes the behavior of the {onlyRole} modifier.
Format of the revert message is described in {_checkRole}.
<em>Available since v4.6.</em></em></p>
<pre><code class="language-solidity">function checkRole(bytes32 role) internal view;
</code></pre>
<h3 id="_checkrole"><a class="header" href="#_checkrole">_checkRole</a></h3>
<p><em>Revert with a standard message if <code>account</code> is missing <code>role</code>.
The format of the revert reason is given by the following regular expression:
/^AccessControl: account (0x[0-9a-f]{40}) is missing role (0x[0-9a-f]{64})$/</em></p>
<pre><code class="language-solidity">function _checkRole(bytes32 role, address account) internal view;
</code></pre>
<h3 id="getroleadmin-2"><a class="header" href="#getroleadmin-2">getRoleAdmin</a></h3>
<p><em>Returns the admin role that controls <code>role</code>. See {grantRole} and
{revokeRole}.
To change a role's admin, use {_setRoleAdmin}.</em></p>
<pre><code class="language-solidity">function getRoleAdmin(bytes32 role) internal view returns (bytes32);
</code></pre>
<h3 id="getrolemember-2"><a class="header" href="#getrolemember-2">getRoleMember</a></h3>
<pre><code class="language-solidity">function getRoleMember(bytes32 role, uint256 index) internal view returns (address);
</code></pre>
<h3 id="setupsecuritycouncil"><a class="header" href="#setupsecuritycouncil">setupSecurityCouncil</a></h3>
<p>setups the security council</p>
<pre><code class="language-solidity">function setupSecurityCouncil(address _councilAddress) internal;
</code></pre>
<h3 id="transfersecuritycouncil"><a class="header" href="#transfersecuritycouncil">transferSecurityCouncil</a></h3>
<pre><code class="language-solidity">function transferSecurityCouncil(address _newCouncil) internal;
</code></pre>
<h3 id="grantrole-2"><a class="header" href="#grantrole-2">grantRole</a></h3>
<p>*Grants <code>role</code> to <code>account</code>.
If <code>account</code> had not been already granted <code>role</code>, emits a {RoleGranted}
event.
Requirements:</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.*</li>
</ul>
<pre><code class="language-solidity">function grantRole(bytes32 role, address account) internal;
</code></pre>
<h3 id="revokerole-2"><a class="header" href="#revokerole-2">revokeRole</a></h3>
<p>*Revokes <code>role</code> from <code>account</code>.
If <code>account</code> had been granted <code>role</code>, emits a {RoleRevoked} event.
Requirements:</p>
<ul>
<li>the caller must have <code>role</code>'s admin role.*</li>
</ul>
<pre><code class="language-solidity">function revokeRole(bytes32 role, address account) internal;
</code></pre>
<h3 id="_renouncerole"><a class="header" href="#_renouncerole">_renounceRole</a></h3>
<p>*Revokes <code>role</code> from the calling account.
Roles are often managed via {grantRole} and {revokeRole}: this function's
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).
If the calling account had been revoked <code>role</code>, emits a {RoleRevoked}
event.
Requirements:</p>
<ul>
<li>the caller must be <code>account</code>.*</li>
</ul>
<pre><code class="language-solidity">function _renounceRole(bytes32 role, address account) internal;
</code></pre>
<h3 id="_setroleadmin"><a class="header" href="#_setroleadmin">_setRoleAdmin</a></h3>
<p><em>Sets <code>adminRole</code> as <code>role</code>'s admin role.
Emits a {RoleAdminChanged} event.</em></p>
<pre><code class="language-solidity">function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal;
</code></pre>
<h3 id="_grantrole"><a class="header" href="#_grantrole">_grantRole</a></h3>
<p>Cannot grant the role <code>SAFETY_COUNCIL</code> - must be done via explicit function.
Internal function without access restriction.</p>
<p><em>Grants <code>role</code> to <code>account</code>.</em></p>
<pre><code class="language-solidity">function _grantRole(bytes32 role, address account) internal ensureNotSafetyCouncil(role);
</code></pre>
<h3 id="_revokerole"><a class="header" href="#_revokerole">_revokeRole</a></h3>
<p><em>Revokes <code>role</code> from <code>account</code>.
Internal function without access restriction.</em></p>
<pre><code class="language-solidity">function _revokeRole(bytes32 role, address account) internal;
</code></pre>
<h3 id="ensurenotsafetycouncil"><a class="header" href="#ensurenotsafetycouncil">ensureNotSafetyCouncil</a></h3>
<p><em>Ensure we use the explicit <code>grantSafetyCouncilRole</code> function.</em></p>
<pre><code class="language-solidity">modifier ensureNotSafetyCouncil(bytes32 role);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cerror"><a class="header" href="#cerror">CError</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/CError.sol">Git Source</a></p>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="diamond_calldata_is_not_empty"><a class="header" href="#diamond_calldata_is_not_empty">DIAMOND_CALLDATA_IS_NOT_EMPTY</a></h3>
<pre><code class="language-solidity">error DIAMOND_CALLDATA_IS_NOT_EMPTY();
</code></pre>
<h3 id="address_has_no_code"><a class="header" href="#address_has_no_code">ADDRESS_HAS_NO_CODE</a></h3>
<pre><code class="language-solidity">error ADDRESS_HAS_NO_CODE(address);
</code></pre>
<h3 id="diamond_init_address_zero_but_calldata_not_empty"><a class="header" href="#diamond_init_address_zero_but_calldata_not_empty">DIAMOND_INIT_ADDRESS_ZERO_BUT_CALLDATA_NOT_EMPTY</a></h3>
<pre><code class="language-solidity">error DIAMOND_INIT_ADDRESS_ZERO_BUT_CALLDATA_NOT_EMPTY();
</code></pre>
<h3 id="diamond_init_not_zero_but_calldata_is_empty"><a class="header" href="#diamond_init_not_zero_but_calldata_is_empty">DIAMOND_INIT_NOT_ZERO_BUT_CALLDATA_IS_EMPTY</a></h3>
<pre><code class="language-solidity">error DIAMOND_INIT_NOT_ZERO_BUT_CALLDATA_IS_EMPTY();
</code></pre>
<h3 id="diamond_init_has_no_code"><a class="header" href="#diamond_init_has_no_code">DIAMOND_INIT_HAS_NO_CODE</a></h3>
<pre><code class="language-solidity">error DIAMOND_INIT_HAS_NO_CODE();
</code></pre>
<h3 id="diamond_function_already_exists"><a class="header" href="#diamond_function_already_exists">DIAMOND_FUNCTION_ALREADY_EXISTS</a></h3>
<pre><code class="language-solidity">error DIAMOND_FUNCTION_ALREADY_EXISTS(address, address, bytes4);
</code></pre>
<h3 id="diamond_init_failed"><a class="header" href="#diamond_init_failed">DIAMOND_INIT_FAILED</a></h3>
<pre><code class="language-solidity">error DIAMOND_INIT_FAILED(address);
</code></pre>
<h3 id="diamond_incorrect_facet_cut_action"><a class="header" href="#diamond_incorrect_facet_cut_action">DIAMOND_INCORRECT_FACET_CUT_ACTION</a></h3>
<pre><code class="language-solidity">error DIAMOND_INCORRECT_FACET_CUT_ACTION();
</code></pre>
<h3 id="diamond_remove_functions_nonzero_facet_address"><a class="header" href="#diamond_remove_functions_nonzero_facet_address">DIAMOND_REMOVE_FUNCTIONS_NONZERO_FACET_ADDRESS</a></h3>
<pre><code class="language-solidity">error DIAMOND_REMOVE_FUNCTIONS_NONZERO_FACET_ADDRESS(address);
</code></pre>
<h3 id="diamond_no_facet_selectors"><a class="header" href="#diamond_no_facet_selectors">DIAMOND_NO_FACET_SELECTORS</a></h3>
<pre><code class="language-solidity">error DIAMOND_NO_FACET_SELECTORS(address);
</code></pre>
<h3 id="eth_transfer_failed"><a class="header" href="#eth_transfer_failed">ETH_TRANSFER_FAILED</a></h3>
<pre><code class="language-solidity">error ETH_TRANSFER_FAILED(address, uint256);
</code></pre>
<h3 id="transfer_failed"><a class="header" href="#transfer_failed">TRANSFER_FAILED</a></h3>
<pre><code class="language-solidity">error TRANSFER_FAILED(address, address, address, uint256);
</code></pre>
<h3 id="invalid_signer"><a class="header" href="#invalid_signer">INVALID_SIGNER</a></h3>
<pre><code class="language-solidity">error INVALID_SIGNER(address, address);
</code></pre>
<h3 id="approve_failed"><a class="header" href="#approve_failed">APPROVE_FAILED</a></h3>
<pre><code class="language-solidity">error APPROVE_FAILED(address, address, address, uint256);
</code></pre>
<h3 id="permit_deadline_expired"><a class="header" href="#permit_deadline_expired">PERMIT_DEADLINE_EXPIRED</a></h3>
<pre><code class="language-solidity">error PERMIT_DEADLINE_EXPIRED(address, address, uint256, uint256);
</code></pre>
<h3 id="safe_erc20_permit_erc20_operation_failed"><a class="header" href="#safe_erc20_permit_erc20_operation_failed">SAFE_ERC20_PERMIT_ERC20_OPERATION_FAILED</a></h3>
<pre><code class="language-solidity">error SAFE_ERC20_PERMIT_ERC20_OPERATION_FAILED(address);
</code></pre>
<h3 id="safe_erc20_permit_approve_non_zero"><a class="header" href="#safe_erc20_permit_approve_non_zero">SAFE_ERC20_PERMIT_APPROVE_NON_ZERO</a></h3>
<pre><code class="language-solidity">error SAFE_ERC20_PERMIT_APPROVE_NON_ZERO(address, uint256, uint256);
</code></pre>
<h3 id="diamond_remove_function_facet_is_zero"><a class="header" href="#diamond_remove_function_facet_is_zero">DIAMOND_REMOVE_FUNCTION_FACET_IS_ZERO</a></h3>
<pre><code class="language-solidity">error DIAMOND_REMOVE_FUNCTION_FACET_IS_ZERO();
</code></pre>
<h3 id="diamond_replace_function_duplicate"><a class="header" href="#diamond_replace_function_duplicate">DIAMOND_REPLACE_FUNCTION_DUPLICATE</a></h3>
<pre><code class="language-solidity">error DIAMOND_REPLACE_FUNCTION_DUPLICATE();
</code></pre>
<h3 id="string_hex_length_insufficient"><a class="header" href="#string_hex_length_insufficient">STRING_HEX_LENGTH_INSUFFICIENT</a></h3>
<pre><code class="language-solidity">error STRING_HEX_LENGTH_INSUFFICIENT();
</code></pre>
<h3 id="already_initialized"><a class="header" href="#already_initialized">ALREADY_INITIALIZED</a></h3>
<pre><code class="language-solidity">error ALREADY_INITIALIZED();
</code></pre>
<h3 id="safe_erc20_permit_decrease_below_zero"><a class="header" href="#safe_erc20_permit_decrease_below_zero">SAFE_ERC20_PERMIT_DECREASE_BELOW_ZERO</a></h3>
<pre><code class="language-solidity">error SAFE_ERC20_PERMIT_DECREASE_BELOW_ZERO(address, uint256, uint256);
</code></pre>
<h3 id="invalid_sender"><a class="header" href="#invalid_sender">INVALID_SENDER</a></h3>
<pre><code class="language-solidity">error INVALID_SENDER(address, address);
</code></pre>
<h3 id="not_owner"><a class="header" href="#not_owner">NOT_OWNER</a></h3>
<pre><code class="language-solidity">error NOT_OWNER(address who, address owner);
</code></pre>
<h3 id="not_pending_owner"><a class="header" href="#not_pending_owner">NOT_PENDING_OWNER</a></h3>
<pre><code class="language-solidity">error NOT_PENDING_OWNER(address who, address pendingOwner);
</code></pre>
<h3 id="seize_underflow"><a class="header" href="#seize_underflow">SEIZE_UNDERFLOW</a></h3>
<pre><code class="language-solidity">error SEIZE_UNDERFLOW(uint256, uint256);
</code></pre>
<h3 id="market_closed"><a class="header" href="#market_closed">MARKET_CLOSED</a></h3>
<pre><code class="language-solidity">error MARKET_CLOSED(address, string);
</code></pre>
<h3 id="scdp_asset_economy"><a class="header" href="#scdp_asset_economy">SCDP_ASSET_ECONOMY</a></h3>
<pre><code class="language-solidity">error SCDP_ASSET_ECONOMY(address seizeAsset, uint256 seizeReductionPct, address repayAsset, uint256 repayIncreasePct);
</code></pre>
<h3 id="minter_asset_economy"><a class="header" href="#minter_asset_economy">MINTER_ASSET_ECONOMY</a></h3>
<pre><code class="language-solidity">error MINTER_ASSET_ECONOMY(address seizeAsset, uint256 seizeReductionPct, address repayAsset, uint256 repayIncreasePct);
</code></pre>
<h3 id="invalid_asset"><a class="header" href="#invalid_asset">INVALID_ASSET</a></h3>
<pre><code class="language-solidity">error INVALID_ASSET(address asset);
</code></pre>
<h3 id="debt_exceeds_collateral"><a class="header" href="#debt_exceeds_collateral">DEBT_EXCEEDS_COLLATERAL</a></h3>
<pre><code class="language-solidity">error DEBT_EXCEEDS_COLLATERAL(uint256 collateralValue, uint256 minCollateralValue, uint32 ratio);
</code></pre>
<h3 id="deposit_limit"><a class="header" href="#deposit_limit">DEPOSIT_LIMIT</a></h3>
<pre><code class="language-solidity">error DEPOSIT_LIMIT(address asset, uint256 deposits, uint256 limit);
</code></pre>
<h3 id="invalid_min_debt"><a class="header" href="#invalid_min_debt">INVALID_MIN_DEBT</a></h3>
<pre><code class="language-solidity">error INVALID_MIN_DEBT(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_scdp_fee"><a class="header" href="#invalid_scdp_fee">INVALID_SCDP_FEE</a></h3>
<pre><code class="language-solidity">error INVALID_SCDP_FEE(address asset, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_mcr"><a class="header" href="#invalid_mcr">INVALID_MCR</a></h3>
<pre><code class="language-solidity">error INVALID_MCR(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="collateral_does_not_exist"><a class="header" href="#collateral_does_not_exist">COLLATERAL_DOES_NOT_EXIST</a></h3>
<pre><code class="language-solidity">error COLLATERAL_DOES_NOT_EXIST(address asset);
</code></pre>
<h3 id="krasset_does_not_exist"><a class="header" href="#krasset_does_not_exist">KRASSET_DOES_NOT_EXIST</a></h3>
<pre><code class="language-solidity">error KRASSET_DOES_NOT_EXIST(address asset);
</code></pre>
<h3 id="safety_council_not_allowed"><a class="header" href="#safety_council_not_allowed">SAFETY_COUNCIL_NOT_ALLOWED</a></h3>
<pre><code class="language-solidity">error SAFETY_COUNCIL_NOT_ALLOWED();
</code></pre>
<h3 id="native_token_disabled"><a class="header" href="#native_token_disabled">NATIVE_TOKEN_DISABLED</a></h3>
<pre><code class="language-solidity">error NATIVE_TOKEN_DISABLED();
</code></pre>
<h3 id="safety_council_invalid_address"><a class="header" href="#safety_council_invalid_address">SAFETY_COUNCIL_INVALID_ADDRESS</a></h3>
<pre><code class="language-solidity">error SAFETY_COUNCIL_INVALID_ADDRESS(address);
</code></pre>
<h3 id="safety_council_already_exists"><a class="header" href="#safety_council_already_exists">SAFETY_COUNCIL_ALREADY_EXISTS</a></h3>
<pre><code class="language-solidity">error SAFETY_COUNCIL_ALREADY_EXISTS();
</code></pre>
<h3 id="multisig_not_enough_owners"><a class="header" href="#multisig_not_enough_owners">MULTISIG_NOT_ENOUGH_OWNERS</a></h3>
<pre><code class="language-solidity">error MULTISIG_NOT_ENOUGH_OWNERS(uint256 owners, uint256 required);
</code></pre>
<h3 id="access_control_not_self"><a class="header" href="#access_control_not_self">ACCESS_CONTROL_NOT_SELF</a></h3>
<pre><code class="language-solidity">error ACCESS_CONTROL_NOT_SELF(address who, address self);
</code></pre>
<h3 id="invalid_mlr"><a class="header" href="#invalid_mlr">INVALID_MLR</a></h3>
<pre><code class="language-solidity">error INVALID_MLR(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_lt"><a class="header" href="#invalid_lt">INVALID_LT</a></h3>
<pre><code class="language-solidity">error INVALID_LT(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_protocol_fee"><a class="header" href="#invalid_protocol_fee">INVALID_PROTOCOL_FEE</a></h3>
<pre><code class="language-solidity">error INVALID_PROTOCOL_FEE(address asset, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_oracle_deviation"><a class="header" href="#invalid_oracle_deviation">INVALID_ORACLE_DEVIATION</a></h3>
<pre><code class="language-solidity">error INVALID_ORACLE_DEVIATION(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_fee_recipient"><a class="header" href="#invalid_fee_recipient">INVALID_FEE_RECIPIENT</a></h3>
<pre><code class="language-solidity">error INVALID_FEE_RECIPIENT(address invalid);
</code></pre>
<h3 id="invalid_liq_incentive"><a class="header" href="#invalid_liq_incentive">INVALID_LIQ_INCENTIVE</a></h3>
<pre><code class="language-solidity">error INVALID_LIQ_INCENTIVE(address asset, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="liq_amount_overflow"><a class="header" href="#liq_amount_overflow">LIQ_AMOUNT_OVERFLOW</a></h3>
<pre><code class="language-solidity">error LIQ_AMOUNT_OVERFLOW(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="max_liq_overflow"><a class="header" href="#max_liq_overflow">MAX_LIQ_OVERFLOW</a></h3>
<pre><code class="language-solidity">error MAX_LIQ_OVERFLOW(uint256 value);
</code></pre>
<h3 id="scdp_withdrawal_violation"><a class="header" href="#scdp_withdrawal_violation">SCDP_WITHDRAWAL_VIOLATION</a></h3>
<pre><code class="language-solidity">error SCDP_WITHDRAWAL_VIOLATION(address asset, uint256 requested, uint256 principal, uint256 scaled);
</code></pre>
<h3 id="invalid_deposit_asset"><a class="header" href="#invalid_deposit_asset">INVALID_DEPOSIT_ASSET</a></h3>
<pre><code class="language-solidity">error INVALID_DEPOSIT_ASSET(address asset);
</code></pre>
<h3 id="identical_assets"><a class="header" href="#identical_assets">IDENTICAL_ASSETS</a></h3>
<pre><code class="language-solidity">error IDENTICAL_ASSETS();
</code></pre>
<h3 id="no_push_price"><a class="header" href="#no_push_price">NO_PUSH_PRICE</a></h3>
<pre><code class="language-solidity">error NO_PUSH_PRICE(string underlyingId);
</code></pre>
<h3 id="no_push_oracle_set"><a class="header" href="#no_push_oracle_set">NO_PUSH_ORACLE_SET</a></h3>
<pre><code class="language-solidity">error NO_PUSH_ORACLE_SET(string underlyingId);
</code></pre>
<h3 id="invalid_fee_type"><a class="header" href="#invalid_fee_type">INVALID_FEE_TYPE</a></h3>
<pre><code class="language-solidity">error INVALID_FEE_TYPE(uint8 invalid, uint8 valid);
</code></pre>
<h3 id="zero_address"><a class="header" href="#zero_address">ZERO_ADDRESS</a></h3>
<pre><code class="language-solidity">error ZERO_ADDRESS();
</code></pre>
<h3 id="wrap_not_supported"><a class="header" href="#wrap_not_supported">WRAP_NOT_SUPPORTED</a></h3>
<pre><code class="language-solidity">error WRAP_NOT_SUPPORTED();
</code></pre>
<h3 id="burn_amount_overflow"><a class="header" href="#burn_amount_overflow">BURN_AMOUNT_OVERFLOW</a></h3>
<pre><code class="language-solidity">error BURN_AMOUNT_OVERFLOW(uint256 burnAmount, uint256 debtAmount);
</code></pre>
<h3 id="paused"><a class="header" href="#paused">PAUSED</a></h3>
<pre><code class="language-solidity">error PAUSED(address who);
</code></pre>
<h3 id="zero_price"><a class="header" href="#zero_price">ZERO_PRICE</a></h3>
<pre><code class="language-solidity">error ZERO_PRICE(string underlyingId);
</code></pre>
<h3 id="sequencer_down_no_redstone_available"><a class="header" href="#sequencer_down_no_redstone_available">SEQUENCER_DOWN_NO_REDSTONE_AVAILABLE</a></h3>
<pre><code class="language-solidity">error SEQUENCER_DOWN_NO_REDSTONE_AVAILABLE();
</code></pre>
<h3 id="negative_price"><a class="header" href="#negative_price">NEGATIVE_PRICE</a></h3>
<pre><code class="language-solidity">error NEGATIVE_PRICE(address asset, int256 price);
</code></pre>
<h3 id="price_unstable"><a class="header" href="#price_unstable">PRICE_UNSTABLE</a></h3>
<pre><code class="language-solidity">error PRICE_UNSTABLE(uint256 primaryPrice, uint256 referencePrice);
</code></pre>
<h3 id="oracle_zero_address"><a class="header" href="#oracle_zero_address">ORACLE_ZERO_ADDRESS</a></h3>
<pre><code class="language-solidity">error ORACLE_ZERO_ADDRESS(string underlyingId);
</code></pre>
<h3 id="asset_does_not_exist"><a class="header" href="#asset_does_not_exist">ASSET_DOES_NOT_EXIST</a></h3>
<pre><code class="language-solidity">error ASSET_DOES_NOT_EXIST(address asset);
</code></pre>
<h3 id="asset_already_exists"><a class="header" href="#asset_already_exists">ASSET_ALREADY_EXISTS</a></h3>
<pre><code class="language-solidity">error ASSET_ALREADY_EXISTS(address asset);
</code></pre>
<h3 id="invalid_asset_id"><a class="header" href="#invalid_asset_id">INVALID_ASSET_ID</a></h3>
<pre><code class="language-solidity">error INVALID_ASSET_ID(address asset);
</code></pre>
<h3 id="no_minted_assets"><a class="header" href="#no_minted_assets">NO_MINTED_ASSETS</a></h3>
<pre><code class="language-solidity">error NO_MINTED_ASSETS(address who);
</code></pre>
<h3 id="no_collaterals_deposited"><a class="header" href="#no_collaterals_deposited">NO_COLLATERALS_DEPOSITED</a></h3>
<pre><code class="language-solidity">error NO_COLLATERALS_DEPOSITED(address who);
</code></pre>
<h3 id="missing_phase_3_nft"><a class="header" href="#missing_phase_3_nft">MISSING_PHASE_3_NFT</a></h3>
<pre><code class="language-solidity">error MISSING_PHASE_3_NFT();
</code></pre>
<h3 id="missing_phase_2_nft"><a class="header" href="#missing_phase_2_nft">MISSING_PHASE_2_NFT</a></h3>
<pre><code class="language-solidity">error MISSING_PHASE_2_NFT();
</code></pre>
<h3 id="missing_phase_1_nft"><a class="header" href="#missing_phase_1_nft">MISSING_PHASE_1_NFT</a></h3>
<pre><code class="language-solidity">error MISSING_PHASE_1_NFT();
</code></pre>
<h3 id="diamond_function_not_found"><a class="header" href="#diamond_function_not_found">DIAMOND_FUNCTION_NOT_FOUND</a></h3>
<pre><code class="language-solidity">error DIAMOND_FUNCTION_NOT_FOUND(bytes4);
</code></pre>
<h3 id="re_entrancy"><a class="header" href="#re_entrancy">RE_ENTRANCY</a></h3>
<pre><code class="language-solidity">error RE_ENTRANCY();
</code></pre>
<h3 id="invalid_api3_price"><a class="header" href="#invalid_api3_price">INVALID_API3_PRICE</a></h3>
<pre><code class="language-solidity">error INVALID_API3_PRICE(string underlyingId);
</code></pre>
<h3 id="invalid_cl_price"><a class="header" href="#invalid_cl_price">INVALID_CL_PRICE</a></h3>
<pre><code class="language-solidity">error INVALID_CL_PRICE(string underlyingId);
</code></pre>
<h3 id="array_length_mismatch"><a class="header" href="#array_length_mismatch">ARRAY_LENGTH_MISMATCH</a></h3>
<pre><code class="language-solidity">error ARRAY_LENGTH_MISMATCH(string asset, uint256 arr1, uint256 arr2);
</code></pre>
<h3 id="action_paused_for_asset"><a class="header" href="#action_paused_for_asset">ACTION_PAUSED_FOR_ASSET</a></h3>
<pre><code class="language-solidity">error ACTION_PAUSED_FOR_ASSET();
</code></pre>
<h3 id="invalid_kfactor"><a class="header" href="#invalid_kfactor">INVALID_KFACTOR</a></h3>
<pre><code class="language-solidity">error INVALID_KFACTOR(address asset, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_cfactor"><a class="header" href="#invalid_cfactor">INVALID_CFACTOR</a></h3>
<pre><code class="language-solidity">error INVALID_CFACTOR(address asset, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_minter_fee"><a class="header" href="#invalid_minter_fee">INVALID_MINTER_FEE</a></h3>
<pre><code class="language-solidity">error INVALID_MINTER_FEE(address asset, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="invalid_decimals"><a class="header" href="#invalid_decimals">INVALID_DECIMALS</a></h3>
<pre><code class="language-solidity">error INVALID_DECIMALS(address asset, uint256 decimals);
</code></pre>
<h3 id="invalid_krasset_contract"><a class="header" href="#invalid_krasset_contract">INVALID_KRASSET_CONTRACT</a></h3>
<pre><code class="language-solidity">error INVALID_KRASSET_CONTRACT(address asset);
</code></pre>
<h3 id="invalid_krasset_anchor"><a class="header" href="#invalid_krasset_anchor">INVALID_KRASSET_ANCHOR</a></h3>
<pre><code class="language-solidity">error INVALID_KRASSET_ANCHOR(address asset);
</code></pre>
<h3 id="supply_limit"><a class="header" href="#supply_limit">SUPPLY_LIMIT</a></h3>
<pre><code class="language-solidity">error SUPPLY_LIMIT(address asset, uint256 invalid, uint256 valid);
</code></pre>
<h3 id="cannot_liquidate"><a class="header" href="#cannot_liquidate">CANNOT_LIQUIDATE</a></h3>
<pre><code class="language-solidity">error CANNOT_LIQUIDATE(uint256 collateralValue, uint256 minCollateralValue);
</code></pre>
<h3 id="cannot_cover"><a class="header" href="#cannot_cover">CANNOT_COVER</a></h3>
<pre><code class="language-solidity">error CANNOT_COVER(uint256 collateralValue, uint256 minCollateralValue);
</code></pre>
<h3 id="invalid_krasset_operator"><a class="header" href="#invalid_krasset_operator">INVALID_KRASSET_OPERATOR</a></h3>
<pre><code class="language-solidity">error INVALID_KRASSET_OPERATOR(address invalidOperator);
</code></pre>
<h3 id="invalid_asset_index"><a class="header" href="#invalid_asset_index">INVALID_ASSET_INDEX</a></h3>
<pre><code class="language-solidity">error INVALID_ASSET_INDEX(address asset, uint256 index, uint256 maxIndex);
</code></pre>
<h3 id="zero_deposit"><a class="header" href="#zero_deposit">ZERO_DEPOSIT</a></h3>
<pre><code class="language-solidity">error ZERO_DEPOSIT(address asset);
</code></pre>
<h3 id="zero_amount"><a class="header" href="#zero_amount">ZERO_AMOUNT</a></h3>
<pre><code class="language-solidity">error ZERO_AMOUNT(address asset);
</code></pre>
<h3 id="zero_withdraw"><a class="header" href="#zero_withdraw">ZERO_WITHDRAW</a></h3>
<pre><code class="language-solidity">error ZERO_WITHDRAW(address asset);
</code></pre>
<h3 id="zero_mint"><a class="header" href="#zero_mint">ZERO_MINT</a></h3>
<pre><code class="language-solidity">error ZERO_MINT(address asset);
</code></pre>
<h3 id="zero_repay"><a class="header" href="#zero_repay">ZERO_REPAY</a></h3>
<pre><code class="language-solidity">error ZERO_REPAY(address asset);
</code></pre>
<h3 id="zero_burn"><a class="header" href="#zero_burn">ZERO_BURN</a></h3>
<pre><code class="language-solidity">error ZERO_BURN(address asset);
</code></pre>
<h3 id="zero_debt"><a class="header" href="#zero_debt">ZERO_DEBT</a></h3>
<pre><code class="language-solidity">error ZERO_DEBT(address asset);
</code></pre>
<h3 id="self_liquidation"><a class="header" href="#self_liquidation">SELF_LIQUIDATION</a></h3>
<pre><code class="language-solidity">error SELF_LIQUIDATION();
</code></pre>
<h3 id="repay_overflow"><a class="header" href="#repay_overflow">REPAY_OVERFLOW</a></h3>
<pre><code class="language-solidity">error REPAY_OVERFLOW(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="cumulate_amount_zero"><a class="header" href="#cumulate_amount_zero">CUMULATE_AMOUNT_ZERO</a></h3>
<pre><code class="language-solidity">error CUMULATE_AMOUNT_ZERO();
</code></pre>
<h3 id="cumulate_no_deposits"><a class="header" href="#cumulate_no_deposits">CUMULATE_NO_DEPOSITS</a></h3>
<pre><code class="language-solidity">error CUMULATE_NO_DEPOSITS();
</code></pre>
<h3 id="repay_too_much"><a class="header" href="#repay_too_much">REPAY_TOO_MUCH</a></h3>
<pre><code class="language-solidity">error REPAY_TOO_MUCH(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="swap_not_enabled"><a class="header" href="#swap_not_enabled">SWAP_NOT_ENABLED</a></h3>
<pre><code class="language-solidity">error SWAP_NOT_ENABLED(address assetIn, address assetOut);
</code></pre>
<h3 id="swap_slippage"><a class="header" href="#swap_slippage">SWAP_SLIPPAGE</a></h3>
<pre><code class="language-solidity">error SWAP_SLIPPAGE(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="swap_zero_amount"><a class="header" href="#swap_zero_amount">SWAP_ZERO_AMOUNT</a></h3>
<pre><code class="language-solidity">error SWAP_ZERO_AMOUNT();
</code></pre>
<h3 id="not_income_asset"><a class="header" href="#not_income_asset">NOT_INCOME_ASSET</a></h3>
<pre><code class="language-solidity">error NOT_INCOME_ASSET(address incomeAsset);
</code></pre>
<h3 id="asset_not_enabled"><a class="header" href="#asset_not_enabled">ASSET_NOT_ENABLED</a></h3>
<pre><code class="language-solidity">error ASSET_NOT_ENABLED(address asset);
</code></pre>
<h3 id="invalid_asset_sdi"><a class="header" href="#invalid_asset_sdi">INVALID_ASSET_SDI</a></h3>
<pre><code class="language-solidity">error INVALID_ASSET_SDI(address asset);
</code></pre>
<h3 id="asset_already_enabled"><a class="header" href="#asset_already_enabled">ASSET_ALREADY_ENABLED</a></h3>
<pre><code class="language-solidity">error ASSET_ALREADY_ENABLED(address asset);
</code></pre>
<h3 id="asset_already_disabled"><a class="header" href="#asset_already_disabled">ASSET_ALREADY_DISABLED</a></h3>
<pre><code class="language-solidity">error ASSET_ALREADY_DISABLED(address asset);
</code></pre>
<h3 id="invalid_price"><a class="header" href="#invalid_price">INVALID_PRICE</a></h3>
<pre><code class="language-solidity">error INVALID_PRICE(address token, address oracle, int256 price);
</code></pre>
<h3 id="invalid_deposit"><a class="header" href="#invalid_deposit">INVALID_DEPOSIT</a></h3>
<pre><code class="language-solidity">error INVALID_DEPOSIT(uint256 assetsIn, uint256 sharesOut);
</code></pre>
<h3 id="invalid_withdraw"><a class="header" href="#invalid_withdraw">INVALID_WITHDRAW</a></h3>
<pre><code class="language-solidity">error INVALID_WITHDRAW(uint256 sharesIn, uint256 assetsOut);
</code></pre>
<h3 id="rounding_error"><a class="header" href="#rounding_error">ROUNDING_ERROR</a></h3>
<pre><code class="language-solidity">error ROUNDING_ERROR(string desc, uint256 sharesIn, uint256 assetsOut);
</code></pre>
<h3 id="max_deposit_exceeded"><a class="header" href="#max_deposit_exceeded">MAX_DEPOSIT_EXCEEDED</a></h3>
<pre><code class="language-solidity">error MAX_DEPOSIT_EXCEEDED(uint256 assetsIn, uint256 maxDeposit);
</code></pre>
<h3 id="max_supply_exceeded"><a class="header" href="#max_supply_exceeded">MAX_SUPPLY_EXCEEDED</a></h3>
<pre><code class="language-solidity">error MAX_SUPPLY_EXCEEDED(address asset, uint256 supply, uint256 maxSupply);
</code></pre>
<h3 id="collateral_value_low"><a class="header" href="#collateral_value_low">COLLATERAL_VALUE_LOW</a></h3>
<pre><code class="language-solidity">error COLLATERAL_VALUE_LOW(uint256 value, uint256 minRequiredValue);
</code></pre>
<h3 id="mint_value_low"><a class="header" href="#mint_value_low">MINT_VALUE_LOW</a></h3>
<pre><code class="language-solidity">error MINT_VALUE_LOW(address asset, uint256 value, uint256 minRequiredValue);
</code></pre>
<h3 id="invalid_fee"><a class="header" href="#invalid_fee">INVALID_FEE</a></h3>
<pre><code class="language-solidity">error INVALID_FEE(uint256 invalid, uint256 valid);
</code></pre>
<h3 id="not_a_contract"><a class="header" href="#not_a_contract">NOT_A_CONTRACT</a></h3>
<pre><code class="language-solidity">error NOT_A_CONTRACT(address who);
</code></pre>
<h3 id="no_allowance"><a class="header" href="#no_allowance">NO_ALLOWANCE</a></h3>
<pre><code class="language-solidity">error NO_ALLOWANCE(address spender, address owner, uint256 requested, uint256 allowed);
</code></pre>
<h3 id="not_enough_balance"><a class="header" href="#not_enough_balance">NOT_ENOUGH_BALANCE</a></h3>
<pre><code class="language-solidity">error NOT_ENOUGH_BALANCE(address who, uint256 requested, uint256 available);
</code></pre>
<h3 id="invalid_denominator"><a class="header" href="#invalid_denominator">INVALID_DENOMINATOR</a></h3>
<pre><code class="language-solidity">error INVALID_DENOMINATOR(uint256 denominator, uint256 valid);
</code></pre>
<h3 id="invalid_operator"><a class="header" href="#invalid_operator">INVALID_OPERATOR</a></h3>
<pre><code class="language-solidity">error INVALID_OPERATOR(address who, address valid);
</code></pre>
<h3 id="zero_shares"><a class="header" href="#zero_shares">ZERO_SHARES</a></h3>
<pre><code class="language-solidity">error ZERO_SHARES(address asset);
</code></pre>
<h3 id="zero_shares_out"><a class="header" href="#zero_shares_out">ZERO_SHARES_OUT</a></h3>
<pre><code class="language-solidity">error ZERO_SHARES_OUT(address asset, uint256 assets);
</code></pre>
<h3 id="zero_shares_in"><a class="header" href="#zero_shares_in">ZERO_SHARES_IN</a></h3>
<pre><code class="language-solidity">error ZERO_SHARES_IN(address asset, uint256 assets);
</code></pre>
<h3 id="zero_assets"><a class="header" href="#zero_assets">ZERO_ASSETS</a></h3>
<pre><code class="language-solidity">error ZERO_ASSETS(address asset);
</code></pre>
<h3 id="zero_assets_out"><a class="header" href="#zero_assets_out">ZERO_ASSETS_OUT</a></h3>
<pre><code class="language-solidity">error ZERO_ASSETS_OUT(address asset, uint256 shares);
</code></pre>
<h3 id="zero_assets_in"><a class="header" href="#zero_assets_in">ZERO_ASSETS_IN</a></h3>
<pre><code class="language-solidity">error ZERO_ASSETS_IN(address asset, uint256 shares);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants"><a class="header" href="#constants">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Constants.sol">Git Source</a></p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="fp_decimals"><a class="header" href="#fp_decimals">FP_DECIMALS</a></h3>
<pre><code class="language-solidity">uint256 internal constant FP_DECIMALS = 18;
</code></pre>
<h3 id="fp_scaling_factor"><a class="header" href="#fp_scaling_factor">FP_SCALING_FACTOR</a></h3>
<pre><code class="language-solidity">uint256 internal constant FP_SCALING_FACTOR = 10 ** FP_DECIMALS;
</code></pre>
<h3 id="min_krasset_collateral_amount"><a class="header" href="#min_krasset_collateral_amount">MIN_KRASSET_COLLATERAL_AMOUNT</a></h3>
<p><em>The minimum collateral amount for a kresko asset.</em></p>
<pre><code class="language-solidity">uint256 internal constant MIN_KRASSET_COLLATERAL_AMOUNT = 1e12;
</code></pre>
<h3 id="max_min_debt_value"><a class="header" href="#max_min_debt_value">MAX_MIN_DEBT_VALUE</a></h3>
<p><em>The maximum configurable minimum debt USD value. 8 decimals.</em></p>
<pre><code class="language-solidity">uint256 internal constant MAX_MIN_DEBT_VALUE = 1_000 * 1e8;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="percents"><a class="header" href="#percents">Percents</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Constants.sol">Git Source</a></p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="one"><a class="header" href="#one">ONE</a></h3>
<pre><code class="language-solidity">uint16 internal constant ONE = 0.01e4;
</code></pre>
<h3 id="hundred"><a class="header" href="#hundred">HUNDRED</a></h3>
<pre><code class="language-solidity">uint16 internal constant HUNDRED = 1e4;
</code></pre>
<h3 id="twenty_five"><a class="header" href="#twenty_five">TWENTY_FIVE</a></h3>
<pre><code class="language-solidity">uint16 internal constant TWENTY_FIVE = 0.25e4;
</code></pre>
<h3 id="fifty"><a class="header" href="#fifty">FIFTY</a></h3>
<pre><code class="language-solidity">uint16 internal constant FIFTY = 0.5e4;
</code></pre>
<h3 id="basis_point"><a class="header" href="#basis_point">BASIS_POINT</a></h3>
<pre><code class="language-solidity">uint16 internal constant BASIS_POINT = 1;
</code></pre>
<h3 id="max_close_fee"><a class="header" href="#max_close_fee">MAX_CLOSE_FEE</a></h3>
<p><em>The maximum configurable close fee.</em></p>
<pre><code class="language-solidity">uint16 internal constant MAX_CLOSE_FEE = 0.25e4;
</code></pre>
<h3 id="max_open_fee"><a class="header" href="#max_open_fee">MAX_OPEN_FEE</a></h3>
<p><em>The maximum configurable open fee.</em></p>
<pre><code class="language-solidity">uint16 internal constant MAX_OPEN_FEE = 0.25e4;
</code></pre>
<h3 id="max_scdp_fee"><a class="header" href="#max_scdp_fee">MAX_SCDP_FEE</a></h3>
<p><em>The maximum configurable protocol fee per asset for collateral pool swaps.</em></p>
<pre><code class="language-solidity">uint16 internal constant MAX_SCDP_FEE = 0.5e4;
</code></pre>
<h3 id="min_cr"><a class="header" href="#min_cr">MIN_CR</a></h3>
<p><em>The minimum configurable minimum collateralization ratio.</em></p>
<pre><code class="language-solidity">uint16 internal constant MIN_CR = HUNDRED + ONE;
</code></pre>
<h3 id="min_liq_incentive"><a class="header" href="#min_liq_incentive">MIN_LIQ_INCENTIVE</a></h3>
<p><em>The minimum configurable liquidation incentive multiplier.
This means liquidator only receives equal amount of collateral to debt repaid.</em></p>
<pre><code class="language-solidity">uint16 internal constant MIN_LIQ_INCENTIVE = HUNDRED;
</code></pre>
<h3 id="max_liq_incentive"><a class="header" href="#max_liq_incentive">MAX_LIQ_INCENTIVE</a></h3>
<p><em>The maximum configurable liquidation incentive multiplier.
This means liquidator receives 25% bonus collateral compared to the debt repaid.</em></p>
<pre><code class="language-solidity">uint16 internal constant MAX_LIQ_INCENTIVE = 1.25e4;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-1"><a class="header" href="#constants-1">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Constants.sol">Git Source</a></p>
<h3 id="empty_bytes12"><a class="header" href="#empty_bytes12">EMPTY_BYTES12</a></h3>
<pre><code class="language-solidity">bytes12 constant EMPTY_BYTES12 = bytes12(&quot;&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diamondevent"><a class="header" href="#diamondevent">DiamondEvent</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Events.sol">Git Source</a></p>
<p><strong>Authors:</strong>
Kresko, Kresko</p>
<p>Common Event definitions</p>
<p>Diamond Event definitions</p>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="diamondcut"><a class="header" href="#diamondcut">DiamondCut</a></h3>
<pre><code class="language-solidity">event DiamondCut(FacetCut[] _diamondCut, address _init, bytes _calldata);
</code></pre>
<h3 id="initialized"><a class="header" href="#initialized">Initialized</a></h3>
<p><em>Triggered when the contract has been initialized or reinitialized.</em></p>
<pre><code class="language-solidity">event Initialized(address indexed operator, uint96 version);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stakingevent"><a class="header" href="#stakingevent">StakingEvent</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Events.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Staking Event definitions</p>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="liquidityandstakeadded"><a class="header" href="#liquidityandstakeadded">LiquidityAndStakeAdded</a></h3>
<pre><code class="language-solidity">event LiquidityAndStakeAdded(address indexed to, uint256 indexed amount, uint256 indexed pid);
</code></pre>
<h3 id="liquidityandstakeremoved"><a class="header" href="#liquidityandstakeremoved">LiquidityAndStakeRemoved</a></h3>
<pre><code class="language-solidity">event LiquidityAndStakeRemoved(address indexed to, uint256 indexed amount, uint256 indexed pid);
</code></pre>
<h3 id="deposit"><a class="header" href="#deposit">Deposit</a></h3>
<pre><code class="language-solidity">event Deposit(address indexed user, uint256 indexed pid, uint256 indexed amount);
</code></pre>
<h3 id="withdraw"><a class="header" href="#withdraw">Withdraw</a></h3>
<pre><code class="language-solidity">event Withdraw(address indexed user, uint256 indexed pid, uint256 indexed amount);
</code></pre>
<h3 id="emergencywithdraw"><a class="header" href="#emergencywithdraw">EmergencyWithdraw</a></h3>
<pre><code class="language-solidity">event EmergencyWithdraw(address indexed user, uint256 indexed pid, uint256 indexed amount);
</code></pre>
<h3 id="claimrewards"><a class="header" href="#claimrewards">ClaimRewards</a></h3>
<pre><code class="language-solidity">event ClaimRewards(address indexed user, address indexed rewardToken, uint256 indexed amount);
</code></pre>
<h3 id="claimrewardsmulti"><a class="header" href="#claimrewardsmulti">ClaimRewardsMulti</a></h3>
<pre><code class="language-solidity">event ClaimRewardsMulti(address indexed to);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="authevent"><a class="header" href="#authevent">AuthEvent</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Events.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Authorization Event definitions</p>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<h3 id="ownershiptransferred"><a class="header" href="#ownershiptransferred">OwnershipTransferred</a></h3>
<pre><code class="language-solidity">event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
</code></pre>
<h3 id="pendingownershiptransfer"><a class="header" href="#pendingownershiptransfer">PendingOwnershipTransfer</a></h3>
<pre><code class="language-solidity">event PendingOwnershipTransfer(address indexed previousOwner, address indexed newOwner);
</code></pre>
<h3 id="roleadminchanged"><a class="header" href="#roleadminchanged">RoleAdminChanged</a></h3>
<p><em>Emitted when <code>newAdminRole</code> is set as <code>role</code>'s admin role, replacing <code>previousAdminRole</code>
<code>ADMIN_ROLE</code> is the starting admin for all roles, despite
{RoleAdminChanged} not being emitted signaling this.
<em>Available since v3.1.</em></em></p>
<pre><code class="language-solidity">event RoleAdminChanged(bytes32 indexed role, bytes32 indexed previousAdminRole, bytes32 indexed newAdminRole);
</code></pre>
<h3 id="rolegranted"><a class="header" href="#rolegranted">RoleGranted</a></h3>
<p><em>Emitted when <code>account</code> is granted <code>role</code>.
<code>sender</code> is the account that originated the contract call, an admin role
bearer except when using {AccessControl-_setupRole}.</em></p>
<pre><code class="language-solidity">event RoleGranted(bytes32 indexed role, address indexed account, address indexed sender);
</code></pre>
<h3 id="rolerevoked"><a class="header" href="#rolerevoked">RoleRevoked</a></h3>
<p>*Emitted when <code>account</code> is revoked <code>role</code>.
<code>sender</code> is the account that originated the contract call:</p>
<ul>
<li>if using <code>revokeRole</code>, it is the admin role bearer</li>
<li>if using <code>renounceRole</code>, it is the role bearer (i.e. <code>account</code>)*</li>
</ul>
<pre><code class="language-solidity">event RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cmodifiers"><a class="header" href="#cmodifiers">CModifiers</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Modifiers.sol">Git Source</a></p>
<h2 id="functions-16"><a class="header" href="#functions-16">Functions</a></h2>
<h3 id="onlyrole"><a class="header" href="#onlyrole">onlyRole</a></h3>
<p><em>Modifier that checks that an account has a specific role. Reverts
with a standardized message including the required role.
The format of the revert reason is given by the following regular expression:
/^AccessControl: account (0x[0-9a-f]{40}) is missing role (0x[0-9a-f]{64})$/
<em>Available since v4.1.</em></em></p>
<pre><code class="language-solidity">modifier onlyRole(bytes32 role);
</code></pre>
<h3 id="onlyroleif"><a class="header" href="#onlyroleif">onlyRoleIf</a></h3>
<p>Ensure only trusted contracts can act on behalf of <code>_account</code></p>
<pre><code class="language-solidity">modifier onlyRoleIf(bool _accountIsNotMsgSender, bytes32 role);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_accountIsNotMsgSender</code></td><td><code>bool</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>role</code></td><td><code>bytes32</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="nonreentrant"><a class="header" href="#nonreentrant">nonReentrant</a></h3>
<pre><code class="language-solidity">modifier nonReentrant();
</code></pre>
<h3 id="iscollateral"><a class="header" href="#iscollateral">isCollateral</a></h3>
<p>Reverts if address is not a collateral asset.</p>
<pre><code class="language-solidity">modifier isCollateral(address _assetAddr);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The address of the asset.</td></tr>
</tbody></table>
</div>
<h3 id="iskrasset"><a class="header" href="#iskrasset">isKrAsset</a></h3>
<p>Reverts if address is not a Kresko Asset.</p>
<pre><code class="language-solidity">modifier isKrAsset(address _assetAddr);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The address of the asset.</td></tr>
</tbody></table>
</div>
<h3 id="isscdpdepositasset"><a class="header" href="#isscdpdepositasset">isSCDPDepositAsset</a></h3>
<p>Reverts if address is not a Kresko Asset.</p>
<pre><code class="language-solidity">modifier isSCDPDepositAsset(address _assetAddr);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The address of the asset.</td></tr>
</tbody></table>
</div>
<h3 id="isscdpkrasset"><a class="header" href="#isscdpkrasset">isSCDPKrAsset</a></h3>
<p>Reverts if address is not a Kresko Asset.</p>
<pre><code class="language-solidity">modifier isSCDPKrAsset(address _assetAddr);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The address of the asset.</td></tr>
</tbody></table>
</div>
<h3 id="gate"><a class="header" href="#gate">gate</a></h3>
<p>Reverts if the caller does not have the required NFT's for the gated phase</p>
<pre><code class="language-solidity">modifier gate();
</code></pre>
<h3 id="ensurenotpaused"><a class="header" href="#ensurenotpaused">ensureNotPaused</a></h3>
<p><em>Simple check for the enabled flag</em></p>
<pre><code class="language-solidity">function ensureNotPaused(address _assetAddr, Action _action) internal view virtual;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commonstate"><a class="header" href="#commonstate">CommonState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/State.sol">Git Source</a></p>
<pre><code class="language-solidity">struct CommonState {
    mapping(address =&gt; Asset) assets;
    mapping(bytes32 =&gt; mapping(OracleType =&gt; Oracle)) oracles;
    mapping(address =&gt; mapping(Action =&gt; SafetyState)) safetyState;
    address feeRecipient;
    uint96 minDebtValue;
    address sequencerUptimeFeed;
    uint32 sequencerGracePeriodTime;
    uint32 oracleTimeout;
    uint16 oracleDeviationPct;
    uint8 oracleDecimals;
    bool safetyStateSet;
    uint256 entered;
    mapping(bytes32 role =&gt; RoleData data) _roles;
    mapping(bytes32 role =&gt; EnumerableSet.AddressSet member) _roleMembers;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gatingstate"><a class="header" href="#gatingstate">GatingState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/State.sol">Git Source</a></p>
<pre><code class="language-solidity">struct GatingState {
    address kreskian;
    address questForKresk;
    uint8 phase;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cs"><a class="header" href="#cs">cs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/State.sol">Git Source</a></p>
<pre><code class="language-solidity">function cs() pure returns (CommonState storage state);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gs"><a class="header" href="#gs">gs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/State.sol">Git Source</a></p>
<pre><code class="language-solidity">function gs() pure returns (GatingState storage state);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-2"><a class="header" href="#constants-2">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/State.sol">Git Source</a></p>
<h3 id="common_storage_position"><a class="header" href="#common_storage_position">COMMON_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant COMMON_STORAGE_POSITION = keccak256(&quot;kresko.common.storage&quot;);
</code></pre>
<h3 id="gating_storage_position"><a class="header" href="#gating_storage_position">GATING_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant GATING_STORAGE_POSITION = keccak256(&quot;kresko.gating.storage&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="role"><a class="header" href="#role">Role</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="default_admin"><a class="header" href="#default_admin">DEFAULT_ADMIN</a></h3>
<p><em>Meta role for all roles.</em></p>
<pre><code class="language-solidity">bytes32 internal constant DEFAULT_ADMIN = 0x00;
</code></pre>
<h3 id="admin"><a class="header" href="#admin">ADMIN</a></h3>
<p><em>keccak256(&quot;kresko.roles.minter.admin&quot;)</em></p>
<pre><code class="language-solidity">bytes32 internal constant ADMIN = 0xb9dacdf02281f2e98ddbadaaf44db270b3d5a916342df47c59f77937a6bcd5d8;
</code></pre>
<h3 id="operator"><a class="header" href="#operator">OPERATOR</a></h3>
<p><em>keccak256(&quot;kresko.roles.minter.operator&quot;)</em></p>
<pre><code class="language-solidity">bytes32 internal constant OPERATOR = 0x112e48a576fb3a75acc75d9fcf6e0bc670b27b1dbcd2463502e10e68cf57d6fd;
</code></pre>
<h3 id="manager"><a class="header" href="#manager">MANAGER</a></h3>
<p><em>keccak256(&quot;kresko.roles.minter.manager&quot;)</em></p>
<pre><code class="language-solidity">bytes32 internal constant MANAGER = 0x46925e0f0cc76e485772167edccb8dc449d43b23b55fc4e756b063f49099e6a0;
</code></pre>
<h3 id="safety_council"><a class="header" href="#safety_council">SAFETY_COUNCIL</a></h3>
<p><em>keccak256(&quot;kresko.roles.minter.safety.council&quot;)</em></p>
<pre><code class="language-solidity">bytes32 internal constant SAFETY_COUNCIL = 0x9c387ecf1663f9144595993e2c602b45de94bf8ba3a110cb30e3652d79b581c0;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="oracle"><a class="header" href="#oracle">Oracle</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Oracle configuration mapped to <code>Asset.underlyingId</code>.</p>
<pre><code class="language-solidity">struct Oracle {
    address feed;
    function(address) external view returns (uint256) priceGetter;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="oracletype"><a class="header" href="#oracletype">OracleType</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Supported oracle providers.</p>
<pre><code class="language-solidity">enum OracleType {
    Redstone,
    Chainlink,
    API3
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="feedconfiguration"><a class="header" href="#feedconfiguration">FeedConfiguration</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Feed configuration.</p>
<pre><code class="language-solidity">struct FeedConfiguration {
    OracleType[2] oracleIds;
    address[2] feeds;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asset"><a class="header" href="#asset">Asset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>All assets in the protocol share this configuration.</p>
<p>underlyingId is not unique, eg. krETH and WETH both would use bytes12('ETH')</p>
<p><em>Percentages use 2 decimals: 1e4 (10000) == 100.00%. See {PercentageMath.sol}.</em></p>
<p><em>Note that the percentage value for uint16 caps at 655.36%.</em></p>
<pre><code class="language-solidity">struct Asset {
    bytes12 underlyingId;
    address anchor;
    OracleType[2] oracles;
    uint16 factor;
    uint16 kFactor;
    uint16 openFee;
    uint16 closeFee;
    uint16 liqIncentive;
    uint128 supplyLimit;
    uint128 depositLimitSCDP;
    uint128 liquidityIndexSCDP;
    uint16 swapInFeeSCDP;
    uint16 swapOutFeeSCDP;
    uint16 protocolFeeShareSCDP;
    uint16 liqIncentiveSCDP;
    uint8 decimals;
    bool isCollateral;
    bool isKrAsset;
    bool isSCDPDepositAsset;
    bool isSCDPKrAsset;
    bool isSCDPCollateral;
    bool isSCDPCoverAsset;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="roledata"><a class="header" href="#roledata">RoleData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>The access control role data.</p>
<pre><code class="language-solidity">struct RoleData {
    mapping(address =&gt; bool) members;
    bytes32 adminRole;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maxliqvars"><a class="header" href="#maxliqvars">MaxLiqVars</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Variables used for calculating the max liquidation value.</p>
<pre><code class="language-solidity">struct MaxLiqVars {
    Asset collateral;
    uint256 accountCollateralValue;
    uint256 minCollateralValue;
    uint256 seizeCollateralAccountValue;
    uint192 minDebtValue;
    uint32 gainFactor;
    uint32 maxLiquidationRatio;
    uint32 debtFactor;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maxliqinfo"><a class="header" href="#maxliqinfo">MaxLiqInfo</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct MaxLiqInfo {
    address account;
    address seizeAssetAddr;
    address repayAssetAddr;
    uint256 repayValue;
    uint256 repayAmount;
    uint256 seizeAmount;
    uint256 seizeValue;
    uint256 repayAssetPrice;
    uint256 repayAssetIndex;
    uint256 seizeAssetPrice;
    uint256 seizeAssetIndex;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pushprice-1"><a class="header" href="#pushprice-1">PushPrice</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Convenience struct for returning push price data</p>
<pre><code class="language-solidity">struct PushPrice {
    uint256 price;
    uint256 timestamp;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pause"><a class="header" href="#pause">Pause</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Configuration for pausing <code>Action</code></p>
<pre><code class="language-solidity">struct Pause {
    bool enabled;
    uint256 timestamp0;
    uint256 timestamp1;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safetystate"><a class="header" href="#safetystate">SafetyState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Safety configuration for assets</p>
<pre><code class="language-solidity">struct SafetyState {
    Pause pause;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commoninitargs"><a class="header" href="#commoninitargs">CommonInitArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p>Initialization arguments for common values</p>
<pre><code class="language-solidity">struct CommonInitArgs {
    address admin;
    address council;
    address treasury;
    uint64 minDebtValue;
    uint16 oracleDeviationPct;
    uint8 oracleDecimals;
    address sequencerUptimeFeed;
    uint32 sequencerGracePeriodTime;
    uint32 oracleTimeout;
    address kreskian;
    address questForKresk;
    uint8 phase;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpcollateralargs"><a class="header" href="#scdpcollateralargs">SCDPCollateralArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SCDPCollateralArgs {
    uint128 liquidityIndex;
    uint128 depositLimit;
    uint8 decimals;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpkrassetargs"><a class="header" href="#scdpkrassetargs">SCDPKrAssetArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SCDPKrAssetArgs {
    uint128 supplyLimit;
    uint16 liqIncentive;
    uint16 protocolFee;
    uint16 openFee;
    uint16 closeFee;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="action"><a class="header" href="#action">Action</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<p><em>Protocol user facing actions
Deposit = 0
Withdraw = 1,
Repay = 2,
Borrow = 3,
Liquidate = 4</em></p>
<pre><code class="language-solidity">enum Action {
    Deposit,
    Withdraw,
    Repay,
    Borrow,
    Liquidation,
    SCDPDeposit,
    SCDPSwap,
    SCDPWithdraw,
    SCDPRepay,
    SCDPLiquidation
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-3"><a class="header" href="#constants-3">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/common/Types.sol">Git Source</a></p>
<h3 id="not_entered"><a class="header" href="#not_entered">NOT_ENTERED</a></h3>
<p><em>Set the initial value to 1, (not hindering possible gas refunds by setting it to 0 on exit).</em></p>
<pre><code class="language-solidity">uint8 constant NOT_ENTERED = 1;
</code></pre>
<h3 id="entered"><a class="header" href="#entered">ENTERED</a></h3>
<pre><code class="language-solidity">uint8 constant ENTERED = 2;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-6"><a class="header" href="#contents-6">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/diamond//src/contracts/core/diamond/facets">facets</a></li>
<li><a href="src/contracts/core/diamond//src/contracts/core/diamond/funcs">funcs</a></li>
<li><a href="src/contracts/core/diamond//src/contracts/core/diamond/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/diamond/Diamond.sol/contract.Diamond.html">Diamond</a></li>
<li><a href="src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a></li>
<li><a href="src/contracts/core/diamond/State.sol/struct.DiamondState.html">DiamondState</a></li>
<li><a href="src/contracts/core/diamond/State.sol/function.ds.html">ds</a></li>
<li><a href="src/contracts/core/diamond/State.sol/constants.State.html">State constants</a></li>
<li><a href="src/contracts/core/diamond/Types.sol/struct.Facet.html">Facet</a></li>
<li><a href="src/contracts/core/diamond/Types.sol/struct.FacetAddressAndPosition.html">FacetAddressAndPosition</a></li>
<li><a href="src/contracts/core/diamond/Types.sol/struct.FacetFunctionSelectors.html">FacetFunctionSelectors</a></li>
<li><a href="src/contracts/core/diamond/Types.sol/enum.FacetCutAction.html">FacetCutAction</a></li>
<li><a href="src/contracts/core/diamond/Types.sol/struct.FacetCut.html">FacetCut</a></li>
<li><a href="src/contracts/core/diamond/Types.sol/struct.Initialization.html">Initialization</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-7"><a class="header" href="#contents-7">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol/contract.DiamondCutFacet.html">DiamondCutFacet</a></li>
<li><a href="src/contracts/core/diamond/facets/DiamondLoupeFacet.sol/contract.DiamondLoupeFacet.html">DiamondLoupeFacet</a></li>
<li><a href="src/contracts/core/diamond/facets/DiamondOwnershipFacet.sol/contract.DiamondOwnershipFacet.html">DiamondOwnershipFacet</a></li>
<li><a href="src/contracts/core/diamond/facets/ERC165Facet.sol/contract.ERC165Facet.html">ERC165Facet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diamondcutfacet"><a class="header" href="#diamondcutfacet">DiamondCutFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/facets/DiamondCutFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol//src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol/interface.IDiamondCutFacet.html">IDiamondCutFacet</a>, <a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol//src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/diamond/facets/DiamondCutFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>The storage area is in the main proxy diamond storage.</p>
<h2 id="functions-17"><a class="header" href="#functions-17">Functions</a></h2>
<h3 id="diamondcut-1"><a class="header" href="#diamondcut-1">diamondCut</a></h3>
<p>Add/replace/remove any number of functions, optionally execute a function with delegatecall</p>
<pre><code class="language-solidity">function diamondCut(FacetCut[] calldata _diamondCut, address _init, bytes calldata _calldata)
    external
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_diamondCut</code></td><td><code>FacetCut[]</code></td><td>Contains the facet addresses and function selectors</td></tr>
<tr><td><code>_init</code></td><td><code>address</code></td><td>The address of the contract or facet to execute _calldata</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>A function call, including function selector and arguments _calldata is executed with delegatecall on _init</td></tr>
</tbody></table>
</div>
<h3 id="upgradestate"><a class="header" href="#upgradestate">upgradeState</a></h3>
<p>Use an initializer contract without doing modifications</p>
<pre><code class="language-solidity">function upgradeState(address _init, bytes calldata _calldata) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_init</code></td><td><code>address</code></td><td>The address of the contract or facet to execute _calldata</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>A function call, including function selector and arguments - _calldata is executed with delegatecall on _init</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="diamondloupefacet"><a class="header" href="#diamondloupefacet">DiamondLoupeFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/facets/DiamondLoupeFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/diamond/facets/DiamondLoupeFacet.sol//src/contracts/core/diamond/interfaces/IDiamondLoupeFacet.sol/interface.IDiamondLoupeFacet.html">IDiamondLoupeFacet</a></p>
<h2 id="functions-18"><a class="header" href="#functions-18">Functions</a></h2>
<h3 id="facets"><a class="header" href="#facets">facets</a></h3>
<p>Gets all facet addresses and their four byte function selectors.</p>
<pre><code class="language-solidity">function facets() external view override returns (Facet[] memory facets_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facets_</code></td><td><code>Facet[]</code></td><td>Facet</td></tr>
</tbody></table>
</div>
<h3 id="facetfunctionselectors"><a class="header" href="#facetfunctionselectors">facetFunctionSelectors</a></h3>
<p>Gets all the function selectors supported by a specific facet.</p>
<pre><code class="language-solidity">function facetFunctionSelectors(address _facet)
    external
    view
    override
    returns (bytes4[] memory facetFunctionSelectors_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_facet</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetFunctionSelectors_</code></td><td><code>bytes4[]</code></td><td>facetFunctionSelectors_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddresses"><a class="header" href="#facetaddresses">facetAddresses</a></h3>
<p>Get all the facet addresses used by a diamond.</p>
<pre><code class="language-solidity">function facetAddresses() external view override returns (address[] memory facetAddresses_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddresses_</code></td><td><code>address[]</code></td><td>facetAddresses_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddress"><a class="header" href="#facetaddress">facetAddress</a></h3>
<p>Gets the facet that supports the given selector.</p>
<p><em>If facet is not found return address(0).</em></p>
<pre><code class="language-solidity">function facetAddress(bytes4 _functionSelector) external view override returns (address facetAddress_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_functionSelector</code></td><td><code>bytes4</code></td><td>The function selector.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddress_</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="diamondownershipfacet"><a class="header" href="#diamondownershipfacet">DiamondOwnershipFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/facets/DiamondOwnershipFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/diamond/facets/DiamondOwnershipFacet.sol//src/contracts/core/diamond/interfaces/IDiamondOwnershipFacet.sol/interface.IDiamondOwnershipFacet.html">IDiamondOwnershipFacet</a>, <a href="src/contracts/core/diamond/facets/DiamondOwnershipFacet.sol//src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a></p>
<h2 id="functions-19"><a class="header" href="#functions-19">Functions</a></h2>
<h3 id="transferownership"><a class="header" href="#transferownership">transferOwnership</a></h3>
<p>Initiate ownership transfer to a new address</p>
<pre><code class="language-solidity">function transferOwnership(address _newOwner) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newOwner</code></td><td><code>address</code></td><td>address that is set as the pending new owner</td></tr>
</tbody></table>
</div>
<h3 id="acceptownership"><a class="header" href="#acceptownership">acceptOwnership</a></h3>
<p>Transfer the ownership to the new pending owner</p>
<pre><code class="language-solidity">function acceptOwnership() external override;
</code></pre>
<h3 id="owner"><a class="header" href="#owner">owner</a></h3>
<p>Get the address of the owner</p>
<pre><code class="language-solidity">function owner() external view override returns (address owner_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner_</code></td><td><code>address</code></td><td>The address of the owner.</td></tr>
</tbody></table>
</div>
<h3 id="pendingowner"><a class="header" href="#pendingowner">pendingOwner</a></h3>
<p>Get the address of pending owner</p>
<pre><code class="language-solidity">function pendingOwner() external view override returns (address pendingOwner_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>pendingOwner_</code></td><td><code>address</code></td><td>The address of the pending owner.</td></tr>
</tbody></table>
</div>
<h3 id="initialized-1"><a class="header" href="#initialized-1">initialized</a></h3>
<p>Check if the contract is initialized</p>
<pre><code class="language-solidity">function initialized() external view returns (bool initialized_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>initialized_</code></td><td><code>bool</code></td><td>bool True if the contract is initialized, false otherwise.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="erc165facet"><a class="header" href="#erc165facet">ERC165Facet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/facets/ERC165Facet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/diamond/facets/ERC165Facet.sol//src/contracts/core/diamond/interfaces/IERC165Facet.sol/interface.IERC165Facet.html">IERC165Facet</a>, <a href="src/contracts/core/diamond/facets/ERC165Facet.sol//src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/diamond/facets/ERC165Facet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a></p>
<h2 id="functions-20"><a class="header" href="#functions-20">Functions</a></h2>
<h3 id="supportsinterface"><a class="header" href="#supportsinterface">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 _interfaceId) external view override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_interfaceId</code></td><td><code>bytes4</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
<h3 id="seterc165"><a class="header" href="#seterc165">setERC165</a></h3>
<p>set or unset ERC165 using DiamondStorage.supportedInterfaces</p>
<pre><code class="language-solidity">function setERC165(bytes4[] calldata interfaceIds, bytes4[] calldata interfaceIdsToRemove)
    external
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceIds</code></td><td><code>bytes4[]</code></td><td>list of interface id to set as supported</td></tr>
<tr><td><code>interfaceIdsToRemove</code></td><td><code>bytes4[]</code></td><td>list of interface id to unset as supported. Technically, you can remove support of ERC165 by having the IERC165 id itself being part of that array.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-8"><a class="header" href="#contents-8">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/diamond/funcs/Core.sol/library.DCore.html">DCore</a></li>
<li><a href="src/contracts/core/diamond/funcs/Cuts.sol/library.DCuts.html">DCuts</a></li>
<li><a href="src/contracts/core/diamond/funcs/Cuts.sol/function.initializeDiamondCut.html">initializeDiamondCut</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dcore"><a class="header" href="#dcore">DCore</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/funcs/Core.sol">Git Source</a></p>
<h2 id="functions-21"><a class="header" href="#functions-21">Functions</a></h2>
<h3 id="initialize"><a class="header" href="#initialize">initialize</a></h3>
<p>Ownership initializer</p>
<p>Only called on the first deployment</p>
<pre><code class="language-solidity">function initialize(DiamondState storage self, address _owner) internal;
</code></pre>
<h3 id="initiateownershiptransfer"><a class="header" href="#initiateownershiptransfer">initiateOwnershipTransfer</a></h3>
<p>caller must be the current contract owner</p>
<p><em>Initiate ownership transfer to a new address</em></p>
<pre><code class="language-solidity">function initiateOwnershipTransfer(DiamondState storage self, address _newOwner) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>DiamondState</code></td><td></td></tr>
<tr><td><code>_newOwner</code></td><td><code>address</code></td><td>address that is set as the pending new owner</td></tr>
</tbody></table>
</div>
<h3 id="finalizeownershiptransfer"><a class="header" href="#finalizeownershiptransfer">finalizeOwnershipTransfer</a></h3>
<p>caller must be the pending owner</p>
<p><em>Transfer the ownership to the new pending owner</em></p>
<pre><code class="language-solidity">function finalizeOwnershipTransfer(DiamondState storage self) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dcuts"><a class="header" href="#dcuts">DCuts</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/funcs/Cuts.sol">Git Source</a></p>
<h2 id="functions-22"><a class="header" href="#functions-22">Functions</a></h2>
<h3 id="cut"><a class="header" href="#cut">cut</a></h3>
<pre><code class="language-solidity">function cut(DiamondState storage self, FacetCut[] memory _diamondCut, address _init, bytes memory _calldata)
    internal;
</code></pre>
<h3 id="addfunctions"><a class="header" href="#addfunctions">addFunctions</a></h3>
<pre><code class="language-solidity">function addFunctions(DiamondState storage self, address _facetAddress, bytes4[] memory _functionSelectors) internal;
</code></pre>
<h3 id="replacefunctions"><a class="header" href="#replacefunctions">replaceFunctions</a></h3>
<pre><code class="language-solidity">function replaceFunctions(DiamondState storage self, address _facetAddress, bytes4[] memory _functionSelectors)
    internal;
</code></pre>
<h3 id="removefunctions"><a class="header" href="#removefunctions">removeFunctions</a></h3>
<pre><code class="language-solidity">function removeFunctions(DiamondState storage self, address _facetAddress, bytes4[] memory _functionSelectors)
    internal;
</code></pre>
<h3 id="addfacet"><a class="header" href="#addfacet">addFacet</a></h3>
<pre><code class="language-solidity">function addFacet(DiamondState storage self, address _facetAddress) internal;
</code></pre>
<h3 id="addfunction"><a class="header" href="#addfunction">addFunction</a></h3>
<pre><code class="language-solidity">function addFunction(DiamondState storage self, bytes4 _selector, uint96 _selectorPosition, address _facetAddress)
    internal;
</code></pre>
<h3 id="removefunction"><a class="header" href="#removefunction">removeFunction</a></h3>
<pre><code class="language-solidity">function removeFunction(DiamondState storage self, address _facetAddress, bytes4 _selector) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="initializediamondcut"><a class="header" href="#initializediamondcut">initializeDiamondCut</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/funcs/Cuts.sol">Git Source</a></p>
<pre><code class="language-solidity">function initializeDiamondCut(address _init, bytes memory _calldata);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-9"><a class="header" href="#contents-9">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol/interface.IDiamondCutFacet.html">IDiamondCutFacet</a></li>
<li><a href="src/contracts/core/diamond/interfaces/IDiamondLoupeFacet.sol/interface.IDiamondLoupeFacet.html">IDiamondLoupeFacet</a></li>
<li><a href="src/contracts/core/diamond/interfaces/IDiamondOwnershipFacet.sol/interface.IDiamondOwnershipFacet.html">IDiamondOwnershipFacet</a></li>
<li><a href="src/contracts/core/diamond/interfaces/IERC165Facet.sol/interface.IERC165Facet.html">IERC165Facet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="idiamondcutfacet"><a class="header" href="#idiamondcutfacet">IDiamondCutFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/interfaces/IDiamondCutFacet.sol">Git Source</a></p>
<h2 id="functions-23"><a class="header" href="#functions-23">Functions</a></h2>
<h3 id="diamondcut-2"><a class="header" href="#diamondcut-2">diamondCut</a></h3>
<p>Add/replace/remove any number of functions, optionally execute a function with delegatecall</p>
<pre><code class="language-solidity">function diamondCut(FacetCut[] calldata _diamondCut, address _init, bytes calldata _calldata) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_diamondCut</code></td><td><code>FacetCut[]</code></td><td>Contains the facet addresses and function selectors</td></tr>
<tr><td><code>_init</code></td><td><code>address</code></td><td>The address of the contract or facet to execute _calldata</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>A function call, including function selector and arguments _calldata is executed with delegatecall on _init</td></tr>
</tbody></table>
</div>
<h3 id="upgradestate-1"><a class="header" href="#upgradestate-1">upgradeState</a></h3>
<p>Use an initializer contract without doing modifications</p>
<pre><code class="language-solidity">function upgradeState(address _init, bytes calldata _calldata) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_init</code></td><td><code>address</code></td><td>The address of the contract or facet to execute _calldata</td></tr>
<tr><td><code>_calldata</code></td><td><code>bytes</code></td><td>A function call, including function selector and arguments - _calldata is executed with delegatecall on _init</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="idiamondloupefacet"><a class="header" href="#idiamondloupefacet">IDiamondLoupeFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/interfaces/IDiamondLoupeFacet.sol">Git Source</a></p>
<h2 id="functions-24"><a class="header" href="#functions-24">Functions</a></h2>
<h3 id="facets-1"><a class="header" href="#facets-1">facets</a></h3>
<p>Gets all facet addresses and their four byte function selectors.</p>
<pre><code class="language-solidity">function facets() external view returns (Facet[] memory facets_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facets_</code></td><td><code>Facet[]</code></td><td>Facet</td></tr>
</tbody></table>
</div>
<h3 id="facetfunctionselectors-1"><a class="header" href="#facetfunctionselectors-1">facetFunctionSelectors</a></h3>
<p>Gets all the function selectors supported by a specific facet.</p>
<pre><code class="language-solidity">function facetFunctionSelectors(address _facet) external view returns (bytes4[] memory facetFunctionSelectors_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_facet</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetFunctionSelectors_</code></td><td><code>bytes4[]</code></td><td>facetFunctionSelectors_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddresses-1"><a class="header" href="#facetaddresses-1">facetAddresses</a></h3>
<p>Get all the facet addresses used by a diamond.</p>
<pre><code class="language-solidity">function facetAddresses() external view returns (address[] memory facetAddresses_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddresses_</code></td><td><code>address[]</code></td><td>facetAddresses_</td></tr>
</tbody></table>
</div>
<h3 id="facetaddress-1"><a class="header" href="#facetaddress-1">facetAddress</a></h3>
<p>Gets the facet that supports the given selector.</p>
<p><em>If facet is not found return address(0).</em></p>
<pre><code class="language-solidity">function facetAddress(bytes4 _functionSelector) external view returns (address facetAddress_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_functionSelector</code></td><td><code>bytes4</code></td><td>The function selector.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>facetAddress_</code></td><td><code>address</code></td><td>The facet address.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="idiamondownershipfacet"><a class="header" href="#idiamondownershipfacet">IDiamondOwnershipFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/interfaces/IDiamondOwnershipFacet.sol">Git Source</a></p>
<h2 id="functions-25"><a class="header" href="#functions-25">Functions</a></h2>
<h3 id="owner-1"><a class="header" href="#owner-1">owner</a></h3>
<p>Get the address of the owner</p>
<pre><code class="language-solidity">function owner() external view returns (address owner_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner_</code></td><td><code>address</code></td><td>The address of the owner.</td></tr>
</tbody></table>
</div>
<h3 id="pendingowner-1"><a class="header" href="#pendingowner-1">pendingOwner</a></h3>
<p>Get the address of pending owner</p>
<pre><code class="language-solidity">function pendingOwner() external view returns (address pendingOwner_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>pendingOwner_</code></td><td><code>address</code></td><td>The address of the pending owner.</td></tr>
</tbody></table>
</div>
<h3 id="transferownership-1"><a class="header" href="#transferownership-1">transferOwnership</a></h3>
<p>Initiate ownership transfer to a new address</p>
<p>caller must be the current contract owner</p>
<p>the new owner cannot be address(0)</p>
<p>emits a {AuthEvent.PendingOwnershipTransfer} event</p>
<pre><code class="language-solidity">function transferOwnership(address _newOwner) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newOwner</code></td><td><code>address</code></td><td>address that is set as the pending new owner</td></tr>
</tbody></table>
</div>
<h3 id="acceptownership-1"><a class="header" href="#acceptownership-1">acceptOwnership</a></h3>
<p>Transfer the ownership to the new pending owner</p>
<p>caller must be the pending owner</p>
<p>emits a {AuthEvent.OwnershipTransferred} event</p>
<pre><code class="language-solidity">function acceptOwnership() external;
</code></pre>
<h3 id="initialized-2"><a class="header" href="#initialized-2">initialized</a></h3>
<p>Check if the contract is initialized</p>
<pre><code class="language-solidity">function initialized() external view returns (bool initialized_);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>initialized_</code></td><td><code>bool</code></td><td>bool True if the contract is initialized, false otherwise.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ierc165facet"><a class="header" href="#ierc165facet">IERC165Facet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/interfaces/IERC165Facet.sol">Git Source</a></p>
<h2 id="functions-26"><a class="header" href="#functions-26">Functions</a></h2>
<h3 id="supportsinterface-1"><a class="header" href="#supportsinterface-1">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
<h3 id="seterc165-1"><a class="header" href="#seterc165-1">setERC165</a></h3>
<p>set or unset ERC165 using DiamondStorage.supportedInterfaces</p>
<pre><code class="language-solidity">function setERC165(bytes4[] calldata interfaceIds, bytes4[] calldata interfaceIdsToRemove) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceIds</code></td><td><code>bytes4[]</code></td><td>list of interface id to set as supported</td></tr>
<tr><td><code>interfaceIdsToRemove</code></td><td><code>bytes4[]</code></td><td>list of interface id to unset as supported. Technically, you can remove support of ERC165 by having the IERC165 id itself being part of that array.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="diamond"><a class="header" href="#diamond">Diamond</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/Diamond.sol">Git Source</a></p>
<h2 id="functions-27"><a class="header" href="#functions-27">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _owner, FacetCut[] memory _diamondCut, Initialization[] memory _initializations);
</code></pre>
<h3 id="fallback"><a class="header" href="#fallback">fallback</a></h3>
<pre><code class="language-solidity">fallback() external payable;
</code></pre>
<h3 id="receive"><a class="header" href="#receive">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dsmodifiers"><a class="header" href="#dsmodifiers">DSModifiers</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/Modifiers.sol">Git Source</a></p>
<h2 id="functions-28"><a class="header" href="#functions-28">Functions</a></h2>
<h3 id="onlyowner"><a class="header" href="#onlyowner">onlyOwner</a></h3>
<pre><code class="language-solidity">modifier onlyOwner();
</code></pre>
<h3 id="onlypendingowner"><a class="header" href="#onlypendingowner">onlyPendingOwner</a></h3>
<pre><code class="language-solidity">modifier onlyPendingOwner();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diamondstate"><a class="header" href="#diamondstate">DiamondState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/State.sol">Git Source</a></p>
<pre><code class="language-solidity">struct DiamondState {
    mapping(bytes4 =&gt; FacetAddressAndPosition) selectorToFacetAndPosition;
    mapping(address =&gt; FacetFunctionSelectors) facetFunctionSelectors;
    address[] facetAddresses;
    mapping(bytes4 =&gt; bool) supportedInterfaces;
    address self;
    bool initialized;
    bytes32 diamondDomainSeparator;
    address contractOwner;
    address pendingOwner;
    uint96 storageVersion;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ds"><a class="header" href="#ds">ds</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/State.sol">Git Source</a></p>
<p>Ds, a pure free function.</p>
<pre><code class="language-solidity">function ds() pure returns (DiamondState storage state);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>state</code></td><td><code>DiamondState</code></td><td>A DiamondState value.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="constants-4"><a class="header" href="#constants-4">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/State.sol">Git Source</a></p>
<h3 id="diamond_storage_position"><a class="header" href="#diamond_storage_position">DIAMOND_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant DIAMOND_STORAGE_POSITION = keccak256(&quot;kresko.diamond.storage&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facet"><a class="header" href="#facet">Facet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/Types.sol">Git Source</a></p>
<p>These functions are expected to be called frequently
by tools.</p>
<pre><code class="language-solidity">struct Facet {
    address facetAddress;
    bytes4[] functionSelectors;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facetaddressandposition"><a class="header" href="#facetaddressandposition">FacetAddressAndPosition</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct FacetAddressAndPosition {
    address facetAddress;
    uint96 functionSelectorPosition;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facetfunctionselectors-2"><a class="header" href="#facetfunctionselectors-2">FacetFunctionSelectors</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct FacetFunctionSelectors {
    bytes4[] functionSelectors;
    uint256 facetAddressPosition;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facetcutaction"><a class="header" href="#facetcutaction">FacetCutAction</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/Types.sol">Git Source</a></p>
<p><em>Add=0, Replace=1, Remove=2</em></p>
<pre><code class="language-solidity">enum FacetCutAction {
    Add,
    Replace,
    Remove
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="facetcut"><a class="header" href="#facetcut">FacetCut</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct FacetCut {
    address facetAddress;
    FacetCutAction action;
    bytes4[] functionSelectors;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="initialization"><a class="header" href="#initialization">Initialization</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/diamond/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct Initialization {
    address initContract;
    bytes initData;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-10"><a class="header" href="#contents-10">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/kiss//src/contracts/core/kiss/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/kiss/KISS.sol/contract.KISS.html">KISS</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-11"><a class="header" href="#contents-11">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/kiss/interfaces/IKISS.sol/interface.IKISS.html">IKISS</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ikiss"><a class="header" href="#ikiss">IKISS</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kiss/interfaces/IKISS.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kiss/interfaces/IKISS.sol//src/contracts/core/vault/interfaces/IVaultExtender.sol/interface.IVaultExtender.html">IVaultExtender</a>, <a href="src/contracts/core/kiss/interfaces/IKISS.sol//src/contracts/core/kresko-asset/IKreskoAssetIssuer.sol/interface.IKreskoAssetIssuer.html">IKreskoAssetIssuer</a>, <a href="src/contracts/core/kiss/interfaces/IKISS.sol//src/contracts/core/vendor/IERC165.sol/interface.IERC165.html">IERC165</a></p>
<h2 id="functions-29"><a class="header" href="#functions-29">Functions</a></h2>
<h3 id="issue"><a class="header" href="#issue">issue</a></h3>
<p>This function adds KISS to circulation
Caller must be a contract and have the OPERATOR_ROLE</p>
<pre><code class="language-solidity">function issue(uint256 _amount, address _to) external override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to mint</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to mint tokens to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 amount minted</td></tr>
</tbody></table>
</div>
<h3 id="destroy"><a class="header" href="#destroy">destroy</a></h3>
<p>This function removes KISS from circulation
Caller must be a contract and have the OPERATOR_ROLE</p>
<pre><code class="language-solidity">function destroy(uint256 _amount, address _from) external override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to burn</td></tr>
<tr><td><code>_from</code></td><td><code>address</code></td><td>address to burn tokens from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 amount burned</td></tr>
</tbody></table>
</div>
<h3 id="pause-1"><a class="header" href="#pause-1">pause</a></h3>
<p>Triggers stopped state.
Requirements:</p>
<ul>
<li>The contract must not be paused.</li>
</ul>
<pre><code class="language-solidity">function pause() external;
</code></pre>
<h3 id="unpause"><a class="header" href="#unpause">unpause</a></h3>
<p>Returns to normal state.
Requirements:</p>
<ul>
<li>The contract must be paused.</li>
</ul>
<pre><code class="language-solidity">function unpause() external;
</code></pre>
<h3 id="exchangerate"><a class="header" href="#exchangerate">exchangeRate</a></h3>
<p>Exchange rate of vKISS to USD.</p>
<pre><code class="language-solidity">function exchangeRate() external view returns (uint256 rate);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>rate</code></td><td><code>uint256</code></td><td>vKISS/USD exchange rate.</td></tr>
</tbody></table>
</div>
<h3 id="grantrole-3"><a class="header" href="#grantrole-3">grantRole</a></h3>
<p>Overrides <code>AccessControl.grantRole</code> for following:</p>
<p>EOA cannot be granted Role.OPERATOR role</p>
<pre><code class="language-solidity">function grantRole(bytes32 _role, address _to) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_role</code></td><td><code>bytes32</code></td><td>role to grant</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to grant role for</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="kiss"><a class="header" href="#kiss">KISS</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kiss/KISS.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kiss/KISS.sol//src/contracts/core/kiss/interfaces/IKISS.sol/interface.IKISS.html">IKISS</a>, <a href="src/contracts/core/kiss/KISS.sol//src/contracts/core/vendor/ERC20Upgradeable.sol/contract.ERC20Upgradeable.html">ERC20Upgradeable</a>, PausableUpgradeable, AccessControlEnumerableUpgradeable</p>
<p><strong>Author:</strong>
Kresko</p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="kresko"><a class="header" href="#kresko">kresko</a></h3>
<pre><code class="language-solidity">address public kresko;
</code></pre>
<h3 id="vkiss"><a class="header" href="#vkiss">vKISS</a></h3>
<pre><code class="language-solidity">address public vKISS;
</code></pre>
<h2 id="functions-30"><a class="header" href="#functions-30">Functions</a></h2>
<h3 id="initialize-1"><a class="header" href="#initialize-1">initialize</a></h3>
<pre><code class="language-solidity">function initialize(
    string memory name_,
    string memory symbol_,
    uint8 dec_,
    address admin_,
    address kresko_,
    address vKISS_
) external initializer;
</code></pre>
<h3 id="onlycontract"><a class="header" href="#onlycontract">onlyContract</a></h3>
<pre><code class="language-solidity">modifier onlyContract();
</code></pre>
<h3 id="issue-1"><a class="header" href="#issue-1">issue</a></h3>
<p>This function adds KISS to circulation
Caller must be a contract and have the OPERATOR_ROLE</p>
<pre><code class="language-solidity">function issue(uint256 _amount, address _to) public override onlyRole(Role.OPERATOR) returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to mint</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to mint tokens to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 amount minted</td></tr>
</tbody></table>
</div>
<h3 id="destroy-1"><a class="header" href="#destroy-1">destroy</a></h3>
<p>This function removes KISS from circulation
Caller must be a contract and have the OPERATOR_ROLE</p>
<pre><code class="language-solidity">function destroy(uint256 _amount, address _from) external onlyRole(Role.OPERATOR) returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to burn</td></tr>
<tr><td><code>_from</code></td><td><code>address</code></td><td>address to burn tokens from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 amount burned</td></tr>
</tbody></table>
</div>
<h3 id="vaultdeposit"><a class="header" href="#vaultdeposit">vaultDeposit</a></h3>
<p>Deposit tokens to vault for shares and convert them to equal amount of extender token.</p>
<pre><code class="language-solidity">function vaultDeposit(address _asset, uint256 _assets, address _receiver)
    external
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_assets</code></td><td><code>uint256</code></td><td>amount of <code>_asset</code> to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>amount of shares/extender tokens minted</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_asset</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultmint"><a class="header" href="#vaultmint">vaultMint</a></h3>
<p>Deposit supported vault assets to receive <code>_shares</code>, depositing the shares for equal amount of extender token.</p>
<pre><code class="language-solidity">function vaultMint(address _asset, uint256 _shares, address _receiver)
    external
    returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>Amount of shares to receive</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of assets for <code>_shares</code></td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of <code>_asset</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultwithdraw"><a class="header" href="#vaultwithdraw">vaultWithdraw</a></h3>
<p>Withdraw supported vault asset, burning extender tokens and withdrawing shares from vault.</p>
<pre><code class="language-solidity">function vaultWithdraw(address _asset, uint256 _assets, address _receiver, address _owner)
    external
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_assets</code></td><td><code>uint256</code></td><td>amount of <code>_asset</code> to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>Owner of extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>amount of shares/extender tokens burned</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_asset</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultredeem"><a class="header" href="#vaultredeem">vaultRedeem</a></h3>
<p>Withdraw supported vault asset for  <code>_shares</code> of extender tokens.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function vaultRedeem(address _asset, uint256 _shares, address _receiver, address _owner)
    external
    returns (uint256 assetsOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>Token to deposit into vault for shares.</td></tr>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>amount of extender tokens to burn</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address to receive assets withdrawn</td></tr>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>Owner of extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>sharesIn amount of shares/extender tokens minted</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_asset</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="deposit-1"><a class="header" href="#deposit-1">deposit</a></h3>
<p>Deposit shares for equal amount of extender token.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function deposit(uint256 _shares, address _receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>amount of vault shares to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>address to mint extender tokens to</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-1"><a class="header" href="#withdraw-1">withdraw</a></h3>
<p>Withdraw shares for equal amount of extender token.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function withdraw(uint256 _amount, address _receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount of vault extender tokens to burn</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>address to send shares to</td></tr>
</tbody></table>
</div>
<h3 id="withdrawfrom"><a class="header" href="#withdrawfrom">withdrawFrom</a></h3>
<p>Withdraw shares for equal amount of extender token with allowance.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function withdrawFrom(address _from, address _to, uint256 _amount) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_from</code></td><td><code>address</code></td><td>address to burn extender tokens from</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to send shares to</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to convert</td></tr>
</tbody></table>
</div>
<h3 id="pause-2"><a class="header" href="#pause-2">pause</a></h3>
<p>Triggers stopped state.
Requirements:</p>
<ul>
<li>The contract must not be paused.</li>
</ul>
<pre><code class="language-solidity">function pause() public onlyContract onlyRole(Role.ADMIN);
</code></pre>
<h3 id="unpause-1"><a class="header" href="#unpause-1">unpause</a></h3>
<p>Returns to normal state.
Requirements:</p>
<ul>
<li>The contract must be paused.</li>
</ul>
<pre><code class="language-solidity">function unpause() public onlyContract onlyRole(Role.ADMIN);
</code></pre>
<h3 id="grantrole-4"><a class="header" href="#grantrole-4">grantRole</a></h3>
<p>Overrides <code>AccessControl.grantRole</code> for following:</p>
<pre><code class="language-solidity">function grantRole(bytes32 _role, address _to)
    public
    override(IKISS, AccessControlUpgradeable, IAccessControl)
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_role</code></td><td><code>bytes32</code></td><td>role to grant</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to grant role for</td></tr>
</tbody></table>
</div>
<h3 id="exchangerate-1"><a class="header" href="#exchangerate-1">exchangeRate</a></h3>
<p>Exchange rate of vKISS to USD.</p>
<pre><code class="language-solidity">function exchangeRate() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>rate vKISS/USD exchange rate.</td></tr>
</tbody></table>
</div>
<h3 id="converttoshares"><a class="header" href="#converttoshares">convertToShares</a></h3>
<p>Returns the total amount of anchor tokens out</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets) external pure returns (uint256);
</code></pre>
<h3 id="converttoassets"><a class="header" href="#converttoassets">convertToAssets</a></h3>
<p>Returns the total amount of krAssets out</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares) external pure returns (uint256);
</code></pre>
<h3 id="supportsinterface-2"><a class="header" href="#supportsinterface-2">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId)
    public
    view
    override(AccessControlEnumerableUpgradeable, IERC165)
    returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
<h3 id="_withdraw"><a class="header" href="#_withdraw">_withdraw</a></h3>
<pre><code class="language-solidity">function _withdraw(address _from, address _to, uint256 _amount) internal;
</code></pre>
<h3 id="_beforetokentransfer"><a class="header" href="#_beforetokentransfer">_beforeTokenTransfer</a></h3>
<p>*See {ERC20-_beforeTokenTransfer}.
Requirements:</p>
<ul>
<li>the contract must not be paused.*</li>
</ul>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from, address to, uint256 amount) internal override;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-12"><a class="header" href="#contents-12">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/kresko-asset/ERC4626Upgradeable.sol/abstract.ERC4626Upgradeable.html">ERC4626Upgradeable</a></li>
<li><a href="src/contracts/core/kresko-asset/IERC4626Upgradeable.sol/interface.IERC4626Upgradeable.html">IERC4626Upgradeable</a></li>
<li><a href="src/contracts/core/kresko-asset/IKreskoAsset.sol/interface.ISyncable.html">ISyncable</a></li>
<li><a href="src/contracts/core/kresko-asset/IKreskoAsset.sol/interface.IKreskoAsset.html">IKreskoAsset</a></li>
<li><a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol/interface.IKreskoAssetAnchor.html">IKreskoAssetAnchor</a></li>
<li><a href="src/contracts/core/kresko-asset/IKreskoAssetIssuer.sol/interface.IKreskoAssetIssuer.html">IKreskoAssetIssuer</a></li>
<li><a href="src/contracts/core/kresko-asset/KreskoAsset.sol/contract.KreskoAsset.html">KreskoAsset</a></li>
<li><a href="src/contracts/core/kresko-asset/KreskoAssetAnchor.sol/contract.KreskoAssetAnchor.html">KreskoAssetAnchor</a></li>
<li><a href="src/contracts/core/kresko-asset/Rebaser.sol/library.Rebaser.html">Rebaser</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc4626upgradeable"><a class="header" href="#erc4626upgradeable">ERC4626Upgradeable</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kresko-asset/ERC4626Upgradeable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kresko-asset/ERC4626Upgradeable.sol//src/contracts/core/kresko-asset/IERC4626Upgradeable.sol/interface.IERC4626Upgradeable.html">IERC4626Upgradeable</a>, <a href="src/contracts/core/kresko-asset/ERC4626Upgradeable.sol//src/contracts/core/vendor/ERC20Upgradeable.sol/contract.ERC20Upgradeable.html">ERC20Upgradeable</a></p>
<p><strong>Authors:</strong>
Solmate (https://github.com/Rari-Capital/solmate/blob/main/src/mixins/ERC4626.sol), Kresko (https://www.kresko.fi)</p>
<p>Minimal ERC4626 tokenized Vault implementation.</p>
<p>Kresko:
Adds issue/destroy functions that are called when KreskoAssets are minted/burned through the protocol.</p>
<h2 id="state-variables-4"><a class="header" href="#state-variables-4">State Variables</a></h2>
<h3 id="asset-1"><a class="header" href="#asset-1">asset</a></h3>
<p>The underlying Kresko Asset</p>
<pre><code class="language-solidity">IKreskoAsset public immutable asset;
</code></pre>
<h2 id="functions-31"><a class="header" href="#functions-31">Functions</a></h2>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<pre><code class="language-solidity">constructor(IKreskoAsset _asset) payable;
</code></pre>
<h3 id="__erc4626upgradeable_init"><a class="header" href="#__erc4626upgradeable_init">__ERC4626Upgradeable_init</a></h3>
<p>Initializes the ERC4626.</p>
<p><em>decimals are read from the underlying asset</em></p>
<pre><code class="language-solidity">function __ERC4626Upgradeable_init(IERC20Permit _asset, string memory _name, string memory _symbol)
    internal
    onlyInitializing;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>IERC20Permit</code></td><td>The underlying (Kresko) Asset</td></tr>
<tr><td><code>_name</code></td><td><code>string</code></td><td>Name of the anchor token</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>Symbol of the anchor token</td></tr>
</tbody></table>
</div>
<h3 id="issue-2"><a class="header" href="#issue-2">issue</a></h3>
<p>When new KreskoAssets are minted:
Issues the equivalent amount of anchor tokens to Kresko
Issues the equivalent amount of assets to user</p>
<pre><code class="language-solidity">function issue(uint256 assets, address to) public virtual returns (uint256 shares);
</code></pre>
<h3 id="destroy-2"><a class="header" href="#destroy-2">destroy</a></h3>
<p>When new KreskoAssets are burned:
Destroys the equivalent amount of anchor tokens from Kresko
Destorys the equivalent amount of assets from user</p>
<pre><code class="language-solidity">function destroy(uint256 assets, address from) public virtual returns (uint256 shares);
</code></pre>
<h3 id="totalassets"><a class="header" href="#totalassets">totalAssets</a></h3>
<pre><code class="language-solidity">function totalAssets() public view virtual returns (uint256);
</code></pre>
<h3 id="converttoshares-1"><a class="header" href="#converttoshares-1">convertToShares</a></h3>
<pre><code class="language-solidity">function convertToShares(uint256 assets) public view virtual returns (uint256);
</code></pre>
<h3 id="converttoassets-1"><a class="header" href="#converttoassets-1">convertToAssets</a></h3>
<pre><code class="language-solidity">function convertToAssets(uint256 shares) public view virtual returns (uint256);
</code></pre>
<h3 id="previewissue"><a class="header" href="#previewissue">previewIssue</a></h3>
<p>amount of shares for amount of @param assets</p>
<pre><code class="language-solidity">function previewIssue(uint256 assets) public view virtual returns (uint256);
</code></pre>
<h3 id="previewdestroy"><a class="header" href="#previewdestroy">previewDestroy</a></h3>
<p>amount of assets for amount of @param shares</p>
<pre><code class="language-solidity">function previewDestroy(uint256 shares) public view virtual returns (uint256);
</code></pre>
<h3 id="previewdeposit"><a class="header" href="#previewdeposit">previewDeposit</a></h3>
<p>amount of shares for amount of @param assets</p>
<pre><code class="language-solidity">function previewDeposit(uint256 assets) public view virtual returns (uint256);
</code></pre>
<h3 id="previewmint"><a class="header" href="#previewmint">previewMint</a></h3>
<p>amount of assets for amount of @param shares</p>
<pre><code class="language-solidity">function previewMint(uint256 shares) public view virtual returns (uint256);
</code></pre>
<h3 id="previewwithdraw"><a class="header" href="#previewwithdraw">previewWithdraw</a></h3>
<p>amount of shares for amount of @param assets</p>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets) public view virtual returns (uint256);
</code></pre>
<h3 id="previewredeem"><a class="header" href="#previewredeem">previewRedeem</a></h3>
<p>amount of assets for amount of @param shares</p>
<pre><code class="language-solidity">function previewRedeem(uint256 shares) public view virtual returns (uint256);
</code></pre>
<h3 id="maxdeposit"><a class="header" href="#maxdeposit">maxDeposit</a></h3>
<pre><code class="language-solidity">function maxDeposit(address) public view virtual returns (uint256);
</code></pre>
<h3 id="maxissue"><a class="header" href="#maxissue">maxIssue</a></h3>
<pre><code class="language-solidity">function maxIssue(address) public view virtual returns (uint256);
</code></pre>
<h3 id="maxmint"><a class="header" href="#maxmint">maxMint</a></h3>
<pre><code class="language-solidity">function maxMint(address) public view virtual returns (uint256);
</code></pre>
<h3 id="maxdestroy"><a class="header" href="#maxdestroy">maxDestroy</a></h3>
<pre><code class="language-solidity">function maxDestroy(address owner) public view virtual returns (uint256);
</code></pre>
<h3 id="maxwithdraw"><a class="header" href="#maxwithdraw">maxWithdraw</a></h3>
<pre><code class="language-solidity">function maxWithdraw(address owner) public view virtual returns (uint256);
</code></pre>
<h3 id="maxredeem"><a class="header" href="#maxredeem">maxRedeem</a></h3>
<pre><code class="language-solidity">function maxRedeem(address owner) public view virtual returns (uint256);
</code></pre>
<h3 id="_beforewithdraw"><a class="header" href="#_beforewithdraw">_beforeWithdraw</a></h3>
<pre><code class="language-solidity">function _beforeWithdraw(uint256 assets, uint256 shares) internal virtual;
</code></pre>
<h3 id="_afterdeposit"><a class="header" href="#_afterdeposit">_afterDeposit</a></h3>
<pre><code class="language-solidity">function _afterDeposit(uint256 assets, uint256 shares) internal virtual;
</code></pre>
<h3 id="deposit-2"><a class="header" href="#deposit-2">deposit</a></h3>
<p>Deposit KreskoAssets for equivalent amount of anchor tokens</p>
<pre><code class="language-solidity">function deposit(uint256 assets, address receiver) public virtual returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets to deposit</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send shares to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-2"><a class="header" href="#withdraw-2">withdraw</a></h3>
<p>Withdraw KreskoAssets for equivalent amount of anchor tokens</p>
<p><em>shares are burned from owner, not msg.sender</em></p>
<pre><code class="language-solidity">function withdraw(uint256 assets, address receiver, address owner) public virtual returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets to withdraw</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send KreskoAssets to</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Address to burn shares from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares burned</td></tr>
</tbody></table>
</div>
<h3 id="mint"><a class="header" href="#mint">mint</a></h3>
<p>Mint shares of anchor tokens for equivalent amount of KreskoAssets</p>
<pre><code class="language-solidity">function mint(uint256 shares, address receiver) public virtual returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares to mint</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send shares to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets redeemed</td></tr>
</tbody></table>
</div>
<h3 id="redeem"><a class="header" href="#redeem">redeem</a></h3>
<p>Redeem shares of anchor for KreskoAssets</p>
<pre><code class="language-solidity">function redeem(uint256 shares, address receiver, address owner) public virtual returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send KreskoAssets to</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Address to burn shares from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets redeemed</td></tr>
</tbody></table>
</div>
<h2 id="events-3"><a class="header" href="#events-3">Events</a></h2>
<h3 id="issue-3"><a class="header" href="#issue-3">Issue</a></h3>
<pre><code class="language-solidity">event Issue(address indexed caller, address indexed owner, uint256 assets, uint256 shares);
</code></pre>
<h3 id="deposit-3"><a class="header" href="#deposit-3">Deposit</a></h3>
<pre><code class="language-solidity">event Deposit(address indexed caller, address indexed owner, uint256 assets, uint256 shares);
</code></pre>
<h3 id="destroy-3"><a class="header" href="#destroy-3">Destroy</a></h3>
<pre><code class="language-solidity">event Destroy(address indexed caller, address indexed receiver, address indexed owner, uint256 assets, uint256 shares);
</code></pre>
<h3 id="withdraw-3"><a class="header" href="#withdraw-3">Withdraw</a></h3>
<pre><code class="language-solidity">event Withdraw(address indexed caller, address indexed receiver, address indexed owner, uint256 assets, uint256 shares);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc4626upgradeable"><a class="header" href="#ierc4626upgradeable">IERC4626Upgradeable</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kresko-asset/IERC4626Upgradeable.sol">Git Source</a></p>
<h2 id="functions-32"><a class="header" href="#functions-32">Functions</a></h2>
<h3 id="asset-2"><a class="header" href="#asset-2">asset</a></h3>
<p>The underlying Kresko Asset</p>
<pre><code class="language-solidity">function asset() external view returns (IKreskoAsset);
</code></pre>
<h3 id="deposit-4"><a class="header" href="#deposit-4">deposit</a></h3>
<p>Deposit KreskoAssets for equivalent amount of anchor tokens</p>
<pre><code class="language-solidity">function deposit(uint256 assets, address receiver) external returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets to deposit</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send shares to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares minted</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-4"><a class="header" href="#withdraw-4">withdraw</a></h3>
<p>Withdraw KreskoAssets for equivalent amount of anchor tokens</p>
<p><em>shares are burned from owner, not msg.sender</em></p>
<pre><code class="language-solidity">function withdraw(uint256 assets, address receiver, address owner) external returns (uint256 shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets to withdraw</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send KreskoAssets to</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Address to burn shares from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares burned</td></tr>
</tbody></table>
</div>
<h3 id="maxdeposit-1"><a class="header" href="#maxdeposit-1">maxDeposit</a></h3>
<pre><code class="language-solidity">function maxDeposit(address) external view returns (uint256);
</code></pre>
<h3 id="maxmint-1"><a class="header" href="#maxmint-1">maxMint</a></h3>
<pre><code class="language-solidity">function maxMint(address) external view returns (uint256 assets);
</code></pre>
<h3 id="maxredeem-1"><a class="header" href="#maxredeem-1">maxRedeem</a></h3>
<pre><code class="language-solidity">function maxRedeem(address owner) external view returns (uint256 assets);
</code></pre>
<h3 id="maxwithdraw-1"><a class="header" href="#maxwithdraw-1">maxWithdraw</a></h3>
<pre><code class="language-solidity">function maxWithdraw(address owner) external view returns (uint256 assets);
</code></pre>
<h3 id="mint-1"><a class="header" href="#mint-1">mint</a></h3>
<p>Mint shares of anchor tokens for equivalent amount of KreskoAssets</p>
<pre><code class="language-solidity">function mint(uint256 shares, address receiver) external returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares to mint</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send shares to</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets redeemed</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-1"><a class="header" href="#previewdeposit-1">previewDeposit</a></h3>
<pre><code class="language-solidity">function previewDeposit(uint256 assets) external view returns (uint256 shares);
</code></pre>
<h3 id="previewmint-1"><a class="header" href="#previewmint-1">previewMint</a></h3>
<pre><code class="language-solidity">function previewMint(uint256 shares) external view returns (uint256 assets);
</code></pre>
<h3 id="previewredeem-1"><a class="header" href="#previewredeem-1">previewRedeem</a></h3>
<pre><code class="language-solidity">function previewRedeem(uint256 shares) external view returns (uint256 assets);
</code></pre>
<h3 id="previewwithdraw-1"><a class="header" href="#previewwithdraw-1">previewWithdraw</a></h3>
<pre><code class="language-solidity">function previewWithdraw(uint256 assets) external view returns (uint256 shares);
</code></pre>
<h3 id="totalassets-1"><a class="header" href="#totalassets-1">totalAssets</a></h3>
<p>Track the underlying amount</p>
<pre><code class="language-solidity">function totalAssets() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Total supply for the underlying</td></tr>
</tbody></table>
</div>
<h3 id="redeem-1"><a class="header" href="#redeem-1">redeem</a></h3>
<p>Redeem shares of anchor for KreskoAssets</p>
<pre><code class="language-solidity">function redeem(uint256 shares, address receiver, address owner) external returns (uint256 assets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>shares</code></td><td><code>uint256</code></td><td>Amount of shares to redeem</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to send KreskoAssets to</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Address to burn shares from</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>Amount of KreskoAssets redeemed</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="isyncable"><a class="header" href="#isyncable">ISyncable</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kresko-asset/IKreskoAsset.sol">Git Source</a></p>
<h2 id="functions-33"><a class="header" href="#functions-33">Functions</a></h2>
<h3 id="sync"><a class="header" href="#sync">sync</a></h3>
<pre><code class="language-solidity">function sync() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ikreskoasset"><a class="header" href="#ikreskoasset">IKreskoAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kresko-asset/IKreskoAsset.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kresko-asset/IKreskoAsset.sol//src/contracts/core/vendor/IERC20Permit.sol/interface.IERC20Permit.html">IERC20Permit</a>, IAccessControlEnumerable, <a href="src/contracts/core/kresko-asset/IKreskoAsset.sol//src/contracts/core/vendor/IERC165.sol/interface.IERC165.html">IERC165</a></p>
<h2 id="functions-34"><a class="header" href="#functions-34">Functions</a></h2>
<h3 id="initialize-2"><a class="header" href="#initialize-2">initialize</a></h3>
<p>Initializes a KreskoAsset ERC20 token.</p>
<p><em>Intended to be operated by the Kresko smart contract.</em></p>
<pre><code class="language-solidity">function initialize(
    string memory _name,
    string memory _symbol,
    uint8 _decimals,
    address _admin,
    address _kresko,
    address _underlying,
    address _feeRecipient,
    uint48 _openFee,
    uint40 _closeFee
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>The name of the KreskoAsset.</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>The symbol of the KreskoAsset.</td></tr>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>Decimals for the asset.</td></tr>
<tr><td><code>_admin</code></td><td><code>address</code></td><td>The adminstrator of this contract.</td></tr>
<tr><td><code>_kresko</code></td><td><code>address</code></td><td>The protocol, can perform mint and burn.</td></tr>
<tr><td><code>_underlying</code></td><td><code>address</code></td><td>The underlying token if available.</td></tr>
<tr><td><code>_feeRecipient</code></td><td><code>address</code></td><td>Fee recipient for synth wraps.</td></tr>
<tr><td><code>_openFee</code></td><td><code>uint48</code></td><td>Synth warp open fee.</td></tr>
<tr><td><code>_closeFee</code></td><td><code>uint40</code></td><td>Synth wrap close fee.</td></tr>
</tbody></table>
</div>
<h3 id="kresko-1"><a class="header" href="#kresko-1">kresko</a></h3>
<pre><code class="language-solidity">function kresko() external view returns (address);
</code></pre>
<h3 id="rebaseinfo"><a class="header" href="#rebaseinfo">rebaseInfo</a></h3>
<pre><code class="language-solidity">function rebaseInfo() external view returns (Rebase memory);
</code></pre>
<h3 id="isrebased"><a class="header" href="#isrebased">isRebased</a></h3>
<pre><code class="language-solidity">function isRebased() external view returns (bool);
</code></pre>
<h3 id="rebase"><a class="header" href="#rebase">rebase</a></h3>
<p>Perform a rebase, changing the denumerator and its operator</p>
<p><em>denumerator values 0 and 1 ether will disable the rebase</em></p>
<pre><code class="language-solidity">function rebase(uint256 _denominator, bool _positive, address[] calldata _pools) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_denominator</code></td><td><code>uint256</code></td><td>the denumerator for the operator, 1 ether = 1</td></tr>
<tr><td><code>_positive</code></td><td><code>bool</code></td><td>supply increasing/reducing rebase</td></tr>
<tr><td><code>_pools</code></td><td><code>address[]</code></td><td>UniswapV2Pair address to sync so we wont get rekt by skim() calls.</td></tr>
</tbody></table>
</div>
<h3 id="reinitializeerc20"><a class="header" href="#reinitializeerc20">reinitializeERC20</a></h3>
<p>Updates ERC20 metadata for the token in case eg. a ticker change</p>
<pre><code class="language-solidity">function reinitializeERC20(string memory _name, string memory _symbol, uint8 _version) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>new name for the asset</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>new symbol for the asset</td></tr>
<tr><td><code>_version</code></td><td><code>uint8</code></td><td>number that must be greater than latest emitted <code>Initialized</code> version</td></tr>
</tbody></table>
</div>
<h3 id="totalsupply"><a class="header" href="#totalsupply">totalSupply</a></h3>
<p>Returns the total supply of the token.</p>
<p>This amount is adjusted by rebases.</p>
<pre><code class="language-solidity">function totalSupply() external view override(IERC20Permit) returns (uint256);
</code></pre>
<h3 id="balanceof-1"><a class="header" href="#balanceof-1">balanceOf</a></h3>
<p>Returns the balance of @param _account</p>
<p>This amount is adjusted by rebases.</p>
<pre><code class="language-solidity">function balanceOf(address _account) external view override(IERC20Permit) returns (uint256);
</code></pre>
<h3 id="allowance"><a class="header" href="#allowance">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address _owner, address _account) external view override(IERC20Permit) returns (uint256);
</code></pre>
<h3 id="approve"><a class="header" href="#approve">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external override returns (bool);
</code></pre>
<h3 id="transfer"><a class="header" href="#transfer">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address _to, uint256 _amount) external override(IERC20Permit) returns (bool);
</code></pre>
<h3 id="transferfrom"><a class="header" href="#transferfrom">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address _from, address _to, uint256 _amount) external override(IERC20Permit) returns (bool);
</code></pre>
<h3 id="mint-2"><a class="header" href="#mint-2">mint</a></h3>
<p>Mints tokens to an address.</p>
<p><em>Only callable by operator.</em></p>
<p><em>Internal balances are always unrebased, events emitted are not.</em></p>
<pre><code class="language-solidity">function mint(address _to, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_to</code></td><td><code>address</code></td><td>The address to mint tokens to.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of tokens to mint.</td></tr>
</tbody></table>
</div>
<h3 id="burn"><a class="header" href="#burn">burn</a></h3>
<p>Burns tokens from an address.</p>
<p><em>Only callable by operator.</em></p>
<p><em>Internal balances are always unrebased, events emitted are not.</em></p>
<pre><code class="language-solidity">function burn(address _from, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_from</code></td><td><code>address</code></td><td>The address to burn tokens from.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of tokens to burn.</td></tr>
</tbody></table>
</div>
<h3 id="pause-3"><a class="header" href="#pause-3">pause</a></h3>
<p>Triggers stopped state.
Requirements:</p>
<ul>
<li>The contract must not be paused.</li>
</ul>
<pre><code class="language-solidity">function pause() external;
</code></pre>
<h3 id="unpause-2"><a class="header" href="#unpause-2">unpause</a></h3>
<p>Returns to normal state.
Requirements:</p>
<ul>
<li>The contract must be paused.</li>
</ul>
<pre><code class="language-solidity">function unpause() external;
</code></pre>
<h3 id="wrap"><a class="header" href="#wrap">wrap</a></h3>
<p>Deposit underlying tokens to receive equal value of krAsset (-fee).</p>
<pre><code class="language-solidity">function wrap(address _to, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_to</code></td><td><code>address</code></td><td>The to address.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="unwrap"><a class="header" href="#unwrap">unwrap</a></h3>
<p>Withdraw kreskoAsset to receive underlying tokens / native (-fee).</p>
<pre><code class="language-solidity">function unwrap(uint256 _amount, bool _receiveNative) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
<tr><td><code>_receiveNative</code></td><td><code>bool</code></td><td>bool whether to receive underlying as native</td></tr>
</tbody></table>
</div>
<h3 id="setanchortoken"><a class="header" href="#setanchortoken">setAnchorToken</a></h3>
<p>Sets anchor token address</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setAnchorToken(address _anchor) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_anchor</code></td><td><code>address</code></td><td>The anchor address.</td></tr>
</tbody></table>
</div>
<h3 id="enablenativeunderlying"><a class="header" href="#enablenativeunderlying">enableNativeUnderlying</a></h3>
<p>Enables depositing native token ETH in case of krETH</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function enableNativeUnderlying(bool _enabled) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>The enabled (bool).</td></tr>
</tbody></table>
</div>
<h3 id="setfeerecipient"><a class="header" href="#setfeerecipient">setFeeRecipient</a></h3>
<p>Sets fee recipient address</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setFeeRecipient(address _feeRecipient) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feeRecipient</code></td><td><code>address</code></td><td>The fee recipient address.</td></tr>
</tbody></table>
</div>
<h3 id="setopenfee"><a class="header" href="#setopenfee">setOpenFee</a></h3>
<p>Sets deposit fee</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setOpenFee(uint48 _openFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_openFee</code></td><td><code>uint48</code></td><td>The open fee (uint48).</td></tr>
</tbody></table>
</div>
<h3 id="setclosefee"><a class="header" href="#setclosefee">setCloseFee</a></h3>
<p>Sets withdraw fee</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setCloseFee(uint40 _closeFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_closeFee</code></td><td><code>uint40</code></td><td>The open fee (uint48).</td></tr>
</tbody></table>
</div>
<h3 id="setunderlying"><a class="header" href="#setunderlying">setUnderlying</a></h3>
<p>Sets underlying token address (and its decimals)</p>
<p>Zero address will disable functionality provided for the underlying.</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setUnderlying(address _underlying) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_underlying</code></td><td><code>address</code></td><td>The underlying address.</td></tr>
</tbody></table>
</div>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="rebase-1"><a class="header" href="#rebase-1">Rebase</a></h3>
<p>Rebase information</p>
<pre><code class="language-solidity">struct Rebase {
    bool positive;
    uint256 denominator;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ikreskoassetanchor"><a class="header" href="#ikreskoassetanchor">IKreskoAssetAnchor</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol//src/contracts/core/kresko-asset/IKreskoAssetIssuer.sol/interface.IKreskoAssetIssuer.html">IKreskoAssetIssuer</a>, <a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol//src/contracts/core/kresko-asset/IERC4626Upgradeable.sol/interface.IERC4626Upgradeable.html">IERC4626Upgradeable</a>, <a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol//src/contracts/core/vendor/IERC20Permit.sol/interface.IERC20Permit.html">IERC20Permit</a>, IAccessControlEnumerable, <a href="src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol//src/contracts/core/vendor/IERC165.sol/interface.IERC165.html">IERC165</a></p>
<h2 id="functions-35"><a class="header" href="#functions-35">Functions</a></h2>
<h3 id="totalassets-2"><a class="header" href="#totalassets-2">totalAssets</a></h3>
<pre><code class="language-solidity">function totalAssets() external view override(IERC4626Upgradeable) returns (uint256);
</code></pre>
<h3 id="initialize-3"><a class="header" href="#initialize-3">initialize</a></h3>
<p>Initializes the Kresko Asset Anchor.</p>
<p><em>Decimals are not supplied as they are read from the underlying Kresko Asset</em></p>
<pre><code class="language-solidity">function initialize(IKreskoAsset _asset, string memory _name, string memory _symbol, address _admin) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>IKreskoAsset</code></td><td>The underlying (Kresko) Asset</td></tr>
<tr><td><code>_name</code></td><td><code>string</code></td><td>Name of the anchor token</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>Symbol of the anchor token</td></tr>
<tr><td><code>_admin</code></td><td><code>address</code></td><td>The adminstrator of this contract.</td></tr>
</tbody></table>
</div>
<h3 id="reinitializeerc20-1"><a class="header" href="#reinitializeerc20-1">reinitializeERC20</a></h3>
<p>Updates ERC20 metadata for the token in case eg. a ticker change</p>
<pre><code class="language-solidity">function reinitializeERC20(string memory _name, string memory _symbol, uint8 _version) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>new name for the asset</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>new symbol for the asset</td></tr>
<tr><td><code>_version</code></td><td><code>uint8</code></td><td>number that must be greater than latest emitted <code>Initialized</code> version</td></tr>
</tbody></table>
</div>
<h3 id="wrap-1"><a class="header" href="#wrap-1">wrap</a></h3>
<p>Mint Kresko Anchor Asset to Kresko Asset (Only KreskoAsset can call)</p>
<pre><code class="language-solidity">function wrap(uint256 assets) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The assets (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="unwrap-1"><a class="header" href="#unwrap-1">unwrap</a></h3>
<p>Burn Kresko Anchor Asset to Kresko Asset (Only KreskoAsset can call)</p>
<pre><code class="language-solidity">function unwrap(uint256 assets) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The assets (uint256).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ikreskoassetissuer"><a class="header" href="#ikreskoassetissuer">IKreskoAssetIssuer</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kresko-asset/IKreskoAssetIssuer.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Contract that can issue/destroy Kresko Assets through Kresko</p>
<p><em>This interface is used by KISS &amp; KreskoAssetAnchor</em></p>
<h2 id="functions-36"><a class="header" href="#functions-36">Functions</a></h2>
<h3 id="issue-4"><a class="header" href="#issue-4">issue</a></h3>
<p>Mints @param _assets of krAssets for @param _to,</p>
<p>Mints relative @return _shares of wkrAssets</p>
<pre><code class="language-solidity">function issue(uint256 _assets, address _to) external returns (uint256 shares);
</code></pre>
<h3 id="destroy-4"><a class="header" href="#destroy-4">destroy</a></h3>
<p>Burns @param _assets of krAssets from @param _from,</p>
<p>Burns relative @return _shares of wkrAssets</p>
<pre><code class="language-solidity">function destroy(uint256 _assets, address _from) external returns (uint256 shares);
</code></pre>
<h3 id="converttoshares-2"><a class="header" href="#converttoshares-2">convertToShares</a></h3>
<p>Returns the total amount of anchor tokens out</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets) external view returns (uint256 shares);
</code></pre>
<h3 id="converttoassets-2"><a class="header" href="#converttoassets-2">convertToAssets</a></h3>
<p>Returns the total amount of krAssets out</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares) external view returns (uint256 assets);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kreskoasset"><a class="header" href="#kreskoasset">KreskoAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kresko-asset/KreskoAsset.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kresko-asset/KreskoAsset.sol//src/contracts/core/vendor/ERC20Upgradeable.sol/contract.ERC20Upgradeable.html">ERC20Upgradeable</a>, AccessControlEnumerableUpgradeable, PausableUpgradeable, <a href="src/contracts/core/kresko-asset/KreskoAsset.sol//src/contracts/core/kresko-asset/IKreskoAsset.sol/interface.IKreskoAsset.html">IKreskoAsset</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Rebases to adjust for stock splits and reverse stock splits</p>
<p>Minting, burning and rebasing can only be performed by the <code>Role.OPERATOR</code></p>
<h2 id="state-variables-5"><a class="header" href="#state-variables-5">State Variables</a></h2>
<h3 id="_rebaseinfo"><a class="header" href="#_rebaseinfo">_rebaseInfo</a></h3>
<pre><code class="language-solidity">Rebase private _rebaseInfo;
</code></pre>
<h3 id="kresko-2"><a class="header" href="#kresko-2">kresko</a></h3>
<pre><code class="language-solidity">address public kresko;
</code></pre>
<h3 id="isrebased-1"><a class="header" href="#isrebased-1">isRebased</a></h3>
<pre><code class="language-solidity">bool public isRebased;
</code></pre>
<h3 id="anchor"><a class="header" href="#anchor">anchor</a></h3>
<pre><code class="language-solidity">address public anchor;
</code></pre>
<h3 id="underlying"><a class="header" href="#underlying">underlying</a></h3>
<pre><code class="language-solidity">address public underlying;
</code></pre>
<h3 id="underlyingdecimals"><a class="header" href="#underlyingdecimals">underlyingDecimals</a></h3>
<pre><code class="language-solidity">uint8 public underlyingDecimals;
</code></pre>
<h3 id="openfee"><a class="header" href="#openfee">openFee</a></h3>
<pre><code class="language-solidity">uint48 public openFee;
</code></pre>
<h3 id="closefee"><a class="header" href="#closefee">closeFee</a></h3>
<pre><code class="language-solidity">uint40 public closeFee;
</code></pre>
<h3 id="nativeunderlyingenabled"><a class="header" href="#nativeunderlyingenabled">nativeUnderlyingEnabled</a></h3>
<pre><code class="language-solidity">bool public nativeUnderlyingEnabled;
</code></pre>
<h3 id="feerecipient"><a class="header" href="#feerecipient">feeRecipient</a></h3>
<pre><code class="language-solidity">address payable public feeRecipient;
</code></pre>
<h2 id="functions-37"><a class="header" href="#functions-37">Functions</a></h2>
<h3 id="initialize-4"><a class="header" href="#initialize-4">initialize</a></h3>
<p>Initialize, an external state-modifying function.</p>
<p><em>Has modifiers: initializer.</em></p>
<pre><code class="language-solidity">function initialize(
    string memory _name,
    string memory _symbol,
    uint8 _decimals,
    address _admin,
    address _kresko,
    address _underlying,
    address _feeRecipient,
    uint48 _openFee,
    uint40 _closeFee
) external initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>The name (string).</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>The symbol (string).</td></tr>
<tr><td><code>_decimals</code></td><td><code>uint8</code></td><td>The decimals (uint8).</td></tr>
<tr><td><code>_admin</code></td><td><code>address</code></td><td>The admin address.</td></tr>
<tr><td><code>_kresko</code></td><td><code>address</code></td><td>The kresko address.</td></tr>
<tr><td><code>_underlying</code></td><td><code>address</code></td><td>The underlying address.</td></tr>
<tr><td><code>_feeRecipient</code></td><td><code>address</code></td><td>The fee recipient address.</td></tr>
<tr><td><code>_openFee</code></td><td><code>uint48</code></td><td>The open fee (uint48).</td></tr>
<tr><td><code>_closeFee</code></td><td><code>uint40</code></td><td>The close fee (uint40).</td></tr>
</tbody></table>
</div>
<h3 id="setanchortoken-1"><a class="header" href="#setanchortoken-1">setAnchorToken</a></h3>
<p>Sets anchor token address</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setAnchorToken(address _anchor) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_anchor</code></td><td><code>address</code></td><td>The anchor address.</td></tr>
</tbody></table>
</div>
<h3 id="setunderlying-1"><a class="header" href="#setunderlying-1">setUnderlying</a></h3>
<p>Sets underlying token address (and its decimals)</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setUnderlying(address _underlyingAddr) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_underlyingAddr</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="enablenativeunderlying-1"><a class="header" href="#enablenativeunderlying-1">enableNativeUnderlying</a></h3>
<p>Enables depositing native token ETH in case of krETH</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function enableNativeUnderlying(bool _enabled) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>The enabled (bool).</td></tr>
</tbody></table>
</div>
<h3 id="setfeerecipient-1"><a class="header" href="#setfeerecipient-1">setFeeRecipient</a></h3>
<p>Sets fee recipient address</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setFeeRecipient(address _feeRecipient) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_feeRecipient</code></td><td><code>address</code></td><td>The fee recipient address.</td></tr>
</tbody></table>
</div>
<h3 id="setopenfee-1"><a class="header" href="#setopenfee-1">setOpenFee</a></h3>
<p>Sets deposit fee</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setOpenFee(uint48 _openFee) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_openFee</code></td><td><code>uint48</code></td><td>The open fee (uint48).</td></tr>
</tbody></table>
</div>
<h3 id="setclosefee-1"><a class="header" href="#setclosefee-1">setCloseFee</a></h3>
<p>Sets withdraw fee</p>
<p><em>Has modifiers: onlyRole.</em></p>
<pre><code class="language-solidity">function setCloseFee(uint40 _closeFee) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_closeFee</code></td><td><code>uint40</code></td><td>The open fee (uint48).</td></tr>
</tbody></table>
</div>
<h3 id="supportsinterface-3"><a class="header" href="#supportsinterface-3">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId)
    public
    view
    virtual
    override(AccessControlEnumerableUpgradeable, IERC165)
    returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
<h3 id="rebaseinfo-1"><a class="header" href="#rebaseinfo-1">rebaseInfo</a></h3>
<pre><code class="language-solidity">function rebaseInfo() external view override returns (Rebase memory);
</code></pre>
<h3 id="totalsupply-1"><a class="header" href="#totalsupply-1">totalSupply</a></h3>
<p>Returns the total supply of the token.</p>
<pre><code class="language-solidity">function totalSupply() public view override(ERC20Upgradeable, IKreskoAsset) returns (uint256);
</code></pre>
<h3 id="balanceof-2"><a class="header" href="#balanceof-2">balanceOf</a></h3>
<p>Returns the balance of @param _account</p>
<pre><code class="language-solidity">function balanceOf(address _account) public view override(ERC20Upgradeable, IKreskoAsset) returns (uint256);
</code></pre>
<h3 id="allowance-1"><a class="header" href="#allowance-1">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address _owner, address _account)
    public
    view
    override(ERC20Upgradeable, IKreskoAsset)
    returns (uint256);
</code></pre>
<h3 id="pause-4"><a class="header" href="#pause-4">pause</a></h3>
<p>Triggers stopped state.
Requirements:</p>
<ul>
<li>The contract must not be paused.</li>
</ul>
<pre><code class="language-solidity">function pause() public onlyRole(Role.ADMIN);
</code></pre>
<h3 id="unpause-3"><a class="header" href="#unpause-3">unpause</a></h3>
<p>Returns to normal state.
Requirements:</p>
<ul>
<li>The contract must be paused.</li>
</ul>
<pre><code class="language-solidity">function unpause() public onlyRole(Role.ADMIN);
</code></pre>
<h3 id="reinitializeerc20-2"><a class="header" href="#reinitializeerc20-2">reinitializeERC20</a></h3>
<p>Updates ERC20 metadata for the token in case eg. a ticker change</p>
<pre><code class="language-solidity">function reinitializeERC20(string memory _name, string memory _symbol, uint8 _version)
    external
    onlyRole(Role.ADMIN)
    reinitializer(_version);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>new name for the asset</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>new symbol for the asset</td></tr>
<tr><td><code>_version</code></td><td><code>uint8</code></td><td>number that must be greater than latest emitted <code>Initialized</code> version</td></tr>
</tbody></table>
</div>
<h3 id="approve-1"><a class="header" href="#approve-1">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) public override(ERC20Upgradeable, IKreskoAsset) returns (bool);
</code></pre>
<h3 id="transfer-1"><a class="header" href="#transfer-1">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address _to, uint256 _amount)
    public
    override(ERC20Upgradeable, IKreskoAsset)
    whenNotPaused
    returns (bool);
</code></pre>
<h3 id="transferfrom-1"><a class="header" href="#transferfrom-1">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address _from, address _to, uint256 _amount)
    public
    override(ERC20Upgradeable, IKreskoAsset)
    whenNotPaused
    returns (bool);
</code></pre>
<h3 id="rebase-2"><a class="header" href="#rebase-2">rebase</a></h3>
<p>Perform a rebase, changing the denumerator and its operator</p>
<p><em>denumerator values 0 and 1 ether will disable the rebase</em></p>
<pre><code class="language-solidity">function rebase(uint256 _denominator, bool _positive, address[] calldata _pools) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_denominator</code></td><td><code>uint256</code></td><td>the denumerator for the operator, 1 ether = 1</td></tr>
<tr><td><code>_positive</code></td><td><code>bool</code></td><td>supply increasing/reducing rebase</td></tr>
<tr><td><code>_pools</code></td><td><code>address[]</code></td><td>UniswapV2Pair address to sync so we wont get rekt by skim() calls.</td></tr>
</tbody></table>
</div>
<h3 id="mint-3"><a class="header" href="#mint-3">mint</a></h3>
<p>Mints tokens to an address.</p>
<p><em>Only callable by operator.</em></p>
<pre><code class="language-solidity">function mint(address _to, uint256 _amount) external onlyRole(Role.OPERATOR) whenNotPaused;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_to</code></td><td><code>address</code></td><td>The address to mint tokens to.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of tokens to mint.</td></tr>
</tbody></table>
</div>
<h3 id="burn-1"><a class="header" href="#burn-1">burn</a></h3>
<p>Burns tokens from an address.</p>
<p><em>Only callable by operator.</em></p>
<pre><code class="language-solidity">function burn(address _from, uint256 _amount) external onlyRole(Role.OPERATOR) whenNotPaused;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_from</code></td><td><code>address</code></td><td>The address to burn tokens from.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of tokens to burn.</td></tr>
</tbody></table>
</div>
<h3 id="wrap-2"><a class="header" href="#wrap-2">wrap</a></h3>
<p>Deposit underlying tokens to receive equal value of krAsset (-fee).</p>
<pre><code class="language-solidity">function wrap(address _to, uint256 _amount) external whenNotPaused;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_to</code></td><td><code>address</code></td><td>The to address.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="unwrap-2"><a class="header" href="#unwrap-2">unwrap</a></h3>
<p>Withdraw kreskoAsset to receive underlying tokens / native (-fee).</p>
<pre><code class="language-solidity">function unwrap(uint256 _amount, bool _receiveNative) external whenNotPaused;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount (uint256).</td></tr>
<tr><td><code>_receiveNative</code></td><td><code>bool</code></td><td>bool whether to receive underlying as native</td></tr>
</tbody></table>
</div>
<h3 id="receive-1"><a class="header" href="#receive-1">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="_mint"><a class="header" href="#_mint">_mint</a></h3>
<pre><code class="language-solidity">function _mint(address _to, uint256 _amount) internal override;
</code></pre>
<h3 id="_burn"><a class="header" href="#_burn">_burn</a></h3>
<pre><code class="language-solidity">function _burn(address _from, uint256 _amount) internal override;
</code></pre>
<h3 id="_adjustdecimals"><a class="header" href="#_adjustdecimals">_adjustDecimals</a></h3>
<pre><code class="language-solidity">function _adjustDecimals(uint256 _amount, uint8 _fromDecimal, uint8 _toDecimal) internal pure returns (uint256);
</code></pre>
<h3 id="_transfer"><a class="header" href="#_transfer">_transfer</a></h3>
<p><em>Internal balances are always unrebased, events emitted are not.</em></p>
<pre><code class="language-solidity">function _transfer(address _from, address _to, uint256 _amount) internal returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kreskoassetanchor"><a class="header" href="#kreskoassetanchor">KreskoAssetAnchor</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kresko-asset/KreskoAssetAnchor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/kresko-asset/KreskoAssetAnchor.sol//src/contracts/core/kresko-asset/ERC4626Upgradeable.sol/abstract.ERC4626Upgradeable.html">ERC4626Upgradeable</a>, <a href="src/contracts/core/kresko-asset/KreskoAssetAnchor.sol//src/contracts/core/kresko-asset/IKreskoAssetAnchor.sol/interface.IKreskoAssetAnchor.html">IKreskoAssetAnchor</a>, AccessControlEnumerableUpgradeable</p>
<p><strong>Author:</strong>
Kresko</p>
<p>Main purpose of this token is to represent a static amount of the possibly rebased underlying KreskoAsset.
Main use-cases are normalized book-keeping, bridging and integration with external contracts.</p>
<p>Shares means amount of this token.</p>
<p>Assets mean amount of KreskoAssets.</p>
<h2 id="functions-38"><a class="header" href="#functions-38">Functions</a></h2>
<h3 id="constructor-2"><a class="header" href="#constructor-2">constructor</a></h3>
<pre><code class="language-solidity">constructor(IKreskoAsset _asset) payable ERC4626Upgradeable(_asset);
</code></pre>
<h3 id="initialize-5"><a class="header" href="#initialize-5">initialize</a></h3>
<p>Initializes the Kresko Asset Anchor.</p>
<p><em>Decimals are not supplied as they are read from the underlying Kresko Asset</em></p>
<pre><code class="language-solidity">function initialize(IKreskoAsset _asset, string memory _name, string memory _symbol, address _admin)
    external
    initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>IKreskoAsset</code></td><td>The underlying (Kresko) Asset</td></tr>
<tr><td><code>_name</code></td><td><code>string</code></td><td>Name of the anchor token</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>Symbol of the anchor token</td></tr>
<tr><td><code>_admin</code></td><td><code>address</code></td><td>The adminstrator of this contract.</td></tr>
</tbody></table>
</div>
<h3 id="supportsinterface-4"><a class="header" href="#supportsinterface-4">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId)
    public
    view
    virtual
    override(AccessControlEnumerableUpgradeable, IERC165)
    returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div>
<h3 id="reinitializeerc20-3"><a class="header" href="#reinitializeerc20-3">reinitializeERC20</a></h3>
<p>Updates ERC20 metadata for the token in case eg. a ticker change</p>
<pre><code class="language-solidity">function reinitializeERC20(string memory _name, string memory _symbol, uint8 _version)
    external
    onlyRole(Role.ADMIN)
    reinitializer(_version);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_name</code></td><td><code>string</code></td><td>new name for the asset</td></tr>
<tr><td><code>_symbol</code></td><td><code>string</code></td><td>new symbol for the asset</td></tr>
<tr><td><code>_version</code></td><td><code>uint8</code></td><td>number that must be greater than latest emitted <code>Initialized</code> version</td></tr>
</tbody></table>
</div>
<h3 id="totalassets-3"><a class="header" href="#totalassets-3">totalAssets</a></h3>
<pre><code class="language-solidity">function totalAssets() public view virtual override(IKreskoAssetAnchor, ERC4626Upgradeable) returns (uint256);
</code></pre>
<h3 id="converttoassets-3"><a class="header" href="#converttoassets-3">convertToAssets</a></h3>
<p>Returns the total amount of krAssets out</p>
<pre><code class="language-solidity">function convertToAssets(uint256 shares)
    public
    view
    virtual
    override(ERC4626Upgradeable, IKreskoAssetIssuer)
    returns (uint256 assets);
</code></pre>
<h3 id="converttoshares-3"><a class="header" href="#converttoshares-3">convertToShares</a></h3>
<p>Returns the total amount of anchor tokens out</p>
<pre><code class="language-solidity">function convertToShares(uint256 assets)
    public
    view
    virtual
    override(ERC4626Upgradeable, IKreskoAssetIssuer)
    returns (uint256 shares);
</code></pre>
<h3 id="issue-5"><a class="header" href="#issue-5">issue</a></h3>
<p>Mints @param _assets of krAssets for @param _to,</p>
<pre><code class="language-solidity">function issue(uint256 _assets, address _to)
    public
    virtual
    override(ERC4626Upgradeable, IKreskoAssetIssuer)
    onlyRole(Role.OPERATOR)
    returns (uint256 shares);
</code></pre>
<h3 id="destroy-5"><a class="header" href="#destroy-5">destroy</a></h3>
<p>Burns @param _assets of krAssets from @param _from,</p>
<pre><code class="language-solidity">function destroy(uint256 _assets, address _from)
    public
    virtual
    override(ERC4626Upgradeable, IKreskoAssetIssuer)
    onlyRole(Role.OPERATOR)
    returns (uint256 shares);
</code></pre>
<h3 id="wrap-3"><a class="header" href="#wrap-3">wrap</a></h3>
<p>Mint Kresko Anchor Asset to Kresko Asset (Only KreskoAsset can call)</p>
<pre><code class="language-solidity">function wrap(uint256 assets) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The assets (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="unwrap-3"><a class="header" href="#unwrap-3">unwrap</a></h3>
<p>Burn Kresko Anchor Asset to Kresko Asset (Only KreskoAsset can call)</p>
<pre><code class="language-solidity">function unwrap(uint256 assets) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>uint256</code></td><td>The assets (uint256).</td></tr>
</tbody></table>
</div>
<h3 id="deposit-5"><a class="header" href="#deposit-5">deposit</a></h3>
<p>reverting function, kept to maintain compatibility with ERC4626 standard</p>
<pre><code class="language-solidity">function deposit(uint256, address) public pure override(ERC4626Upgradeable, IERC4626Upgradeable) returns (uint256);
</code></pre>
<h3 id="withdraw-5"><a class="header" href="#withdraw-5">withdraw</a></h3>
<p>reverting function, kept to maintain compatibility with ERC4626 standard</p>
<pre><code class="language-solidity">function withdraw(uint256, address, address)
    public
    pure
    override(ERC4626Upgradeable, IERC4626Upgradeable)
    returns (uint256);
</code></pre>
<h3 id="redeem-2"><a class="header" href="#redeem-2">redeem</a></h3>
<p>reverting function, kept to maintain compatibility with ERC4626 standard</p>
<pre><code class="language-solidity">function redeem(uint256, address, address)
    public
    pure
    override(ERC4626Upgradeable, IERC4626Upgradeable)
    returns (uint256);
</code></pre>
<h3 id="_beforewithdraw-1"><a class="header" href="#_beforewithdraw-1">_beforeWithdraw</a></h3>
<pre><code class="language-solidity">function _beforeWithdraw(uint256 assets, uint256 shares) internal virtual override;
</code></pre>
<h3 id="_afterdeposit-1"><a class="header" href="#_afterdeposit-1">_afterDeposit</a></h3>
<pre><code class="language-solidity">function _afterDeposit(uint256 assets, uint256 shares) internal virtual override;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rebaser"><a class="header" href="#rebaser">Rebaser</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/kresko-asset/Rebaser.sol">Git Source</a></p>
<h2 id="functions-39"><a class="header" href="#functions-39">Functions</a></h2>
<h3 id="unrebase"><a class="header" href="#unrebase">unrebase</a></h3>
<p>Unrebase a value by a given rebase struct.</p>
<pre><code class="language-solidity">function unrebase(uint256 self, IKreskoAsset.Rebase memory _rebase) internal pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>uint256</code></td><td>The value to unrebase.</td></tr>
<tr><td><code>_rebase</code></td><td><code>IKreskoAsset.Rebase</code></td><td>The rebase struct.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The unrebased value.</td></tr>
</tbody></table>
</div>
<h3 id="rebase-3"><a class="header" href="#rebase-3">rebase</a></h3>
<p>Rebase a value by a given rebase struct.</p>
<pre><code class="language-solidity">function rebase(uint256 self, IKreskoAsset.Rebase memory _rebase) internal pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>uint256</code></td><td>The value to rebase.</td></tr>
<tr><td><code>_rebase</code></td><td><code>IKreskoAsset.Rebase</code></td><td>The rebase struct.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The rebased value.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-13"><a class="header" href="#contents-13">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/libs/Arrays.sol/library.Arrays.html">Arrays</a></li>
<li><a href="src/contracts/core/libs/EnumerableSet.sol/library.EnumerableSet.html">EnumerableSet</a></li>
<li><a href="src/contracts/core/libs/Meta.sol/library.Meta.html">Meta</a></li>
<li><a href="src/contracts/core/libs/PercentageMath.sol/library.PercentageMath.html">PercentageMath</a></li>
<li><a href="src/contracts/core/libs/Redstone.sol/library.Redstone.html">Redstone</a></li>
<li><a href="src/contracts/core/libs/Redstone.sol/function.add.html">add</a></li>
<li><a href="src/contracts/core/libs/Redstone.sol/function.sub.html">sub</a></li>
<li><a href="src/contracts/core/libs/Redstone.sol/constants.Redstone.html">Redstone constants</a></li>
<li><a href="src/contracts/core/libs/RedstoneInternals.sol/library.NumericArrayLib.html">NumericArrayLib</a></li>
<li><a href="src/contracts/core/libs/RedstoneInternals.sol/library.RedstoneDefaultsLib.html">RedstoneDefaultsLib</a></li>
<li><a href="src/contracts/core/libs/RedstoneInternals.sol/library.BitmapLib.html">BitmapLib</a></li>
<li><a href="src/contracts/core/libs/RedstoneInternals.sol/library.SignatureLib.html">SignatureLib</a></li>
<li><a href="src/contracts/core/libs/RedstoneInternals.sol/library.RedstoneError.html">RedstoneError</a></li>
<li><a href="src/contracts/core/libs/Strings.sol/library.Strings.html">Strings</a></li>
<li><a href="src/contracts/core/libs/WadRay.sol/library.WadRay.html">WadRay</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="arrays"><a class="header" href="#arrays">Arrays</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/Arrays.sol">Git Source</a></p>
<h2 id="functions-40"><a class="header" href="#functions-40">Functions</a></h2>
<h3 id="find"><a class="header" href="#find">find</a></h3>
<pre><code class="language-solidity">function find(address[] storage _addresses, address _elementToFind) internal view returns (Item memory);
</code></pre>
<h3 id="pushunique"><a class="header" href="#pushunique">pushUnique</a></h3>
<pre><code class="language-solidity">function pushUnique(address[] storage _addresses, address _elementToAdd) internal;
</code></pre>
<h3 id="removeexisting"><a class="header" href="#removeexisting">removeExisting</a></h3>
<pre><code class="language-solidity">function removeExisting(address[] storage _addresses, address _elementToRemove) internal;
</code></pre>
<h3 id="removeaddress"><a class="header" href="#removeaddress">removeAddress</a></h3>
<p><em>Removes an element by copying the last element to the element to remove's place and removing
the last element.</em></p>
<pre><code class="language-solidity">function removeAddress(address[] storage _addresses, address _elementToRemove, uint256 _elementIndex) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_addresses</code></td><td><code>address[]</code></td><td>The address array containing the item to be removed.</td></tr>
<tr><td><code>_elementToRemove</code></td><td><code>address</code></td><td>The element to be removed.</td></tr>
<tr><td><code>_elementIndex</code></td><td><code>uint256</code></td><td>The index of the element to be removed.</td></tr>
</tbody></table>
</div>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="item"><a class="header" href="#item">Item</a></h3>
<pre><code class="language-solidity">struct Item {
    bool exists;
    uint256 index;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enumerableset"><a class="header" href="#enumerableset">EnumerableSet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/EnumerableSet.sol">Git Source</a></p>
<p>*Library for managing
https://en.wikipedia.org/wiki/Set_(abstract_data_type)[sets] of primitive
types.
Sets have the following properties:</p>
<ul>
<li>Elements are added, removed, and checked for existence in constant time
(O(1)).</li>
<li>Elements are enumerated in O(n). No guarantees are made on the ordering.</li>
</ul>
<pre><code>contract Example {
// Add the library methods
using EnumerableSet for EnumerableSet.AddressSet;
// Declare a set state variable
EnumerableSet.AddressSet private mySet;
}
</code></pre>
<p>As of v3.3.0, sets of type <code>bytes32</code> (<code>Bytes32Set</code>), <code>address</code> (<code>AddressSet</code>)
and <code>uint256</code> (<code>UintSet</code>) are supported.*</p>
<h2 id="functions-41"><a class="header" href="#functions-41">Functions</a></h2>
<h3 id="_add"><a class="header" href="#_add">_add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function _add(Set storage set, bytes32 value) private returns (bool);
</code></pre>
<h3 id="_remove"><a class="header" href="#_remove">_remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function _remove(Set storage set, bytes32 value) private returns (bool);
</code></pre>
<h3 id="_contains"><a class="header" href="#_contains">_contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function _contains(Set storage set, bytes32 value) private view returns (bool);
</code></pre>
<h3 id="_length"><a class="header" href="#_length">_length</a></h3>
<p><em>Returns the number of values on the set. O(1).</em></p>
<pre><code class="language-solidity">function _length(Set storage set) private view returns (uint256);
</code></pre>
<h3 id="_at"><a class="header" href="#_at">_at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function _at(Set storage set, uint256 index) private view returns (bytes32);
</code></pre>
<h3 id="_values"><a class="header" href="#_values">_values</a></h3>
<p><em>Return the entire set in an array
WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed
to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that
this function has an unbounded cost, and using it as part of a state-changing function may render the function
uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.</em></p>
<pre><code class="language-solidity">function _values(Set storage set) private view returns (bytes32[] memory);
</code></pre>
<h3 id="add"><a class="header" href="#add">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(Bytes32Set storage set, bytes32 value) internal returns (bool);
</code></pre>
<h3 id="remove"><a class="header" href="#remove">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(Bytes32Set storage set, bytes32 value) internal returns (bool);
</code></pre>
<h3 id="contains"><a class="header" href="#contains">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(Bytes32Set storage set, bytes32 value) internal view returns (bool);
</code></pre>
<h3 id="length"><a class="header" href="#length">length</a></h3>
<p><em>Returns the number of values in the set. O(1).</em></p>
<pre><code class="language-solidity">function length(Bytes32Set storage set) internal view returns (uint256);
</code></pre>
<h3 id="at"><a class="header" href="#at">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(Bytes32Set storage set, uint256 index) internal view returns (bytes32);
</code></pre>
<h3 id="values"><a class="header" href="#values">values</a></h3>
<p><em>Return the entire set in an array
WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed
to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that
this function has an unbounded cost, and using it as part of a state-changing function may render the function
uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.</em></p>
<pre><code class="language-solidity">function values(Bytes32Set storage set) internal view returns (bytes32[] memory);
</code></pre>
<h3 id="add-1"><a class="header" href="#add-1">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(AddressSet storage set, address value) internal returns (bool);
</code></pre>
<h3 id="remove-1"><a class="header" href="#remove-1">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(AddressSet storage set, address value) internal returns (bool);
</code></pre>
<h3 id="contains-1"><a class="header" href="#contains-1">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(AddressSet storage set, address value) internal view returns (bool);
</code></pre>
<h3 id="length-1"><a class="header" href="#length-1">length</a></h3>
<p><em>Returns the number of values in the set. O(1).</em></p>
<pre><code class="language-solidity">function length(AddressSet storage set) internal view returns (uint256);
</code></pre>
<h3 id="at-1"><a class="header" href="#at-1">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(AddressSet storage set, uint256 index) internal view returns (address);
</code></pre>
<h3 id="values-1"><a class="header" href="#values-1">values</a></h3>
<p><em>Return the entire set in an array
WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed
to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that
this function has an unbounded cost, and using it as part of a state-changing function may render the function
uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.</em></p>
<pre><code class="language-solidity">function values(AddressSet storage set) internal view returns (address[] memory);
</code></pre>
<h3 id="add-2"><a class="header" href="#add-2">add</a></h3>
<p><em>Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not
already present.</em></p>
<pre><code class="language-solidity">function add(UintSet storage set, uint256 value) internal returns (bool);
</code></pre>
<h3 id="remove-2"><a class="header" href="#remove-2">remove</a></h3>
<p><em>Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was
present.</em></p>
<pre><code class="language-solidity">function remove(UintSet storage set, uint256 value) internal returns (bool);
</code></pre>
<h3 id="contains-2"><a class="header" href="#contains-2">contains</a></h3>
<p><em>Returns true if the value is in the set. O(1).</em></p>
<pre><code class="language-solidity">function contains(UintSet storage set, uint256 value) internal view returns (bool);
</code></pre>
<h3 id="length-2"><a class="header" href="#length-2">length</a></h3>
<p><em>Returns the number of values on the set. O(1).</em></p>
<pre><code class="language-solidity">function length(UintSet storage set) internal view returns (uint256);
</code></pre>
<h3 id="at-2"><a class="header" href="#at-2">at</a></h3>
<p>*Returns the value stored at position <code>index</code> in the set. O(1).
Note that there are no guarantees on the ordering of values inside the
array, and it may change when more values are added or removed.
Requirements:</p>
<ul>
<li><code>index</code> must be strictly less than {length}.*</li>
</ul>
<pre><code class="language-solidity">function at(UintSet storage set, uint256 index) internal view returns (uint256);
</code></pre>
<h3 id="values-2"><a class="header" href="#values-2">values</a></h3>
<p><em>Return the entire set in an array
WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed
to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that
this function has an unbounded cost, and using it as part of a state-changing function may render the function
uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.</em></p>
<pre><code class="language-solidity">function values(UintSet storage set) internal view returns (uint256[] memory);
</code></pre>
<h2 id="structs-2"><a class="header" href="#structs-2">Structs</a></h2>
<h3 id="set"><a class="header" href="#set">Set</a></h3>
<pre><code class="language-solidity">struct Set {
    bytes32[] _values;
    mapping(bytes32 =&gt; uint256) _indexes;
}
</code></pre>
<h3 id="bytes32set"><a class="header" href="#bytes32set">Bytes32Set</a></h3>
<pre><code class="language-solidity">struct Bytes32Set {
    Set _inner;
}
</code></pre>
<h3 id="addressset"><a class="header" href="#addressset">AddressSet</a></h3>
<pre><code class="language-solidity">struct AddressSet {
    Set _inner;
}
</code></pre>
<h3 id="uintset"><a class="header" href="#uintset">UintSet</a></h3>
<pre><code class="language-solidity">struct UintSet {
    Set _inner;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meta"><a class="header" href="#meta">Meta</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/Meta.sol">Git Source</a></p>
<h2 id="state-variables-6"><a class="header" href="#state-variables-6">State Variables</a></h2>
<h3 id="eip712_domain_typehash"><a class="header" href="#eip712_domain_typehash">EIP712_DOMAIN_TYPEHASH</a></h3>
<pre><code class="language-solidity">bytes32 internal constant EIP712_DOMAIN_TYPEHASH =
    keccak256(bytes(&quot;EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)&quot;));
</code></pre>
<h2 id="functions-42"><a class="header" href="#functions-42">Functions</a></h2>
<h3 id="domainseparator-2"><a class="header" href="#domainseparator-2">domainSeparator</a></h3>
<pre><code class="language-solidity">function domainSeparator(string memory name, string memory version) internal view returns (bytes32 domainSeparator_);
</code></pre>
<h3 id="getchainid"><a class="header" href="#getchainid">getChainID</a></h3>
<pre><code class="language-solidity">function getChainID() internal view returns (uint256 id);
</code></pre>
<h3 id="msgsender"><a class="header" href="#msgsender">msgSender</a></h3>
<pre><code class="language-solidity">function msgSender() internal view returns (address sender_);
</code></pre>
<h3 id="enforcehascontractcode"><a class="header" href="#enforcehascontractcode">enforceHasContractCode</a></h3>
<pre><code class="language-solidity">function enforceHasContractCode(address _contract) internal view;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="percentagemath"><a class="header" href="#percentagemath">PercentageMath</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/PercentageMath.sol">Git Source</a></p>
<p><strong>Author:</strong>
Aave</p>
<p>Provides functions to perform percentage calculations</p>
<p><em>PercentageMath are defined by default with 2 decimals of precision (100.00).
The precision is indicated by PERCENTAGE_FACTOR</em></p>
<p><em>Operations are rounded. If a value is &gt;=.5, will be rounded up, otherwise rounded down.</em></p>
<h2 id="state-variables-7"><a class="header" href="#state-variables-7">State Variables</a></h2>
<h3 id="percentage_factor"><a class="header" href="#percentage_factor">PERCENTAGE_FACTOR</a></h3>
<pre><code class="language-solidity">uint256 internal constant PERCENTAGE_FACTOR = 1e4;
</code></pre>
<h3 id="half_percentage_factor"><a class="header" href="#half_percentage_factor">HALF_PERCENTAGE_FACTOR</a></h3>
<pre><code class="language-solidity">uint256 internal constant HALF_PERCENTAGE_FACTOR = 0.5e4;
</code></pre>
<h2 id="functions-43"><a class="header" href="#functions-43">Functions</a></h2>
<h3 id="percentmul"><a class="header" href="#percentmul">percentMul</a></h3>
<p>Executes a percentage multiplication</p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function percentMul(uint256 value, uint256 percentage) internal pure returns (uint256 result);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The value of which the percentage needs to be calculated</td></tr>
<tr><td><code>percentage</code></td><td><code>uint256</code></td><td>The percentage of the value to be calculated</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>result</code></td><td><code>uint256</code></td><td>value percentmul percentage</td></tr>
</tbody></table>
</div>
<h3 id="percentdiv"><a class="header" href="#percentdiv">percentDiv</a></h3>
<p>Executes a percentage division</p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function percentDiv(uint256 value, uint256 percentage) internal pure returns (uint256 result);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The value of which the percentage needs to be calculated</td></tr>
<tr><td><code>percentage</code></td><td><code>uint256</code></td><td>The percentage of the value to be calculated</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>result</code></td><td><code>uint256</code></td><td>value percentdiv percentage</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="redstone"><a class="header" href="#redstone">Redstone</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/Redstone.sol">Git Source</a></p>
<h2 id="functions-44"><a class="header" href="#functions-44">Functions</a></h2>
<h3 id="getprice-2"><a class="header" href="#getprice-2">getPrice</a></h3>
<p><em>This function can be used in a consumer contract to securely extract an
oracle value for a given data feed id. Security is achieved by
signatures verification, timestamp validation, and aggregating values
from different authorised signers into a single numeric value. If any of the
required conditions do not match, the function will revert.
Note! This function expects that tx calldata contains redstone payload in the end
Learn more about redstone payload here: https://github.com/redstone-finance/redstone-oracles-monorepo/tree/main/packages/evm-connector#readme</em></p>
<pre><code class="language-solidity">function getPrice(bytes32 dataFeedId) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dataFeedId</code></td><td><code>bytes32</code></td><td>bytes32 value that uniquely identifies the data feed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Extracted and verified numeric oracle value for the given data feed id</td></tr>
</tbody></table>
</div>
<h3 id="getauthorisedsignerindex"><a class="header" href="#getauthorisedsignerindex">getAuthorisedSignerIndex</a></h3>
<pre><code class="language-solidity">function getAuthorisedSignerIndex(address signerAddress) internal pure returns (uint8);
</code></pre>
<h3 id="getprices"><a class="header" href="#getprices">getPrices</a></h3>
<p><em>This function can be used in a consumer contract to securely extract several
numeric oracle values for a given array of data feed ids. Security is achieved by
signatures verification, timestamp validation, and aggregating values
from different authorised signers into a single numeric value. If any of the
required conditions do not match, the function will revert.
Note! This function expects that tx calldata contains redstone payload in the end
Learn more about redstone payload here: https://github.com/redstone-finance/redstone-oracles-monorepo/tree/main/packages/evm-connector#readme</em></p>
<pre><code class="language-solidity">function getPrices(bytes32[] memory dataFeedIds) internal view returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dataFeedIds</code></td><td><code>bytes32[]</code></td><td>An array of unique data feed identifiers</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>An array of the extracted and verified oracle values in the same order as they are requested in the dataFeedIds array</td></tr>
</tbody></table>
</div>
<h3 id="validatetimestamp"><a class="header" href="#validatetimestamp">validateTimestamp</a></h3>
<p><em>This function may be overridden by the child consumer contract.
It should validate the timestamp against the current time (block.timestamp)
It should revert with a helpful message if the timestamp is not valid</em></p>
<pre><code class="language-solidity">function validateTimestamp(uint256 receivedTimestampMilliseconds) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receivedTimestampMilliseconds</code></td><td><code>uint256</code></td><td>Timestamp extracted from calldata</td></tr>
</tbody></table>
</div>
<h3 id="getuniquesignersthreshold"><a class="header" href="#getuniquesignersthreshold">getUniqueSignersThreshold</a></h3>
<p><em>This function should be overridden by the child consumer contract.</em></p>
<pre><code class="language-solidity">function getUniqueSignersThreshold() internal pure returns (uint8);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint8</code></td><td>The minimum required value of unique authorised signers</td></tr>
</tbody></table>
</div>
<h3 id="aggregatevalues"><a class="header" href="#aggregatevalues">aggregateValues</a></h3>
<p><em>This function may be overridden by the child consumer contract.
It should aggregate values from different signers to a single uint value.
By default, it calculates the median value</em></p>
<pre><code class="language-solidity">function aggregateValues(uint256[] memory values) internal pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>values</code></td><td><code>uint256[]</code></td><td>An array of uint256 values from different signers</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Result of the aggregation in the form of a single number</td></tr>
</tbody></table>
</div>
<h3 id="_securelyextractoraclevaluesfromtxmsg"><a class="header" href="#_securelyextractoraclevaluesfromtxmsg">_securelyExtractOracleValuesFromTxMsg</a></h3>
<p><em>This is an internal helpful function for secure extraction oracle values
from the tx calldata. Security is achieved by signatures verification, timestamp
validation, and aggregating values from different authorised signers into a
single numeric value. If any of the required conditions (e.g. too old timestamp or
insufficient number of authorised signers) do not match, the function will revert.
Note! You should not call this function in a consumer contract. You can use
<code>getOracleNumericValuesFromTxMsg</code> or <code>getOracleNumericValueFromTxMsg</code> instead.</em></p>
<pre><code class="language-solidity">function _securelyExtractOracleValuesFromTxMsg(bytes32[] memory dataFeedIds) private view returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dataFeedIds</code></td><td><code>bytes32[]</code></td><td>An array of unique data feed identifiers</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>An array of the extracted and verified oracle values in the same order as they are requested in dataFeedIds array</td></tr>
</tbody></table>
</div>
<h3 id="_extractdatapackage"><a class="header" href="#_extractdatapackage">_extractDataPackage</a></h3>
<p><em>This is a private helpful function, which extracts data for a data package based
on the given negative calldata offset, verifies them, and in the case of successful
verification updates the corresponding data package values in memory</em></p>
<pre><code class="language-solidity">function _extractDataPackage(
    bytes32[] memory dataFeedIds,
    uint256[] memory uniqueSignerCountForDataFeedIds,
    uint256[] memory signersBitmapForDataFeedIds,
    uint256[][] memory valuesForDataFeeds,
    uint256 calldataNegativeOffset
) private view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dataFeedIds</code></td><td><code>bytes32[]</code></td><td>an array of unique data feed identifiers</td></tr>
<tr><td><code>uniqueSignerCountForDataFeedIds</code></td><td><code>uint256[]</code></td><td>an array with the numbers of unique signers for each data feed</td></tr>
<tr><td><code>signersBitmapForDataFeedIds</code></td><td><code>uint256[]</code></td><td>an array of signer bitmaps for data feeds</td></tr>
<tr><td><code>valuesForDataFeeds</code></td><td><code>uint256[][]</code></td><td>2-dimensional array, valuesForDataFeeds[i][j] contains j-th value for the i-th data feed</td></tr>
<tr><td><code>calldataNegativeOffset</code></td><td><code>uint256</code></td><td>negative calldata offset for the given data package</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>An array of the aggregated values</td></tr>
</tbody></table>
</div>
<h3 id="_getaggregatedvalues"><a class="header" href="#_getaggregatedvalues">_getAggregatedValues</a></h3>
<p><em>This is a private helpful function, which aggregates values from different
authorised signers for the given arrays of values for each data feed</em></p>
<pre><code class="language-solidity">function _getAggregatedValues(uint256[][] memory valuesForDataFeeds, uint256[] memory uniqueSignerCountForDataFeedIds)
    private
    pure
    returns (uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>valuesForDataFeeds</code></td><td><code>uint256[][]</code></td><td>2-dimensional array, valuesForDataFeeds[i][j] contains j-th value for the i-th data feed</td></tr>
<tr><td><code>uniqueSignerCountForDataFeedIds</code></td><td><code>uint256[]</code></td><td>an array with the numbers of unique signers for each data feed</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>An array of the aggregated values</td></tr>
</tbody></table>
</div>
<h3 id="_extractdatapointsdetailsfordatapackage"><a class="header" href="#_extractdatapointsdetailsfordatapackage">_extractDataPointsDetailsForDataPackage</a></h3>
<pre><code class="language-solidity">function _extractDataPointsDetailsForDataPackage(uint256 calldataNegativeOffsetForDataPackage)
    private
    pure
    returns (uint256 dataPointsCount, uint256 eachDataPointValueByteSize);
</code></pre>
<h3 id="_extractbytesizeofunsignedmetadata"><a class="header" href="#_extractbytesizeofunsignedmetadata">_extractByteSizeOfUnsignedMetadata</a></h3>
<pre><code class="language-solidity">function _extractByteSizeOfUnsignedMetadata() private pure returns (uint256);
</code></pre>
<h3 id="_extractdatapackagescountfromcalldata"><a class="header" href="#_extractdatapackagescountfromcalldata">_extractDataPackagesCountFromCalldata</a></h3>
<pre><code class="language-solidity">function _extractDataPackagesCountFromCalldata(uint256 calldataNegativeOffset)
    private
    pure
    returns (uint16 dataPackagesCount);
</code></pre>
<h3 id="_extractdatapointvalueanddatafeedid"><a class="header" href="#_extractdatapointvalueanddatafeedid">_extractDataPointValueAndDataFeedId</a></h3>
<pre><code class="language-solidity">function _extractDataPointValueAndDataFeedId(
    uint256 calldataNegativeOffsetForDataPackage,
    uint256 defaultDataPointValueByteSize,
    uint256 dataPointIndex
) private pure returns (bytes32 dataPointDataFeedId, uint256 dataPointValue);
</code></pre>
<h3 id="proxycalldata"><a class="header" href="#proxycalldata">proxyCalldata</a></h3>
<pre><code class="language-solidity">function proxyCalldata(address contractAddress, bytes memory encodedFunction, bool forwardValue)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="proxydelegatecalldata"><a class="header" href="#proxydelegatecalldata">proxyDelegateCalldata</a></h3>
<pre><code class="language-solidity">function proxyDelegateCalldata(address contractAddress, bytes memory encodedFunction) internal returns (bytes memory);
</code></pre>
<h3 id="proxycalldataview"><a class="header" href="#proxycalldataview">proxyCalldataView</a></h3>
<pre><code class="language-solidity">function proxyCalldataView(address contractAddress, bytes memory encodedFunction)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="_preparemessage"><a class="header" href="#_preparemessage">_prepareMessage</a></h3>
<pre><code class="language-solidity">function _prepareMessage(bytes memory encodedFunction) private pure returns (bytes memory);
</code></pre>
<h3 id="_getredstonepayloadbytesize"><a class="header" href="#_getredstonepayloadbytesize">_getRedstonePayloadByteSize</a></h3>
<pre><code class="language-solidity">function _getRedstonePayloadByteSize() private pure returns (uint256);
</code></pre>
<h3 id="_getdatapackagebytesize"><a class="header" href="#_getdatapackagebytesize">_getDataPackageByteSize</a></h3>
<pre><code class="language-solidity">function _getDataPackageByteSize(uint256 calldataNegativeOffset) private pure returns (uint256);
</code></pre>
<h3 id="_preparereturnvalue"><a class="header" href="#_preparereturnvalue">_prepareReturnValue</a></h3>
<pre><code class="language-solidity">function _prepareReturnValue(bool success, bytes memory result) internal pure returns (bytes memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add-3"><a class="header" href="#add-3">add</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/Redstone.sol">Git Source</a></p>
<pre><code class="language-solidity">function add(uint256 a, uint256 b) pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sub"><a class="header" href="#sub">sub</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/Redstone.sol">Git Source</a></p>
<pre><code class="language-solidity">function sub(uint256 a, uint256 b) pure returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-5"><a class="header" href="#constants-5">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/Redstone.sol">Git Source</a></p>
<h3 id="standard_slot_bs"><a class="header" href="#standard_slot_bs">STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 constant STANDARD_SLOT_BS = 32;
</code></pre>
<h3 id="free_memory_ptr"><a class="header" href="#free_memory_ptr">FREE_MEMORY_PTR</a></h3>
<pre><code class="language-solidity">uint256 constant FREE_MEMORY_PTR = 0x40;
</code></pre>
<h3 id="bytes_arr_len_var_bs"><a class="header" href="#bytes_arr_len_var_bs">BYTES_ARR_LEN_VAR_BS</a></h3>
<pre><code class="language-solidity">uint256 constant BYTES_ARR_LEN_VAR_BS = 32;
</code></pre>
<h3 id="function_signature_bs"><a class="header" href="#function_signature_bs">FUNCTION_SIGNATURE_BS</a></h3>
<pre><code class="language-solidity">uint256 constant FUNCTION_SIGNATURE_BS = 4;
</code></pre>
<h3 id="revert_msg_offset"><a class="header" href="#revert_msg_offset">REVERT_MSG_OFFSET</a></h3>
<pre><code class="language-solidity">uint256 constant REVERT_MSG_OFFSET = 68;
</code></pre>
<h3 id="string_err_message_mask"><a class="header" href="#string_err_message_mask">STRING_ERR_MESSAGE_MASK</a></h3>
<pre><code class="language-solidity">uint256 constant STRING_ERR_MESSAGE_MASK = 0x08c379a000000000000000000000000000000000000000000000000000000000;
</code></pre>
<h3 id="sig_bs"><a class="header" href="#sig_bs">SIG_BS</a></h3>
<pre><code class="language-solidity">uint256 constant SIG_BS = 65;
</code></pre>
<h3 id="timestamp_bs"><a class="header" href="#timestamp_bs">TIMESTAMP_BS</a></h3>
<pre><code class="language-solidity">uint256 constant TIMESTAMP_BS = 6;
</code></pre>
<h3 id="data_packages_count_bs"><a class="header" href="#data_packages_count_bs">DATA_PACKAGES_COUNT_BS</a></h3>
<pre><code class="language-solidity">uint256 constant DATA_PACKAGES_COUNT_BS = 2;
</code></pre>
<h3 id="data_points_count_bs"><a class="header" href="#data_points_count_bs">DATA_POINTS_COUNT_BS</a></h3>
<pre><code class="language-solidity">uint256 constant DATA_POINTS_COUNT_BS = 3;
</code></pre>
<h3 id="data_point_value_byte_size_bs"><a class="header" href="#data_point_value_byte_size_bs">DATA_POINT_VALUE_BYTE_SIZE_BS</a></h3>
<pre><code class="language-solidity">uint256 constant DATA_POINT_VALUE_BYTE_SIZE_BS = 4;
</code></pre>
<h3 id="data_point_symbol_bs"><a class="header" href="#data_point_symbol_bs">DATA_POINT_SYMBOL_BS</a></h3>
<pre><code class="language-solidity">uint256 constant DATA_POINT_SYMBOL_BS = 32;
</code></pre>
<h3 id="default_data_point_value_bs"><a class="header" href="#default_data_point_value_bs">DEFAULT_DATA_POINT_VALUE_BS</a></h3>
<pre><code class="language-solidity">uint256 constant DEFAULT_DATA_POINT_VALUE_BS = 32;
</code></pre>
<h3 id="unsigned_metadata_byte_size_bs"><a class="header" href="#unsigned_metadata_byte_size_bs">UNSIGNED_METADATA_BYTE_SIZE_BS</a></h3>
<pre><code class="language-solidity">uint256 constant UNSIGNED_METADATA_BYTE_SIZE_BS = 3;
</code></pre>
<h3 id="redstone_marker_bs"><a class="header" href="#redstone_marker_bs">REDSTONE_MARKER_BS</a></h3>
<pre><code class="language-solidity">uint256 constant REDSTONE_MARKER_BS = 9;
</code></pre>
<h3 id="redstone_marker_mask"><a class="header" href="#redstone_marker_mask">REDSTONE_MARKER_MASK</a></h3>
<pre><code class="language-solidity">uint256 constant REDSTONE_MARKER_MASK = 0x0000000000000000000000000000000000000000000000000002ed57011e0000;
</code></pre>
<h3 id="timestamp_negative_offset_in_data_package_with_standard_slot_bs"><a class="header" href="#timestamp_negative_offset_in_data_package_with_standard_slot_bs">TIMESTAMP_NEGATIVE_OFFSET_IN_DATA_PACKAGE_WITH_STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 constant TIMESTAMP_NEGATIVE_OFFSET_IN_DATA_PACKAGE_WITH_STANDARD_SLOT_BS = 104;
</code></pre>
<h3 id="data_package_without_data_points_bs"><a class="header" href="#data_package_without_data_points_bs">DATA_PACKAGE_WITHOUT_DATA_POINTS_BS</a></h3>
<pre><code class="language-solidity">uint256 constant DATA_PACKAGE_WITHOUT_DATA_POINTS_BS = 78;
</code></pre>
<h3 id="data_package_without_data_points_and_sig_bs"><a class="header" href="#data_package_without_data_points_and_sig_bs">DATA_PACKAGE_WITHOUT_DATA_POINTS_AND_SIG_BS</a></h3>
<pre><code class="language-solidity">uint256 constant DATA_PACKAGE_WITHOUT_DATA_POINTS_AND_SIG_BS = 13;
</code></pre>
<h3 id="redstone_marker_bs_plus_standard_slot_bs"><a class="header" href="#redstone_marker_bs_plus_standard_slot_bs">REDSTONE_MARKER_BS_PLUS_STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 constant REDSTONE_MARKER_BS_PLUS_STANDARD_SLOT_BS = 41;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="numericarraylib"><a class="header" href="#numericarraylib">NumericArrayLib</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/RedstoneInternals.sol">Git Source</a></p>
<h2 id="state-variables-8"><a class="header" href="#state-variables-8">State Variables</a></h2>
<h3 id="bytes_arr_len_var_bs-1"><a class="header" href="#bytes_arr_len_var_bs-1">BYTES_ARR_LEN_VAR_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant BYTES_ARR_LEN_VAR_BS = 32;
</code></pre>
<h3 id="uint256_value_bs"><a class="header" href="#uint256_value_bs">UINT256_VALUE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant UINT256_VALUE_BS = 32;
</code></pre>
<h2 id="functions-45"><a class="header" href="#functions-45">Functions</a></h2>
<h3 id="pickmedian"><a class="header" href="#pickmedian">pickMedian</a></h3>
<pre><code class="language-solidity">function pickMedian(uint256[] memory arr) internal pure returns (uint256);
</code></pre>
<h3 id="sort"><a class="header" href="#sort">sort</a></h3>
<pre><code class="language-solidity">function sort(uint256[] memory arr) internal pure;
</code></pre>
<h2 id="errors-1"><a class="header" href="#errors-1">Errors</a></h2>
<h3 id="cannotpickmedianofemptyarray"><a class="header" href="#cannotpickmedianofemptyarray">CanNotPickMedianOfEmptyArray</a></h3>
<pre><code class="language-solidity">error CanNotPickMedianOfEmptyArray();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redstonedefaultslib"><a class="header" href="#redstonedefaultslib">RedstoneDefaultsLib</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/RedstoneInternals.sol">Git Source</a></p>
<p><strong>Author:</strong>
The Redstone Oracles team</p>
<h2 id="state-variables-9"><a class="header" href="#state-variables-9">State Variables</a></h2>
<h3 id="default_max_data_timestamp_delay_seconds"><a class="header" href="#default_max_data_timestamp_delay_seconds">DEFAULT_MAX_DATA_TIMESTAMP_DELAY_SECONDS</a></h3>
<pre><code class="language-solidity">uint256 constant DEFAULT_MAX_DATA_TIMESTAMP_DELAY_SECONDS = 3 minutes;
</code></pre>
<h3 id="default_max_data_timestamp_ahead_seconds"><a class="header" href="#default_max_data_timestamp_ahead_seconds">DEFAULT_MAX_DATA_TIMESTAMP_AHEAD_SECONDS</a></h3>
<pre><code class="language-solidity">uint256 constant DEFAULT_MAX_DATA_TIMESTAMP_AHEAD_SECONDS = 1 minutes;
</code></pre>
<h2 id="functions-46"><a class="header" href="#functions-46">Functions</a></h2>
<h3 id="validatetimestamp-1"><a class="header" href="#validatetimestamp-1">validateTimestamp</a></h3>
<pre><code class="language-solidity">function validateTimestamp(uint256 receivedTimestampMilliseconds) internal view;
</code></pre>
<h3 id="aggregatevalues-1"><a class="header" href="#aggregatevalues-1">aggregateValues</a></h3>
<pre><code class="language-solidity">function aggregateValues(uint256[] memory values) internal pure returns (uint256);
</code></pre>
<h2 id="errors-2"><a class="header" href="#errors-2">Errors</a></h2>
<h3 id="timestampfromtoolongfuture"><a class="header" href="#timestampfromtoolongfuture">TimestampFromTooLongFuture</a></h3>
<pre><code class="language-solidity">error TimestampFromTooLongFuture(uint256 receivedTimestampSeconds, uint256 blockTimestamp);
</code></pre>
<h3 id="timestampistooold"><a class="header" href="#timestampistooold">TimestampIsTooOld</a></h3>
<pre><code class="language-solidity">error TimestampIsTooOld(uint256 receivedTimestampSeconds, uint256 blockTimestamp);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bitmaplib"><a class="header" href="#bitmaplib">BitmapLib</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/RedstoneInternals.sol">Git Source</a></p>
<h2 id="functions-47"><a class="header" href="#functions-47">Functions</a></h2>
<h3 id="setbitinbitmap"><a class="header" href="#setbitinbitmap">setBitInBitmap</a></h3>
<pre><code class="language-solidity">function setBitInBitmap(uint256 bitmap, uint256 bitIndex) internal pure returns (uint256);
</code></pre>
<h3 id="getbitfrombitmap"><a class="header" href="#getbitfrombitmap">getBitFromBitmap</a></h3>
<pre><code class="language-solidity">function getBitFromBitmap(uint256 bitmap, uint256 bitIndex) internal pure returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="signaturelib"><a class="header" href="#signaturelib">SignatureLib</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/RedstoneInternals.sol">Git Source</a></p>
<h2 id="state-variables-10"><a class="header" href="#state-variables-10">State Variables</a></h2>
<h3 id="ecdsa_sig_r_bs"><a class="header" href="#ecdsa_sig_r_bs">ECDSA_SIG_R_BS</a></h3>
<pre><code class="language-solidity">uint256 constant ECDSA_SIG_R_BS = 32;
</code></pre>
<h3 id="ecdsa_sig_s_bs"><a class="header" href="#ecdsa_sig_s_bs">ECDSA_SIG_S_BS</a></h3>
<pre><code class="language-solidity">uint256 constant ECDSA_SIG_S_BS = 32;
</code></pre>
<h2 id="functions-48"><a class="header" href="#functions-48">Functions</a></h2>
<h3 id="recoversigneraddress"><a class="header" href="#recoversigneraddress">recoverSignerAddress</a></h3>
<pre><code class="language-solidity">function recoverSignerAddress(bytes32 signedHash, uint256 signatureCalldataNegativeOffset)
    internal
    pure
    returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redstoneerror"><a class="header" href="#redstoneerror">RedstoneError</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/RedstoneInternals.sol">Git Source</a></p>
<p><strong>Author:</strong>
The Redstone Oracles team</p>
<p><em>It mainly contains redstone-related values, which improve readability
of other contracts (e.g. CalldataExtractor and RedstoneConsumerBase)</em></p>
<h2 id="errors-3"><a class="header" href="#errors-3">Errors</a></h2>
<h3 id="proxycalldatafailedwithouterrmsg2"><a class="header" href="#proxycalldatafailedwithouterrmsg2">ProxyCalldataFailedWithoutErrMsg2</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithoutErrMsg2();
</code></pre>
<h3 id="proxycalldatafailedwithouterrmsg"><a class="header" href="#proxycalldatafailedwithouterrmsg">ProxyCalldataFailedWithoutErrMsg</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithoutErrMsg();
</code></pre>
<h3 id="calldataoverorunderflow"><a class="header" href="#calldataoverorunderflow">CalldataOverOrUnderFlow</a></h3>
<pre><code class="language-solidity">error CalldataOverOrUnderFlow();
</code></pre>
<h3 id="proxycalldatafailedwithcustomerror"><a class="header" href="#proxycalldatafailedwithcustomerror">ProxyCalldataFailedWithCustomError</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithCustomError(bytes result);
</code></pre>
<h3 id="incorrectunsignedmetadatasize"><a class="header" href="#incorrectunsignedmetadatasize">IncorrectUnsignedMetadataSize</a></h3>
<pre><code class="language-solidity">error IncorrectUnsignedMetadataSize();
</code></pre>
<h3 id="proxycalldatafailedwithstringmessage"><a class="header" href="#proxycalldatafailedwithstringmessage">ProxyCalldataFailedWithStringMessage</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithStringMessage(string);
</code></pre>
<h3 id="insufficientnumberofuniquesigners"><a class="header" href="#insufficientnumberofuniquesigners">InsufficientNumberOfUniqueSigners</a></h3>
<pre><code class="language-solidity">error InsufficientNumberOfUniqueSigners(uint256 receivedSignersCount, uint256 requiredSignersCount);
</code></pre>
<h3 id="eachsignermustprovidethesamevalue"><a class="header" href="#eachsignermustprovidethesamevalue">EachSignerMustProvideTheSameValue</a></h3>
<pre><code class="language-solidity">error EachSignerMustProvideTheSameValue();
</code></pre>
<h3 id="emptycalldatapointersarr"><a class="header" href="#emptycalldatapointersarr">EmptyCalldataPointersArr</a></h3>
<pre><code class="language-solidity">error EmptyCalldataPointersArr();
</code></pre>
<h3 id="invalidcalldatapointer"><a class="header" href="#invalidcalldatapointer">InvalidCalldataPointer</a></h3>
<pre><code class="language-solidity">error InvalidCalldataPointer();
</code></pre>
<h3 id="calldatamusthavevalidpayload"><a class="header" href="#calldatamusthavevalidpayload">CalldataMustHaveValidPayload</a></h3>
<pre><code class="language-solidity">error CalldataMustHaveValidPayload();
</code></pre>
<h3 id="signernotauthorised"><a class="header" href="#signernotauthorised">SignerNotAuthorised</a></h3>
<pre><code class="language-solidity">error SignerNotAuthorised(address receivedSigner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strings"><a class="header" href="#strings">Strings</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/Strings.sol">Git Source</a></p>
<p><em>String operations.</em></p>
<h2 id="state-variables-11"><a class="header" href="#state-variables-11">State Variables</a></h2>
<h3 id="_hex_symbols"><a class="header" href="#_hex_symbols">_HEX_SYMBOLS</a></h3>
<pre><code class="language-solidity">bytes16 private constant _HEX_SYMBOLS = &quot;0123456789abcdef&quot;;
</code></pre>
<h2 id="functions-49"><a class="header" href="#functions-49">Functions</a></h2>
<h3 id="tostring"><a class="header" href="#tostring">toString</a></h3>
<pre><code class="language-solidity">function toString(bytes32 value) internal pure returns (string memory);
</code></pre>
<h3 id="tostring-1"><a class="header" href="#tostring-1">toString</a></h3>
<p><em>Converts a <code>uint256</code> to its ASCII <code>string</code> decimal representation.</em></p>
<pre><code class="language-solidity">function toString(uint256 value) internal pure returns (string memory);
</code></pre>
<h3 id="tohexstring"><a class="header" href="#tohexstring">toHexString</a></h3>
<p><em>Converts a <code>uint256</code> to its ASCII <code>string</code> hexadecimal representation.</em></p>
<pre><code class="language-solidity">function toHexString(uint256 value) internal pure returns (string memory);
</code></pre>
<h3 id="tohexstring-1"><a class="header" href="#tohexstring-1">toHexString</a></h3>
<p><em>Converts a <code>uint256</code> to its ASCII <code>string</code> hexadecimal representation with fixed length.</em></p>
<pre><code class="language-solidity">function toHexString(uint256 value, uint256 length) internal pure returns (string memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wadray"><a class="header" href="#wadray">WadRay</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/libs/WadRay.sol">Git Source</a></p>
<p><strong>Author:</strong>
Aave</p>
<p>Provides functions to perform calculations with Wad and Ray units</p>
<p><em>Provides mul and div function for wads (decimal numbers with 18 digits of precision) and rays (decimal numbers
with 27 digits of precision)</em></p>
<p><em>Operations are rounded. If a value is &gt;=.5, will be rounded up, otherwise rounded down.</em></p>
<h2 id="state-variables-12"><a class="header" href="#state-variables-12">State Variables</a></h2>
<h3 id="wad"><a class="header" href="#wad">WAD</a></h3>
<pre><code class="language-solidity">uint256 internal constant WAD = 1e18;
</code></pre>
<h3 id="half_wad"><a class="header" href="#half_wad">HALF_WAD</a></h3>
<pre><code class="language-solidity">uint256 internal constant HALF_WAD = 0.5e18;
</code></pre>
<h3 id="ray"><a class="header" href="#ray">RAY</a></h3>
<pre><code class="language-solidity">uint256 internal constant RAY = 1e27;
</code></pre>
<h3 id="half_ray"><a class="header" href="#half_ray">HALF_RAY</a></h3>
<pre><code class="language-solidity">uint256 internal constant HALF_RAY = 0.5e27;
</code></pre>
<h3 id="wad_ray_ratio"><a class="header" href="#wad_ray_ratio">WAD_RAY_RATIO</a></h3>
<pre><code class="language-solidity">uint256 internal constant WAD_RAY_RATIO = 1e9;
</code></pre>
<h2 id="functions-50"><a class="header" href="#functions-50">Functions</a></h2>
<h3 id="wadmul"><a class="header" href="#wadmul">wadMul</a></h3>
<p><em>Multiplies two wad, rounding half up to the nearest wad</em></p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function wadMul(uint256 a, uint256 b) internal pure returns (uint256 c);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Wad</td></tr>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>Wad</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>c</code></td><td><code>uint256</code></td><td>= a*b, in wad</td></tr>
</tbody></table>
</div>
<h3 id="waddiv"><a class="header" href="#waddiv">wadDiv</a></h3>
<p><em>Divides two wad, rounding half up to the nearest wad</em></p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function wadDiv(uint256 a, uint256 b) internal pure returns (uint256 c);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Wad</td></tr>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>Wad</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>c</code></td><td><code>uint256</code></td><td>= a/b, in wad</td></tr>
</tbody></table>
</div>
<h3 id="raymul"><a class="header" href="#raymul">rayMul</a></h3>
<p>Multiplies two ray, rounding half up to the nearest ray</p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function rayMul(uint256 a, uint256 b) internal pure returns (uint256 c);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Ray</td></tr>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>Ray</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>c</code></td><td><code>uint256</code></td><td>= a raymul b</td></tr>
</tbody></table>
</div>
<h3 id="raydiv"><a class="header" href="#raydiv">rayDiv</a></h3>
<p>Divides two ray, rounding half up to the nearest ray</p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function rayDiv(uint256 a, uint256 b) internal pure returns (uint256 c);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Ray</td></tr>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>Ray</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>c</code></td><td><code>uint256</code></td><td>= a raydiv b</td></tr>
</tbody></table>
</div>
<h3 id="raytowad"><a class="header" href="#raytowad">rayToWad</a></h3>
<p><em>Casts ray down to wad</em></p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function rayToWad(uint256 a) internal pure returns (uint256 b);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Ray</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>= a converted to wad, rounded half up to the nearest wad</td></tr>
</tbody></table>
</div>
<h3 id="wadtoray"><a class="header" href="#wadtoray">wadToRay</a></h3>
<p><em>Converts wad up to ray</em></p>
<p><em>assembly optimized for improved gas savings: https://twitter.com/transmissions11/status/1451131036377571328</em></p>
<pre><code class="language-solidity">function wadToRay(uint256 a) internal pure returns (uint256 b);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>a</code></td><td><code>uint256</code></td><td>Wad</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>b</code></td><td><code>uint256</code></td><td>= a converted in ray</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-14"><a class="header" href="#contents-14">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/minter//src/contracts/core/minter/facets">facets</a></li>
<li><a href="src/contracts/core/minter//src/contracts/core/minter/funcs">funcs</a></li>
<li><a href="src/contracts/core/minter//src/contracts/core/minter/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/minter/Events.sol/library.MEvent.html">MEvent</a></li>
<li><a href="src/contracts/core/minter/State.sol/struct.MinterState.html">MinterState</a></li>
<li><a href="src/contracts/core/minter/State.sol/function.ms.html">ms</a></li>
<li><a href="src/contracts/core/minter/State.sol/constants.State.html">State constants</a></li>
<li><a href="src/contracts/core/minter/Types.sol/struct.MinterAccountState.html">MinterAccountState</a></li>
<li><a href="src/contracts/core/minter/Types.sol/struct.MinterInitArgs.html">MinterInitArgs</a></li>
<li><a href="src/contracts/core/minter/Types.sol/struct.MinterParams.html">MinterParams</a></li>
<li><a href="src/contracts/core/minter/Types.sol/enum.MinterFee.html">MinterFee</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-15"><a class="header" href="#contents-15">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/minter/facets/AccountStateFacet.sol/contract.AccountStateFacet.html">AccountStateFacet</a></li>
<li><a href="src/contracts/core/minter/facets/AccountStateFacet.sol/function.accountTotalCollateralValues.html">accountTotalCollateralValues</a></li>
<li><a href="src/contracts/core/minter/facets/AccountStateFacet.sol/function.accountTotalDebtValues.html">accountTotalDebtValues</a></li>
<li><a href="src/contracts/core/minter/facets/BurnFacet.sol/contract.BurnFacet.html">BurnFacet</a></li>
<li><a href="src/contracts/core/minter/facets/ConfigurationFacet.sol/contract.ConfigurationFacet.html">ConfigurationFacet</a></li>
<li><a href="src/contracts/core/minter/facets/DepositWithdrawFacet.sol/contract.DepositWithdrawFacet.html">DepositWithdrawFacet</a></li>
<li><a href="src/contracts/core/minter/facets/LiquidationFacet.sol/contract.LiquidationFacet.html">LiquidationFacet</a></li>
<li><a href="src/contracts/core/minter/facets/MintFacet.sol/contract.MintFacet.html">MintFacet</a></li>
<li><a href="src/contracts/core/minter/facets/StateFacet.sol/contract.StateFacet.html">StateFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="accountstatefacet"><a class="header" href="#accountstatefacet">AccountStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/facets/AccountStateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/AccountStateFacet.sol//src/contracts/core/minter/interfaces/IAccountStateFacet.sol/interface.IAccountStateFacet.html">IAccountStateFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Views concerning account state</p>
<h2 id="functions-51"><a class="header" href="#functions-51">Functions</a></h2>
<h3 id="getaccountliquidatable"><a class="header" href="#getaccountliquidatable">getAccountLiquidatable</a></h3>
<p>Calculates if an account's current collateral value is under its minimum collateral value</p>
<pre><code class="language-solidity">function getAccountLiquidatable(address _account) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool Indicates if the account can be liquidated.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountstate"><a class="header" href="#getaccountstate">getAccountState</a></h3>
<p>Get accounts state in the Minter.</p>
<pre><code class="language-solidity">function getAccountState(address _account) external view returns (MinterAccountState memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account address to get the state for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MinterAccountState</code></td><td>MinterAccountState Total debt value, total collateral value and collateral ratio.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmintindex"><a class="header" href="#getaccountmintindex">getAccountMintIndex</a></h3>
<p>Gets an index for the Kresko asset the account has minted.</p>
<pre><code class="language-solidity">function getAccountMintIndex(address _account, address _kreskoAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the minted Kresko assets for.</td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The asset lookup address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>index The index of asset in the minted assets array.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmintedassets"><a class="header" href="#getaccountmintedassets">getAccountMintedAssets</a></h3>
<p>Gets an array of Kresko assets the account has minted.</p>
<pre><code class="language-solidity">function getAccountMintedAssets(address _account) external view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the minted Kresko assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] Array of Kresko Asset addresses the account has minted.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldebtvalues"><a class="header" href="#getaccounttotaldebtvalues">getAccountTotalDebtValues</a></h3>
<p>Gets the total Kresko asset debt value in USD for an account.</p>
<pre><code class="language-solidity">function getAccountTotalDebtValues(address _account) external view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the Kresko asset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value of debt.</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>The kFactor adjusted value of debt.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldebtvalue"><a class="header" href="#getaccounttotaldebtvalue">getAccountTotalDebtValue</a></h3>
<p>Gets the total Kresko asset debt value in USD for an account.</p>
<pre><code class="language-solidity">function getAccountTotalDebtValue(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to calculate the Kresko asset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Total debt value of <code>_account</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountdebtamount"><a class="header" href="#getaccountdebtamount">getAccountDebtAmount</a></h3>
<p>Get <code>_account</code> debt amount for <code>_asset</code></p>
<pre><code class="language-solidity">function getAccountDebtAmount(address _account, address _asset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to query amount for</td></tr>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>The asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Amount of debt for <code>_asset</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralassets"><a class="header" href="#getaccountcollateralassets">getAccountCollateralAssets</a></h3>
<p>Gets an array of collateral assets the account has deposited.</p>
<pre><code class="language-solidity">function getAccountCollateralAssets(address _account) external view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the deposited collateral assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] Array of collateral asset addresses the account has deposited.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralamount"><a class="header" href="#getaccountcollateralamount">getAccountCollateralAmount</a></h3>
<p>Get <code>_account</code> collateral deposit amount for <code>_asset</code></p>
<pre><code class="language-solidity">function getAccountCollateralAmount(address _account, address _asset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to query amount for</td></tr>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>The asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Amount of collateral deposited for <code>_asset</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountdepositindex"><a class="header" href="#getaccountdepositindex">getAccountDepositIndex</a></h3>
<p>Gets an index for the collateral asset the account has deposited.</p>
<pre><code class="language-solidity">function getAccountDepositIndex(address _account, address _collateralAsset) external view returns (uint256 i);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the index for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>i</code></td><td><code>uint256</code></td><td>Index of the minted collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalcollateralvalue"><a class="header" href="#getaccounttotalcollateralvalue">getAccountTotalCollateralValue</a></h3>
<p>Gets the adjusted collateral value of a particular account.</p>
<pre><code class="language-solidity">function getAccountTotalCollateralValue(address _account) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the collateral value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>valueAdjusted Collateral value of a particular account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalcollateralvalues"><a class="header" href="#getaccounttotalcollateralvalues">getAccountTotalCollateralValues</a></h3>
<p>Gets the adjusted and unadjusted collateral value of <code>_account</code>.</p>
<pre><code class="language-solidity">function getAccountTotalCollateralValues(address _account) public view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the values for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Unadjusted total value of the collateral deposits.</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>cFactor adjusted total value of the collateral deposits.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralvalues"><a class="header" href="#getaccountcollateralvalues">getAccountCollateralValues</a></h3>
<p>Get the unadjusted and the adjusted value of collateral deposits of <code>_asset</code> for <code>_account</code>.</p>
<pre><code class="language-solidity">function getAccountCollateralValues(address _account, address _asset)
    external
    view
    returns (uint256 value, uint256 adjustedValue, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the collateral values for.</td></tr>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>Asset to get the collateral values for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Unadjusted value of the collateral deposits.</td></tr>
<tr><td><code>adjustedValue</code></td><td><code>uint256</code></td><td>valueAdjusted cFactor adjusted value of the collateral deposits.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>Price for the collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmincollateralatratio"><a class="header" href="#getaccountmincollateralatratio">getAccountMinCollateralAtRatio</a></h3>
<p>Get an account's minimum collateral value required
to back a Kresko asset amount at a given collateralization ratio.</p>
<p><em>Accounts that have their collateral value under the minimum collateral value are considered unhealthy,
accounts with their collateral value under the liquidation threshold are considered liquidatable.</em></p>
<pre><code class="language-solidity">function getAccountMinCollateralAtRatio(address _account, uint32 _ratio) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the minimum collateral value for.</td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Collateralization ratio required: higher ratio = more collateral required</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Minimum collateral value of a particular account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralratio"><a class="header" href="#getaccountcollateralratio">getAccountCollateralRatio</a></h3>
<p>Get a list of accounts and their collateral ratios</p>
<pre><code class="language-solidity">function getAccountCollateralRatio(address _account) public view returns (uint256 ratio);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>ratio</code></td><td><code>uint256</code></td><td>The collateral ratio of <code>_account</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralratios"><a class="header" href="#getaccountcollateralratios">getAccountCollateralRatios</a></h3>
<p>Get a list of account collateral ratios</p>
<pre><code class="language-solidity">function getAccountCollateralRatios(address[] calldata _accounts) external view returns (uint256[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>ratios Collateral ratios of the <code>_accounts</code></td></tr>
</tbody></table>
</div>
<h3 id="previewfee"><a class="header" href="#previewfee">previewFee</a></h3>
<p>Calculates the expected fee to be taken from a user's deposited collateral assets,
by imitating calcFee without modifying state.</p>
<pre><code class="language-solidity">function previewFee(address _account, address _kreskoAsset, uint256 _kreskoAssetAmount, MinterFee _feeType)
    external
    view
    returns (address[] memory, uint256[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to charge the open fee from.</td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>Address of the kresko asset being burned.</td></tr>
<tr><td><code>_kreskoAssetAmount</code></td><td><code>uint256</code></td><td>Amount of the kresko asset being minted.</td></tr>
<tr><td><code>_feeType</code></td><td><code>MinterFee</code></td><td>Fee type (open or close).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>assets Collateral types as an array of addresses.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>amounts Collateral amounts as an array of uint256.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="accounttotalcollateralvalues"><a class="header" href="#accounttotalcollateralvalues">accountTotalCollateralValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/facets/AccountStateFacet.sol">Git Source</a></p>
<p>Gets the collateral value of a particular account.</p>
<pre><code class="language-solidity">function accountTotalCollateralValues(address _account) view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to calculate the collateral value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Total collateral value</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>Total adjusted collateral value</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="accounttotaldebtvalues"><a class="header" href="#accounttotaldebtvalues">accountTotalDebtValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/facets/AccountStateFacet.sol">Git Source</a></p>
<p>Gets the total debt value in USD for an account.</p>
<pre><code class="language-solidity">function accountTotalDebtValues(address _account) view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the KreskoAsset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Total kresko asset debt value</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>Total adjusted kresko asset debt value</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="burnfacet"><a class="header" href="#burnfacet">BurnFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/facets/BurnFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/BurnFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a>, <a href="src/contracts/core/minter/facets/BurnFacet.sol//src/contracts/core/minter/interfaces/IBurnFacet.sol/interface.IBurnFacet.html">IBurnFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Main end-user functionality concerning burning of kresko assets</p>
<h2 id="functions-52"><a class="header" href="#functions-52">Functions</a></h2>
<h3 id="burnkreskoasset"><a class="header" href="#burnkreskoasset">burnKreskoAsset</a></h3>
<p>Burns existing Kresko assets.</p>
<pre><code class="language-solidity">function burnKreskoAsset(address _account, address _kreskoAsset, uint256 _burnAmount, uint256 _mintedKreskoAssetIndex)
    external
    nonReentrant
    isKrAsset(_kreskoAsset)
    onlyRoleIf(_account != msg.sender, Role.MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to burn kresko assets for</td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to be burned.</td></tr>
<tr><td><code>_mintedKreskoAssetIndex</code></td><td><code>uint256</code></td><td>The index of the kresko asset in the user's minted assets array. Only needed if burning all principal debt of a particular collateral asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="configurationfacet"><a class="header" href="#configurationfacet">ConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/facets/ConfigurationFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/ConfigurationFacet.sol//src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/minter/facets/ConfigurationFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a>, <a href="src/contracts/core/minter/facets/ConfigurationFacet.sol//src/contracts/core/minter/interfaces/IConfigurationFacet.sol/interface.IConfigurationFacet.html">IConfigurationFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Functionality for <code>Role.ADMIN</code> level actions.</p>
<p>Can be only initialized by the deployer/owner.</p>
<h2 id="functions-53"><a class="header" href="#functions-53">Functions</a></h2>
<h3 id="initializeminter"><a class="header" href="#initializeminter">initializeMinter</a></h3>
<pre><code class="language-solidity">function initializeMinter(MinterInitArgs calldata args) external onlyOwner;
</code></pre>
<h3 id="updatemincollateralratio"><a class="header" href="#updatemincollateralratio">updateMinCollateralRatio</a></h3>
<p><em>Updates the contract's collateralization ratio.</em></p>
<pre><code class="language-solidity">function updateMinCollateralRatio(uint32 _newMinCollateralRatio) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMinCollateralRatio</code></td><td><code>uint32</code></td><td>The new minimum collateralization ratio as wad.</td></tr>
</tbody></table>
</div>
<h3 id="updateliquidationthreshold"><a class="header" href="#updateliquidationthreshold">updateLiquidationThreshold</a></h3>
<p><em>Updates the contract's liquidation threshold value</em></p>
<pre><code class="language-solidity">function updateLiquidationThreshold(uint32 _newThreshold) public override onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newThreshold</code></td><td><code>uint32</code></td><td>The new liquidation threshold value</td></tr>
</tbody></table>
</div>
<h3 id="updatemaxliquidationratio"><a class="header" href="#updatemaxliquidationratio">updateMaxLiquidationRatio</a></h3>
<p>Updates the max liquidation ratior value.</p>
<pre><code class="language-solidity">function updateMaxLiquidationRatio(uint32 _newMaxLiquidationRatio) public onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMaxLiquidationRatio</code></td><td><code>uint32</code></td><td>Percent value in wad precision.</td></tr>
</tbody></table>
</div>
<h3 id="updateliquidationincentive"><a class="header" href="#updateliquidationincentive">updateLiquidationIncentive</a></h3>
<p>Updates the liquidation incentive multiplier.</p>
<pre><code class="language-solidity">function updateLiquidationIncentive(address _collateralAsset, uint16 _newLiqIncentive)
    public
    isCollateral(_collateralAsset)
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to update.</td></tr>
<tr><td><code>_newLiqIncentive</code></td><td><code>uint16</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="updatecollateralfactor"><a class="header" href="#updatecollateralfactor">updateCollateralFactor</a></h3>
<p>Updates the cFactor of a KreskoAsset.</p>
<pre><code class="language-solidity">function updateCollateralFactor(address _collateralAsset, uint16 _newFactor)
    public
    isCollateral(_collateralAsset)
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset.</td></tr>
<tr><td><code>_newFactor</code></td><td><code>uint16</code></td><td>The new collateral factor.</td></tr>
</tbody></table>
</div>
<h3 id="updatekfactor"><a class="header" href="#updatekfactor">updateKFactor</a></h3>
<p>Updates the kFactor of a KreskoAsset.</p>
<pre><code class="language-solidity">function updateKFactor(address _kreskoAsset, uint16 _newFactor) public isKrAsset(_kreskoAsset) onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The KreskoAsset.</td></tr>
<tr><td><code>_newFactor</code></td><td><code>uint16</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="depositwithdrawfacet"><a class="header" href="#depositwithdrawfacet">DepositWithdrawFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/facets/DepositWithdrawFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/DepositWithdrawFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a>, <a href="src/contracts/core/minter/facets/DepositWithdrawFacet.sol//src/contracts/core/minter/interfaces/IDepositWithdrawFacet.sol/interface.IDepositWithdrawFacet.html">IDepositWithdrawFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Main end-user functionality concerning collateral asset deposits and withdrawals within the Kresko protocol</p>
<h2 id="functions-54"><a class="header" href="#functions-54">Functions</a></h2>
<h3 id="depositcollateral"><a class="header" href="#depositcollateral">depositCollateral</a></h3>
<p>Deposits collateral into the protocol.</p>
<pre><code class="language-solidity">function depositCollateral(address _account, address _collateralAsset, uint256 _depositAmount)
    external
    nonReentrant
    gate
    isCollateral(_collateralAsset);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The user to deposit collateral for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_depositAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to deposit.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawcollateral"><a class="header" href="#withdrawcollateral">withdrawCollateral</a></h3>
<p>Withdraws sender's collateral from the protocol.</p>
<p><em>Requires that the post-withdrawal collateral value does not violate minimum collateral requirement.</em></p>
<pre><code class="language-solidity">function withdrawCollateral(
    address _account,
    address _collateralAsset,
    uint256 _withdrawAmount,
    uint256 _collateralIndex
) external nonReentrant isCollateral(_collateralAsset) onlyRoleIf(_account != msg.sender, Role.MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to withdraw assets for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>The index of the collateral asset in the sender's deposited collateral assets array. Only needed if withdrawing the entire deposit of a particular collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawcollateralunchecked"><a class="header" href="#withdrawcollateralunchecked">withdrawCollateralUnchecked</a></h3>
<p>Withdraws sender's collateral from the protocol before checking minimum collateral ratio.</p>
<p><em>Executes post-withdraw-callback triggering onUncheckedCollateralWithdraw on the caller</em></p>
<pre><code class="language-solidity">function withdrawCollateralUnchecked(
    address _account,
    address _collateralAsset,
    uint256 _withdrawAmount,
    uint256 _collateralIndex,
    bytes memory _userData
) external isCollateral(_collateralAsset) onlyRole(Role.MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to withdraw assets for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>The index of the collateral asset in the sender's deposited collateral assets array. Only needed if withdrawing the entire deposit of a particular collateral asset.</td></tr>
<tr><td><code>_userData</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="liquidationfacet"><a class="header" href="#liquidationfacet">LiquidationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/facets/LiquidationFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/LiquidationFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a>, <a href="src/contracts/core/minter/facets/LiquidationFacet.sol//src/contracts/core/minter/interfaces/ILiquidationFacet.sol/interface.ILiquidationFacet.html">ILiquidationFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Main end-user functionality concerning liquidations within Kresko's Minter system.</p>
<h2 id="functions-55"><a class="header" href="#functions-55">Functions</a></h2>
<h3 id="liquidate"><a class="header" href="#liquidate">liquidate</a></h3>
<p>Attempts to liquidate an account by repaying the portion of the account's Kresko asset
debt, receiving in return a portion of the account's collateral at a discounted rate.</p>
<pre><code class="language-solidity">function liquidate(
    address _account,
    address _repayAssetAddr,
    uint256 _repayAmount,
    address _seizeAssetAddr,
    uint256 _repayAssetIndex,
    uint256 _seizeAssetIndex
) external nonReentrant gate;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to attempt to liquidate.</td></tr>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>Address of the Kresko asset to be repaid.</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>Amount of the Kresko asset to be repaid.</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>Address of the collateral asset to be seized.</td></tr>
<tr><td><code>_repayAssetIndex</code></td><td><code>uint256</code></td><td>Index of the Kresko asset in the account's minted assets array.</td></tr>
<tr><td><code>_seizeAssetIndex</code></td><td><code>uint256</code></td><td>Index of the collateral asset in the account's collateral assets array.</td></tr>
</tbody></table>
</div>
<h3 id="getmaxliqvalue"><a class="header" href="#getmaxliqvalue">getMaxLiqValue</a></h3>
<p><em>Calculates the total value that is allowed to be liquidated from an account (if it is liquidatable)</em></p>
<pre><code class="language-solidity">function getMaxLiqValue(address _account, address _repayAssetAddr, address _seizeAssetAddr)
    external
    view
    returns (MaxLiqInfo memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Address of the account to liquidate</td></tr>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>Address of Kresko Asset to repay</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>Address of Collateral to seize</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MaxLiqInfo</code></td><td>MaxLiqInfo Calculated information about the maximum liquidation.</td></tr>
</tbody></table>
</div>
<h3 id="_liquidateassets"><a class="header" href="#_liquidateassets">_liquidateAssets</a></h3>
<pre><code class="language-solidity">function _liquidateAssets(Asset storage collateral, Asset storage krAsset, ExecutionParams memory params)
    internal
    returns (uint256 seizedAmount);
</code></pre>
<h3 id="_getmaxliqvalue"><a class="header" href="#_getmaxliqvalue">_getMaxLiqValue</a></h3>
<pre><code class="language-solidity">function _getMaxLiqValue(
    address _account,
    Asset storage _repayAsset,
    Asset storage _seizeAsset,
    address _seizeAssetAddr
) internal view returns (uint256 maxValue);
</code></pre>
<h3 id="_calcmaxliqvalue"><a class="header" href="#_calcmaxliqvalue">_calcMaxLiqValue</a></h3>
<pre><code class="language-solidity">function _calcMaxLiqValue(
    Asset storage _repayAsset,
    Asset storage _seizeAsset,
    uint256 _minCollateralValue,
    uint256 _totalCollateralValue,
    uint256 _seizeAssetValue,
    uint96 _minDebtValue,
    uint32 _maxLiquidationRatio
) internal view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mintfacet"><a class="header" href="#mintfacet">MintFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/facets/MintFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/MintFacet.sol//src/contracts/core/minter/interfaces/IMintFacet.sol/interface.IMintFacet.html">IMintFacet</a>, <a href="src/contracts/core/minter/facets/MintFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Main end-user functionality concerning minting kresko assets</p>
<h2 id="functions-56"><a class="header" href="#functions-56">Functions</a></h2>
<h3 id="mintkreskoasset"><a class="header" href="#mintkreskoasset">mintKreskoAsset</a></h3>
<p>Mints new Kresko assets.</p>
<pre><code class="language-solidity">function mintKreskoAsset(address _account, address _kreskoAsset, uint256 _mintAmount)
    external
    nonReentrant
    gate
    isKrAsset(_kreskoAsset)
    onlyRoleIf(_account != msg.sender, Role.MANAGER);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to mint assets for.</td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to be minted.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="statefacet"><a class="header" href="#statefacet">StateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/facets/StateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/minter/facets/StateFacet.sol//src/contracts/core/minter/interfaces/IStateFacet.sol/interface.IStateFacet.html">IStateFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p><em>As structs do not create views for members, we must expose most of the state values explicitly.</em></p>
<h2 id="functions-57"><a class="header" href="#functions-57">Functions</a></h2>
<h3 id="getmincollateralratio"><a class="header" href="#getmincollateralratio">getMinCollateralRatio</a></h3>
<p>The minimum ratio of collateral to debt that can be taken by direct action.</p>
<pre><code class="language-solidity">function getMinCollateralRatio() external view returns (uint32);
</code></pre>
<h3 id="getliquidationthreshold"><a class="header" href="#getliquidationthreshold">getLiquidationThreshold</a></h3>
<p>The collateralization ratio at which positions may be liquidated.</p>
<pre><code class="language-solidity">function getLiquidationThreshold() external view returns (uint32);
</code></pre>
<h3 id="getmaxliquidationratio"><a class="header" href="#getmaxliquidationratio">getMaxLiquidationRatio</a></h3>
<p>Multiplies max liquidation multiplier, if a full liquidation happens this is the resulting CR.</p>
<pre><code class="language-solidity">function getMaxLiquidationRatio() external view returns (uint32);
</code></pre>
<h3 id="getminterparameters"><a class="header" href="#getminterparameters">getMinterParameters</a></h3>
<p>get all meaningful protocol parameters</p>
<pre><code class="language-solidity">function getMinterParameters() external view returns (MinterParams memory);
</code></pre>
<h3 id="getkrassetexists"><a class="header" href="#getkrassetexists">getKrAssetExists</a></h3>
<p>simple check if kresko asset exists</p>
<pre><code class="language-solidity">function getKrAssetExists(address _kreskoAsset) external view returns (bool exists);
</code></pre>
<h3 id="getcollateralexists"><a class="header" href="#getcollateralexists">getCollateralExists</a></h3>
<p>simple check if collateral asset exists</p>
<pre><code class="language-solidity">function getCollateralExists(address _collateralAsset) external view returns (bool exists);
</code></pre>
<h3 id="getcollateralvaluewithprice"><a class="header" href="#getcollateralvaluewithprice">getCollateralValueWithPrice</a></h3>
<p>Gets the USD value for a single collateral asset and amount.</p>
<pre><code class="language-solidity">function getCollateralValueWithPrice(address _collateralAsset, uint256 _amount)
    external
    view
    returns (uint256 value, uint256 adjustedValue, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to calculate the value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value for the provided amount of the collateral asset.</td></tr>
<tr><td><code>adjustedValue</code></td><td><code>uint256</code></td><td>The (cFactor) adjusted value for the provided amount of the collateral asset.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>The price of the collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="getdebtvaluewithprice"><a class="header" href="#getdebtvaluewithprice">getDebtValueWithPrice</a></h3>
<p>Gets the USD value for a single Kresko asset and amount.</p>
<pre><code class="language-solidity">function getDebtValueWithPrice(address _kreskoAsset, uint256 _amount)
    external
    view
    returns (uint256 value, uint256 adjustedValue, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to calculate the value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value for the provided amount of the debt asset.</td></tr>
<tr><td><code>adjustedValue</code></td><td><code>uint256</code></td><td>The (kFactor) adjusted value for the provided amount of the debt asset.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>The price of the debt asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-16"><a class="header" href="#contents-16">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/minter/funcs/Accounts.sol/library.MAccounts.html">MAccounts</a></li>
<li><a href="src/contracts/core/minter/funcs/Core.sol/library.MCore.html">MCore</a></li>
<li><a href="src/contracts/core/minter/funcs/Fees.sol/function.handleMinterFee.html">handleMinterFee</a></li>
<li><a href="src/contracts/core/minter/funcs/Fees.sol/function._calcAndHandleCollateralsArray.html">_calcAndHandleCollateralsArray</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maccounts"><a class="header" href="#maccounts">MAccounts</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/funcs/Accounts.sol">Git Source</a></p>
<h2 id="functions-58"><a class="header" href="#functions-58">Functions</a></h2>
<h3 id="checkaccountliquidatable"><a class="header" href="#checkaccountliquidatable">checkAccountLiquidatable</a></h3>
<p>Checks if accounts collateral value is less than required.</p>
<p>Reverts if account is not liquidatable.</p>
<pre><code class="language-solidity">function checkAccountLiquidatable(MinterState storage self, address _account) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to check.</td></tr>
</tbody></table>
</div>
<h3 id="isaccountliquidatable"><a class="header" href="#isaccountliquidatable">isAccountLiquidatable</a></h3>
<p>Gets the liquidatable status of an account.</p>
<pre><code class="language-solidity">function isAccountLiquidatable(MinterState storage self, address _account) internal view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool Indicating if the account is liquidatable.</td></tr>
</tbody></table>
</div>
<h3 id="accounttotaldebtvalue"><a class="header" href="#accounttotaldebtvalue">accountTotalDebtValue</a></h3>
<p>Gets the total debt value in USD for an account.</p>
<pre><code class="language-solidity">function accountTotalDebtValue(MinterState storage self, address _account) internal view returns (uint256 value);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the KreskoAsset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Total kresko asset debt value of <code>_account</code>.</td></tr>
</tbody></table>
</div>
<h3 id="accountdebtamount"><a class="header" href="#accountdebtamount">accountDebtAmount</a></h3>
<p>Gets <code>_account</code> principal debt amount for <code>_asset</code></p>
<p><em>Principal debt is rebase adjusted due to possible stock splits/reverse splits</em></p>
<pre><code class="language-solidity">function accountDebtAmount(MinterState storage self, address _account, address _assetAddr, Asset storage _asset)
    internal
    view
    returns (uint256 debtAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get debt amount for.</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Kresko asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>Asset truct for the kresko asset.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>debtAmount</code></td><td><code>uint256</code></td><td>Amount of debt the <code>_account</code> has for <code>_asset</code></td></tr>
</tbody></table>
</div>
<h3 id="accountmintindex"><a class="header" href="#accountmintindex">accountMintIndex</a></h3>
<p>Gets an index for the Kresko asset the account has minted.</p>
<pre><code class="language-solidity">function accountMintIndex(MinterState storage self, address _account, address _kreskoAsset)
    internal
    view
    returns (uint256 mintIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the minted Kresko assets for.</td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mintIndex</code></td><td><code>uint256</code></td><td>Index of the minted <code>_kreskoAsset</code> in the array for the <code>_account</code>.</td></tr>
</tbody></table>
</div>
<h3 id="accountdebtassets"><a class="header" href="#accountdebtassets">accountDebtAssets</a></h3>
<p>Gets an array of kresko assets the account has minted.</p>
<pre><code class="language-solidity">function accountDebtAssets(MinterState storage self, address _account)
    internal
    view
    returns (address[] memory mintedAssets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the minted kresko assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mintedAssets</code></td><td><code>address[]</code></td><td>Array of addresses of kresko assets the account has minted.</td></tr>
</tbody></table>
</div>
<h3 id="accountmincollateralatratio"><a class="header" href="#accountmincollateralatratio">accountMinCollateralAtRatio</a></h3>
<p>Gets accounts min collateral value required to cover debt at a given collateralization ratio.</p>
<p>Account with min collateral value under MCR cannot borrow.</p>
<p>Account with min collateral value under LT can be liquidated up to maxLiquidationRatio.</p>
<pre><code class="language-solidity">function accountMinCollateralAtRatio(MinterState storage self, address _account, uint32 _ratio)
    internal
    view
    returns (uint256 minCollateralValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the minimum collateral value for.</td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Collateralization ratio to apply for the minimum collateral value.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minCollateralValue</code></td><td><code>uint256</code></td><td>Minimum collateral value required for the account with <code>_ratio</code>.</td></tr>
</tbody></table>
</div>
<h3 id="accountcollateralassets"><a class="header" href="#accountcollateralassets">accountCollateralAssets</a></h3>
<p>Gets the array of collateral assets the account has deposited.</p>
<pre><code class="language-solidity">function accountCollateralAssets(MinterState storage self, address _account)
    internal
    view
    returns (address[] memory depositedAssets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the deposited collateral assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>depositedAssets</code></td><td><code>address[]</code></td><td>Array of deposited collateral assets for <code>_account</code>.</td></tr>
</tbody></table>
</div>
<h3 id="accountcollateralamount"><a class="header" href="#accountcollateralamount">accountCollateralAmount</a></h3>
<p>Gets the deposited collateral asset amount for an account</p>
<p>Performs rebasing conversion for KreskoAssets</p>
<pre><code class="language-solidity">function accountCollateralAmount(
    MinterState storage self,
    address _account,
    address _assetAddress,
    Asset storage _asset
) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to query amount for</td></tr>
<tr><td><code>_assetAddress</code></td><td><code>address</code></td><td>Collateral asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>Asset struct of the collateral asset</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Collateral deposit amount of <code>_asset</code> for <code>_account</code></td></tr>
</tbody></table>
</div>
<h3 id="accounttotalcollateralvalue"><a class="header" href="#accounttotalcollateralvalue">accountTotalCollateralValue</a></h3>
<p>Gets the collateral value of a particular account.</p>
<pre><code class="language-solidity">function accountTotalCollateralValue(MinterState storage self, address _account)
    internal
    view
    returns (uint256 totalCollateralValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the collateral value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalCollateralValue</code></td><td><code>uint256</code></td><td>Collateral value of a particular account.</td></tr>
</tbody></table>
</div>
<h3 id="accounttotalcollateralvalue-1"><a class="header" href="#accounttotalcollateralvalue-1">accountTotalCollateralValue</a></h3>
<p>Gets the total collateral deposits value of an account while extracting value for <code>_collateralAsset</code>.</p>
<pre><code class="language-solidity">function accountTotalCollateralValue(MinterState storage self, address _account, address _collateralAsset)
    internal
    view
    returns (uint256 totalValue, uint256 assetValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the collateral value for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>Collateral asset to extract value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalValue</code></td><td><code>uint256</code></td><td>Total collateral value of <code>_account</code></td></tr>
<tr><td><code>assetValue</code></td><td><code>uint256</code></td><td>Collateral value of <code>_collateralAsset</code> for <code>_account</code></td></tr>
</tbody></table>
</div>
<h3 id="accountdepositindex"><a class="header" href="#accountdepositindex">accountDepositIndex</a></h3>
<p>Gets the deposit index of <code>_collateralAsset</code> for <code>_account</code>.</p>
<pre><code class="language-solidity">function accountDepositIndex(MinterState storage self, address _account, address _collateralAsset)
    internal
    view
    returns (uint256 depositIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the index for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>Collateral asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>depositIndex</code></td><td><code>uint256</code></td><td>Index of the deposited asset in the array for <code>_account</code>.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mcore"><a class="header" href="#mcore">MCore</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/funcs/Core.sol">Git Source</a></p>
<h2 id="functions-59"><a class="header" href="#functions-59">Functions</a></h2>
<h3 id="mint-4"><a class="header" href="#mint-4">mint</a></h3>
<pre><code class="language-solidity">function mint(MinterState storage self, address _kreskoAsset, address _anchor, uint256 _amount, address _account)
    internal;
</code></pre>
<h3 id="burn-2"><a class="header" href="#burn-2">burn</a></h3>
<p>Repay user kresko asset debt.</p>
<p><em>Updates the principal in MinterState</em></p>
<pre><code class="language-solidity">function burn(MinterState storage self, address _kreskoAsset, address _anchor, uint256 _burnAmount, address _account)
    internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>the asset being repaid</td></tr>
<tr><td><code>_anchor</code></td><td><code>address</code></td><td>the anchor token of the asset being repaid</td></tr>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>the asset amount being burned</td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>the account the debt is subtracted from</td></tr>
</tbody></table>
</div>
<h3 id="handledeposit"><a class="header" href="#handledeposit">handleDeposit</a></h3>
<p>Records account as having deposited an amount of a collateral asset.</p>
<p><em>Token transfers are expected to be done by the caller.</em></p>
<pre><code class="language-solidity">function handleDeposit(MinterState storage self, address _account, address _collateralAsset, uint256 _depositAmount)
    internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_depositAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset deposited.</td></tr>
</tbody></table>
</div>
<h3 id="handlewithdrawal"><a class="header" href="#handlewithdrawal">handleWithdrawal</a></h3>
<p>Verifies that the account has sufficient collateral for the requested amount and records the collateral</p>
<pre><code class="language-solidity">function handleWithdrawal(
    MinterState storage self,
    address _account,
    address _collateralAsset,
    Asset storage _asset,
    uint256 _withdrawAmount,
    uint256 _collateralDeposits,
    uint256 _collateralIndex
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address of the account to verify the collateral for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralDeposits</code></td><td><code>uint256</code></td><td>Collateral deposits for the account.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>Index of the collateral asset in the account's deposited collateral assets array.</td></tr>
</tbody></table>
</div>
<h3 id="handleuncheckedwithdrawal"><a class="header" href="#handleuncheckedwithdrawal">handleUncheckedWithdrawal</a></h3>
<p>records the collateral withdrawal</p>
<pre><code class="language-solidity">function handleUncheckedWithdrawal(
    MinterState storage self,
    address _account,
    address _collateralAsset,
    Asset storage _asset,
    uint256 _withdrawAmount,
    uint256 _collateralDeposits,
    uint256 _collateralIndex
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address of the account to verify the collateral for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The collateral asset struct.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralDeposits</code></td><td><code>uint256</code></td><td>Collateral deposits for the account.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>Index of the collateral asset in the account's deposited collateral assets array.</td></tr>
</tbody></table>
</div>
<h3 id="checkcollateralparams"><a class="header" href="#checkcollateralparams">checkCollateralParams</a></h3>
<pre><code class="language-solidity">function checkCollateralParams(
    MinterState storage self,
    address _account,
    address _collateralAsset,
    uint256 _collateralIndex,
    uint256 _amount
) internal view;
</code></pre>
<h3 id="checkaccountcollateral"><a class="header" href="#checkaccountcollateral">checkAccountCollateral</a></h3>
<p>verifies that the account has enough collateral value</p>
<pre><code class="language-solidity">function checkAccountCollateral(MinterState storage self, address _account) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>MinterState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address of the account to verify the collateral for.</td></tr>
</tbody></table>
</div>
<h3 id="maybepushtomintedassets"><a class="header" href="#maybepushtomintedassets">maybePushToMintedAssets</a></h3>
<pre><code class="language-solidity">function maybePushToMintedAssets(MinterState storage self, address _account, address _kreskoAsset) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="handleminterfee"><a class="header" href="#handleminterfee">handleMinterFee</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/funcs/Fees.sol">Git Source</a></p>
<p>Charges the protocol open fee based off the value of the minted asset.</p>
<p><em>Takes the fee from the account's collateral assets. Attempts collateral assets
in reverse order of the account's deposited collateral assets array.</em></p>
<pre><code class="language-solidity">function handleMinterFee(address _account, Asset storage _krAsset, uint256 _mintAmount, MinterFee _feeType);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to charge the open fee from.</td></tr>
<tr><td><code>_krAsset</code></td><td><code>Asset</code></td><td>Asset struct of the kresko asset being minted.</td></tr>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>Amount of the kresko asset being minted.</td></tr>
<tr><td><code>_feeType</code></td><td><code>MinterFee</code></td><td>Fee type</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="_calcandhandlecollateralsarray"><a class="header" href="#_calcandhandlecollateralsarray">_calcAndHandleCollateralsArray</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/funcs/Fees.sol">Git Source</a></p>
<p>Calculates the fee to be taken from a user's deposited collateral asset.</p>
<pre><code class="language-solidity">function _calcAndHandleCollateralsArray(
    address _collateralAsset,
    Asset storage _asset,
    address _account,
    uint256 _feeValue,
    uint256 _collateralAssetIndex
) returns (uint256 transferAmount, uint256 feeValuePaid);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset from which to take to the fee.</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The owner of the collateral.</td></tr>
<tr><td><code>_feeValue</code></td><td><code>uint256</code></td><td>The original value of the fee.</td></tr>
<tr><td><code>_collateralAssetIndex</code></td><td><code>uint256</code></td><td>The collateral asset's index in the user's depositedCollateralAssets array.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>transferAmount</code></td><td><code>uint256</code></td><td>to be received as a uint256</td></tr>
<tr><td><code>feeValuePaid</code></td><td><code>uint256</code></td><td>wad representing the fee value paid.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-17"><a class="header" href="#contents-17">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/minter/interfaces/IAccountStateFacet.sol/interface.IAccountStateFacet.html">IAccountStateFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/IBurnFacet.sol/interface.IBurnFacet.html">IBurnFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/ICollateralReceiver.sol/interface.ICollateralReceiver.html">ICollateralReceiver</a></li>
<li><a href="src/contracts/core/minter/interfaces/IConfigurationFacet.sol/interface.IConfigurationFacet.html">IConfigurationFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/IDepositWithdrawFacet.sol/interface.IDepositWithdrawFacet.html">IDepositWithdrawFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/ILiquidationFacet.sol/interface.ILiquidationFacet.html">ILiquidationFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/IMintFacet.sol/interface.IMintFacet.html">IMintFacet</a></li>
<li><a href="src/contracts/core/minter/interfaces/IStateFacet.sol/interface.IStateFacet.html">IStateFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iaccountstatefacet"><a class="header" href="#iaccountstatefacet">IAccountStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/interfaces/IAccountStateFacet.sol">Git Source</a></p>
<h2 id="functions-60"><a class="header" href="#functions-60">Functions</a></h2>
<h3 id="getaccountliquidatable-1"><a class="header" href="#getaccountliquidatable-1">getAccountLiquidatable</a></h3>
<p>Calculates if an account's current collateral value is under its minimum collateral value</p>
<pre><code class="language-solidity">function getAccountLiquidatable(address _account) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>bool Indicates if the account can be liquidated.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountstate-1"><a class="header" href="#getaccountstate-1">getAccountState</a></h3>
<p>Get accounts state in the Minter.</p>
<pre><code class="language-solidity">function getAccountState(address _account) external view returns (MinterAccountState memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account address to get the state for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MinterAccountState</code></td><td>MinterAccountState Total debt value, total collateral value and collateral ratio.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmintedassets-1"><a class="header" href="#getaccountmintedassets-1">getAccountMintedAssets</a></h3>
<p>Gets an array of Kresko assets the account has minted.</p>
<pre><code class="language-solidity">function getAccountMintedAssets(address _account) external view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the minted Kresko assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] Array of Kresko Asset addresses the account has minted.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmintindex-1"><a class="header" href="#getaccountmintindex-1">getAccountMintIndex</a></h3>
<p>Gets an index for the Kresko asset the account has minted.</p>
<pre><code class="language-solidity">function getAccountMintIndex(address _account, address _kreskoAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the minted Kresko assets for.</td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The asset lookup address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>index The index of asset in the minted assets array.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldebtvalues-1"><a class="header" href="#getaccounttotaldebtvalues-1">getAccountTotalDebtValues</a></h3>
<p>Gets the total Kresko asset debt value in USD for an account.</p>
<p>Adjusted value means it is multiplied by kFactor.</p>
<pre><code class="language-solidity">function getAccountTotalDebtValues(address _account) external view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the Kresko asset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value of debt.</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>The kFactor adjusted value of debt.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldebtvalue-1"><a class="header" href="#getaccounttotaldebtvalue-1">getAccountTotalDebtValue</a></h3>
<p>Gets the total Kresko asset debt value in USD for an account.</p>
<pre><code class="language-solidity">function getAccountTotalDebtValue(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to calculate the Kresko asset value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Total debt value of <code>_account</code>.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountdebtamount-1"><a class="header" href="#getaccountdebtamount-1">getAccountDebtAmount</a></h3>
<p>Get <code>_account</code> debt amount for <code>_asset</code></p>
<pre><code class="language-solidity">function getAccountDebtAmount(address _account, address _asset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to query amount for</td></tr>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>The asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Amount of debt for <code>_asset</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralvalues-1"><a class="header" href="#getaccountcollateralvalues-1">getAccountCollateralValues</a></h3>
<p>Get the unadjusted and the adjusted value of collateral deposits of <code>_asset</code> for <code>_account</code>.</p>
<p>Adjusted value means it is multiplied by cFactor.</p>
<pre><code class="language-solidity">function getAccountCollateralValues(address _account, address _asset)
    external
    view
    returns (uint256 value, uint256 valueAdjusted, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the collateral values for.</td></tr>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>Asset to get the collateral values for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Unadjusted value of the collateral deposits.</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>cFactor adjusted value of the collateral deposits.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>Price for the collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalcollateralvalue-1"><a class="header" href="#getaccounttotalcollateralvalue-1">getAccountTotalCollateralValue</a></h3>
<p>Gets the adjusted collateral value of a particular account.</p>
<pre><code class="language-solidity">function getAccountTotalCollateralValue(address _account) external view returns (uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the collateral value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>Collateral value of a particular account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalcollateralvalues-1"><a class="header" href="#getaccounttotalcollateralvalues-1">getAccountTotalCollateralValues</a></h3>
<p>Gets the adjusted and unadjusted collateral value of <code>_account</code>.</p>
<p>Adjusted value means it is multiplied by cFactor.</p>
<pre><code class="language-solidity">function getAccountTotalCollateralValues(address _account)
    external
    view
    returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the values for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>Unadjusted total value of the collateral deposits.</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>cFactor adjusted total value of the collateral deposits.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountmincollateralatratio-1"><a class="header" href="#getaccountmincollateralatratio-1">getAccountMinCollateralAtRatio</a></h3>
<p>Get an account's minimum collateral value required
to back a Kresko asset amount at a given collateralization ratio.</p>
<p><em>Accounts that have their collateral value under the minimum collateral value are considered unhealthy,
accounts with their collateral value under the liquidation threshold are considered liquidatable.</em></p>
<pre><code class="language-solidity">function getAccountMinCollateralAtRatio(address _account, uint32 _ratio) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to calculate the minimum collateral value for.</td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Collateralization ratio required: higher ratio = more collateral required</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Minimum collateral value of a particular account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralratio-1"><a class="header" href="#getaccountcollateralratio-1">getAccountCollateralRatio</a></h3>
<p>Get a list of accounts and their collateral ratios</p>
<pre><code class="language-solidity">function getAccountCollateralRatio(address _account) external view returns (uint256 ratio);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>ratio</code></td><td><code>uint256</code></td><td>The collateral ratio of <code>_account</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralratios-1"><a class="header" href="#getaccountcollateralratios-1">getAccountCollateralRatios</a></h3>
<p>Get a list of account collateral ratios</p>
<pre><code class="language-solidity">function getAccountCollateralRatios(address[] memory _accounts) external view returns (uint256[] memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256[]</code></td><td>ratios Collateral ratios of the <code>_accounts</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountdepositindex-1"><a class="header" href="#getaccountdepositindex-1">getAccountDepositIndex</a></h3>
<p>Gets an index for the collateral asset the account has deposited.</p>
<pre><code class="language-solidity">function getAccountDepositIndex(address _account, address _collateralAsset) external view returns (uint256 i);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get the index for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>Asset address.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>i</code></td><td><code>uint256</code></td><td>Index of the minted collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralassets-1"><a class="header" href="#getaccountcollateralassets-1">getAccountCollateralAssets</a></h3>
<p>Gets an array of collateral assets the account has deposited.</p>
<pre><code class="language-solidity">function getAccountCollateralAssets(address _account) external view returns (address[] memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the deposited collateral assets for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address[]</code></td><td>address[] Array of collateral asset addresses the account has deposited.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountcollateralamount-1"><a class="header" href="#getaccountcollateralamount-1">getAccountCollateralAmount</a></h3>
<p>Get <code>_account</code> collateral deposit amount for <code>_asset</code></p>
<pre><code class="language-solidity">function getAccountCollateralAmount(address _account, address _asset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to query amount for</td></tr>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>The asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>uint256 Amount of collateral deposited for <code>_asset</code></td></tr>
</tbody></table>
</div>
<h3 id="previewfee-1"><a class="header" href="#previewfee-1">previewFee</a></h3>
<p>Calculates the expected fee to be taken from a user's deposited collateral assets,
by imitating calcFee without modifying state.</p>
<pre><code class="language-solidity">function previewFee(address _account, address _kreskoAsset, uint256 _kreskoAssetAmount, MinterFee _feeType)
    external
    view
    returns (address[] memory assets, uint256[] memory amounts);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to charge the open fee from.</td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>Address of the kresko asset being burned.</td></tr>
<tr><td><code>_kreskoAssetAmount</code></td><td><code>uint256</code></td><td>Amount of the kresko asset being minted.</td></tr>
<tr><td><code>_feeType</code></td><td><code>MinterFee</code></td><td>Fee type (open or close).</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assets</code></td><td><code>address[]</code></td><td>Collateral types as an array of addresses.</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>Collateral amounts as an array of uint256.</td></tr>
</tbody></table>
</div>
<h2 id="structs-3"><a class="header" href="#structs-3">Structs</a></h2>
<h3 id="expectedfeeruntimeinfo"><a class="header" href="#expectedfeeruntimeinfo">ExpectedFeeRuntimeInfo</a></h3>
<pre><code class="language-solidity">struct ExpectedFeeRuntimeInfo {
    address[] assets;
    uint256[] amounts;
    uint256 collateralTypeCount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iburnfacet"><a class="header" href="#iburnfacet">IBurnFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/interfaces/IBurnFacet.sol">Git Source</a></p>
<h2 id="functions-61"><a class="header" href="#functions-61">Functions</a></h2>
<h3 id="burnkreskoasset-1"><a class="header" href="#burnkreskoasset-1">burnKreskoAsset</a></h3>
<p>Burns existing Kresko assets.</p>
<pre><code class="language-solidity">function burnKreskoAsset(address _account, address _kreskoAsset, uint256 _burnAmount, uint256 _mintedKreskoAssetIndex)
    external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to burn kresko assets for</td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_burnAmount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to be burned.</td></tr>
<tr><td><code>_mintedKreskoAssetIndex</code></td><td><code>uint256</code></td><td>The index of the kresko asset in the user's minted assets array. Only needed if burning all principal debt of a particular collateral asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="icollateralreceiver"><a class="header" href="#icollateralreceiver">ICollateralReceiver</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/interfaces/ICollateralReceiver.sol">Git Source</a></p>
<h2 id="functions-62"><a class="header" href="#functions-62">Functions</a></h2>
<h3 id="onuncheckedcollateralwithdraw"><a class="header" href="#onuncheckedcollateralwithdraw">onUncheckedCollateralWithdraw</a></h3>
<pre><code class="language-solidity">function onUncheckedCollateralWithdraw(
    address _account,
    address _collateralAsset,
    uint256 _withdrawalAmount,
    uint256 _depositedCollateralAssetIndex,
    bytes memory _userData
) external returns (bytes memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iconfigurationfacet"><a class="header" href="#iconfigurationfacet">IConfigurationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/interfaces/IConfigurationFacet.sol">Git Source</a></p>
<h2 id="functions-63"><a class="header" href="#functions-63">Functions</a></h2>
<h3 id="initializeminter-1"><a class="header" href="#initializeminter-1">initializeMinter</a></h3>
<pre><code class="language-solidity">function initializeMinter(MinterInitArgs calldata args) external;
</code></pre>
<h3 id="updateliquidationincentive-1"><a class="header" href="#updateliquidationincentive-1">updateLiquidationIncentive</a></h3>
<p>Updates the liquidation incentive multiplier.</p>
<pre><code class="language-solidity">function updateLiquidationIncentive(address _collateralAsset, uint16 _newLiquidationIncentive) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to update.</td></tr>
<tr><td><code>_newLiquidationIncentive</code></td><td><code>uint16</code></td><td>The new liquidation incentive multiplier for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="updatecollateralfactor-1"><a class="header" href="#updatecollateralfactor-1">updateCollateralFactor</a></h3>
<p>Updates the cFactor of a KreskoAsset.</p>
<pre><code class="language-solidity">function updateCollateralFactor(address _collateralAsset, uint16 _newFactor) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset.</td></tr>
<tr><td><code>_newFactor</code></td><td><code>uint16</code></td><td>The new collateral factor.</td></tr>
</tbody></table>
</div>
<h3 id="updatekfactor-1"><a class="header" href="#updatekfactor-1">updateKFactor</a></h3>
<p>Updates the kFactor of a KreskoAsset.</p>
<pre><code class="language-solidity">function updateKFactor(address _kreskoAsset, uint16 _kFactor) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The KreskoAsset.</td></tr>
<tr><td><code>_kFactor</code></td><td><code>uint16</code></td><td>The new kFactor.</td></tr>
</tbody></table>
</div>
<h3 id="updatemincollateralratio-1"><a class="header" href="#updatemincollateralratio-1">updateMinCollateralRatio</a></h3>
<p><em>Updates the contract's collateralization ratio.</em></p>
<pre><code class="language-solidity">function updateMinCollateralRatio(uint32 _newMinCollateralRatio) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMinCollateralRatio</code></td><td><code>uint32</code></td><td>The new minimum collateralization ratio as wad.</td></tr>
</tbody></table>
</div>
<h3 id="updateliquidationthreshold-1"><a class="header" href="#updateliquidationthreshold-1">updateLiquidationThreshold</a></h3>
<p><em>Updates the contract's liquidation threshold value</em></p>
<pre><code class="language-solidity">function updateLiquidationThreshold(uint32 _newThreshold) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newThreshold</code></td><td><code>uint32</code></td><td>The new liquidation threshold value</td></tr>
</tbody></table>
</div>
<h3 id="updatemaxliquidationratio-1"><a class="header" href="#updatemaxliquidationratio-1">updateMaxLiquidationRatio</a></h3>
<p>Updates the max liquidation ratior value.</p>
<p>This is the maximum collateral ratio that liquidations can liquidate to.</p>
<pre><code class="language-solidity">function updateMaxLiquidationRatio(uint32 _newMaxLiquidationRatio) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newMaxLiquidationRatio</code></td><td><code>uint32</code></td><td>Percent value in wad precision.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="idepositwithdrawfacet"><a class="header" href="#idepositwithdrawfacet">IDepositWithdrawFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/interfaces/IDepositWithdrawFacet.sol">Git Source</a></p>
<h2 id="functions-64"><a class="header" href="#functions-64">Functions</a></h2>
<h3 id="depositcollateral-1"><a class="header" href="#depositcollateral-1">depositCollateral</a></h3>
<p>Deposits collateral into the protocol.</p>
<pre><code class="language-solidity">function depositCollateral(address _account, address _collateralAsset, uint256 _depositAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The user to deposit collateral for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_depositAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to deposit.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawcollateral-1"><a class="header" href="#withdrawcollateral-1">withdrawCollateral</a></h3>
<p>Withdraws sender's collateral from the protocol.</p>
<p><em>Requires that the post-withdrawal collateral value does not violate minimum collateral requirement.</em></p>
<pre><code class="language-solidity">function withdrawCollateral(
    address _account,
    address _collateralAsset,
    uint256 _withdrawAmount,
    uint256 _collateralIndex
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to withdraw assets for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>The index of the collateral asset in the sender's deposited collateral assets array. Only needed if withdrawing the entire deposit of a particular collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawcollateralunchecked-1"><a class="header" href="#withdrawcollateralunchecked-1">withdrawCollateralUnchecked</a></h3>
<p>Withdraws sender's collateral from the protocol before checking minimum collateral ratio.</p>
<p><em>Executes post-withdraw-callback triggering onUncheckedCollateralWithdraw on the caller</em></p>
<p><em>Requires that the post-withdraw-callback collateral value does not violate minimum collateral requirement.</em></p>
<pre><code class="language-solidity">function withdrawCollateralUnchecked(
    address _account,
    address _collateralAsset,
    uint256 _withdrawAmount,
    uint256 _collateralIndex,
    bytes memory _userData
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to withdraw assets for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_withdrawAmount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to withdraw.</td></tr>
<tr><td><code>_collateralIndex</code></td><td><code>uint256</code></td><td>The index of the collateral asset in the sender's deposited collateral assets array. Only needed if withdrawing the entire deposit of a particular collateral asset.</td></tr>
<tr><td><code>_userData</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iliquidationfacet"><a class="header" href="#iliquidationfacet">ILiquidationFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/interfaces/ILiquidationFacet.sol">Git Source</a></p>
<h2 id="functions-65"><a class="header" href="#functions-65">Functions</a></h2>
<h3 id="liquidate-1"><a class="header" href="#liquidate-1">liquidate</a></h3>
<p>Attempts to liquidate an account by repaying the portion of the account's Kresko asset
debt, receiving in return a portion of the account's collateral at a discounted rate.</p>
<pre><code class="language-solidity">function liquidate(
    address _account,
    address _repayAssetAddr,
    uint256 _repayAmount,
    address _seizeAssetAddr,
    uint256 _repayAssetIndex,
    uint256 _seizeAssetIndex
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to attempt to liquidate.</td></tr>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>Address of the Kresko asset to be repaid.</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>Amount of the Kresko asset to be repaid.</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>Address of the collateral asset to be seized.</td></tr>
<tr><td><code>_repayAssetIndex</code></td><td><code>uint256</code></td><td>Index of the Kresko asset in the account's minted assets array.</td></tr>
<tr><td><code>_seizeAssetIndex</code></td><td><code>uint256</code></td><td>Index of the collateral asset in the account's collateral assets array.</td></tr>
</tbody></table>
</div>
<h3 id="getmaxliqvalue-1"><a class="header" href="#getmaxliqvalue-1">getMaxLiqValue</a></h3>
<p><em>Calculates the total value that is allowed to be liquidated from an account (if it is liquidatable)</em></p>
<pre><code class="language-solidity">function getMaxLiqValue(address _account, address _repayAssetAddr, address _seizeAssetAddr)
    external
    view
    returns (MaxLiqInfo memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Address of the account to liquidate</td></tr>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>Address of Kresko Asset to repay</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>Address of Collateral to seize</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MaxLiqInfo</code></td><td>MaxLiqInfo Calculated information about the maximum liquidation.</td></tr>
</tbody></table>
</div>
<h2 id="structs-4"><a class="header" href="#structs-4">Structs</a></h2>
<h3 id="executionparams"><a class="header" href="#executionparams">ExecutionParams</a></h3>
<p>Internal, used execute _liquidateAssets.</p>
<pre><code class="language-solidity">struct ExecutionParams {
    address account;
    uint256 repayAmount;
    uint256 seizeAmount;
    address repayAssetAddr;
    uint256 repayAssetIndex;
    address seizedAssetAddr;
    uint256 seizedAssetIndex;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imintfacet"><a class="header" href="#imintfacet">IMintFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/interfaces/IMintFacet.sol">Git Source</a></p>
<h2 id="functions-66"><a class="header" href="#functions-66">Functions</a></h2>
<h3 id="mintkreskoasset-1"><a class="header" href="#mintkreskoasset-1">mintKreskoAsset</a></h3>
<p>Mints new Kresko assets.</p>
<pre><code class="language-solidity">function mintKreskoAsset(address _account, address _kreskoAsset, uint256 _mintAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The address to mint assets for.</td></tr>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_mintAmount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to be minted.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="istatefacet"><a class="header" href="#istatefacet">IStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/interfaces/IStateFacet.sol">Git Source</a></p>
<h2 id="functions-67"><a class="header" href="#functions-67">Functions</a></h2>
<h3 id="getliquidationthreshold-1"><a class="header" href="#getliquidationthreshold-1">getLiquidationThreshold</a></h3>
<p>The collateralization ratio at which positions may be liquidated.</p>
<pre><code class="language-solidity">function getLiquidationThreshold() external view returns (uint32);
</code></pre>
<h3 id="getmaxliquidationratio-1"><a class="header" href="#getmaxliquidationratio-1">getMaxLiquidationRatio</a></h3>
<p>Multiplies max liquidation multiplier, if a full liquidation happens this is the resulting CR.</p>
<pre><code class="language-solidity">function getMaxLiquidationRatio() external view returns (uint32);
</code></pre>
<h3 id="getmincollateralratio-1"><a class="header" href="#getmincollateralratio-1">getMinCollateralRatio</a></h3>
<p>The minimum ratio of collateral to debt that can be taken by direct action.</p>
<pre><code class="language-solidity">function getMinCollateralRatio() external view returns (uint32);
</code></pre>
<h3 id="getkrassetexists-1"><a class="header" href="#getkrassetexists-1">getKrAssetExists</a></h3>
<p>simple check if kresko asset exists</p>
<pre><code class="language-solidity">function getKrAssetExists(address _krAsset) external view returns (bool);
</code></pre>
<h3 id="getcollateralexists-1"><a class="header" href="#getcollateralexists-1">getCollateralExists</a></h3>
<p>simple check if collateral asset exists</p>
<pre><code class="language-solidity">function getCollateralExists(address _collateralAsset) external view returns (bool);
</code></pre>
<h3 id="getminterparameters-1"><a class="header" href="#getminterparameters-1">getMinterParameters</a></h3>
<p>get all meaningful protocol parameters</p>
<pre><code class="language-solidity">function getMinterParameters() external view returns (MinterParams memory);
</code></pre>
<h3 id="getcollateralvaluewithprice-1"><a class="header" href="#getcollateralvaluewithprice-1">getCollateralValueWithPrice</a></h3>
<p>Gets the USD value for a single collateral asset and amount.</p>
<pre><code class="language-solidity">function getCollateralValueWithPrice(address _collateralAsset, uint256 _amount)
    external
    view
    returns (uint256 value, uint256 adjustedValue, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The address of the collateral asset.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of the collateral asset to calculate the value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value for the provided amount of the collateral asset.</td></tr>
<tr><td><code>adjustedValue</code></td><td><code>uint256</code></td><td>The (cFactor) adjusted value for the provided amount of the collateral asset.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>The price of the collateral asset.</td></tr>
</tbody></table>
</div>
<h3 id="getdebtvaluewithprice-1"><a class="header" href="#getdebtvaluewithprice-1">getDebtValueWithPrice</a></h3>
<p>Gets the USD value for a single Kresko asset and amount.</p>
<pre><code class="language-solidity">function getDebtValueWithPrice(address _kreskoAsset, uint256 _amount)
    external
    view
    returns (uint256 value, uint256 adjustedValue, uint256 price);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The address of the Kresko asset.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of the Kresko asset to calculate the value for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>The unadjusted value for the provided amount of the debt asset.</td></tr>
<tr><td><code>adjustedValue</code></td><td><code>uint256</code></td><td>The (kFactor) adjusted value for the provided amount of the debt asset.</td></tr>
<tr><td><code>price</code></td><td><code>uint256</code></td><td>The price of the debt asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mevent"><a class="header" href="#mevent">MEvent</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/Events.sol">Git Source</a></p>
<h2 id="events-4"><a class="header" href="#events-4">Events</a></h2>
<h3 id="collateralassetadded"><a class="header" href="#collateralassetadded">CollateralAssetAdded</a></h3>
<p>Emitted when a collateral asset is added to the protocol.</p>
<p><em>Can only be emitted once for a given collateral asset.</em></p>
<pre><code class="language-solidity">event CollateralAssetAdded(
    string indexed id, address indexed collateralAsset, uint256 factor, address anchor, uint256 liqIncentive
);
</code></pre>
<h3 id="collateralassetupdated"><a class="header" href="#collateralassetupdated">CollateralAssetUpdated</a></h3>
<p>Emitted when a collateral asset is updated.</p>
<pre><code class="language-solidity">event CollateralAssetUpdated(
    string indexed id, address indexed collateralAsset, uint256 factor, address anchor, uint256 liqIncentive
);
</code></pre>
<h3 id="collateraldeposited"><a class="header" href="#collateraldeposited">CollateralDeposited</a></h3>
<p>Emitted when an account deposits collateral.</p>
<pre><code class="language-solidity">event CollateralDeposited(address indexed account, address indexed collateralAsset, uint256 amount);
</code></pre>
<h3 id="collateralwithdrawn"><a class="header" href="#collateralwithdrawn">CollateralWithdrawn</a></h3>
<p>Emitted when an account withdraws collateral.</p>
<pre><code class="language-solidity">event CollateralWithdrawn(address indexed account, address indexed collateralAsset, uint256 amount);
</code></pre>
<h3 id="uncheckedcollateralwithdrawn"><a class="header" href="#uncheckedcollateralwithdrawn">UncheckedCollateralWithdrawn</a></h3>
<p>Emitted when AMM helper withdraws account collateral without MCR checks.</p>
<pre><code class="language-solidity">event UncheckedCollateralWithdrawn(address indexed account, address indexed collateralAsset, uint256 amount);
</code></pre>
<h3 id="ammoracleupdated"><a class="header" href="#ammoracleupdated">AMMOracleUpdated</a></h3>
<p>Emitted when AMM oracle is set.</p>
<pre><code class="language-solidity">event AMMOracleUpdated(address indexed ammOracle);
</code></pre>
<h3 id="kreskoassetadded"><a class="header" href="#kreskoassetadded">KreskoAssetAdded</a></h3>
<p>Emitted when a KreskoAsset is added to the protocol.</p>
<p><em>Can only be emitted once for a given Kresko asset.</em></p>
<pre><code class="language-solidity">event KreskoAssetAdded(
    string indexed id,
    address indexed kreskoAsset,
    address anchor,
    uint256 kFactor,
    uint256 supplyLimit,
    uint256 closeFee,
    uint256 openFee
);
</code></pre>
<h3 id="kreskoassetupdated"><a class="header" href="#kreskoassetupdated">KreskoAssetUpdated</a></h3>
<p>Emitted when a Kresko asset's oracle is updated.</p>
<pre><code class="language-solidity">event KreskoAssetUpdated(
    string indexed id,
    address indexed kreskoAsset,
    address anchor,
    uint256 kFactor,
    uint256 supplyLimit,
    uint256 closeFee,
    uint256 openFee
);
</code></pre>
<h3 id="kreskoassetminted"><a class="header" href="#kreskoassetminted">KreskoAssetMinted</a></h3>
<p>Emitted when an account mints a Kresko asset.</p>
<pre><code class="language-solidity">event KreskoAssetMinted(address indexed account, address indexed kreskoAsset, uint256 amount);
</code></pre>
<h3 id="kreskoassetburned"><a class="header" href="#kreskoassetburned">KreskoAssetBurned</a></h3>
<p>Emitted when an account burns a Kresko asset.</p>
<pre><code class="language-solidity">event KreskoAssetBurned(address indexed account, address indexed kreskoAsset, uint256 amount);
</code></pre>
<h3 id="debtpositionclosed"><a class="header" href="#debtpositionclosed">DebtPositionClosed</a></h3>
<p>Emitted when an account burns a Kresko asset.</p>
<pre><code class="language-solidity">event DebtPositionClosed(address indexed account, address indexed kreskoAsset, uint256 amount);
</code></pre>
<h3 id="cfactorupdated"><a class="header" href="#cfactorupdated">CFactorUpdated</a></h3>
<p>Emitted when cFactor is updated for a collateral asset.</p>
<pre><code class="language-solidity">event CFactorUpdated(address indexed collateralAsset, uint256 cFactor);
</code></pre>
<h3 id="kfactorupdated"><a class="header" href="#kfactorupdated">KFactorUpdated</a></h3>
<p>Emitted when kFactor is updated for a KreskoAsset.</p>
<pre><code class="language-solidity">event KFactorUpdated(address indexed kreskoAsset, uint256 kFactor);
</code></pre>
<h3 id="feepaid"><a class="header" href="#feepaid">FeePaid</a></h3>
<p>Emitted when an account pays an open/close fee with a collateral asset in the Minter.</p>
<p><em>This can be emitted multiple times for a single asset.</em></p>
<pre><code class="language-solidity">event FeePaid(
    address indexed account,
    address indexed paymentCollateralAsset,
    uint256 indexed feeType,
    uint256 paymentAmount,
    uint256 paymentValue,
    uint256 feeValue
);
</code></pre>
<h3 id="liquidationoccurred"><a class="header" href="#liquidationoccurred">LiquidationOccurred</a></h3>
<p>Emitted when a liquidation occurs.</p>
<pre><code class="language-solidity">event LiquidationOccurred(
    address indexed account,
    address indexed liquidator,
    address indexed repayKreskoAsset,
    uint256 repayAmount,
    address seizedCollateralAsset,
    uint256 collateralSent
);
</code></pre>
<h3 id="interestliquidationoccurred"><a class="header" href="#interestliquidationoccurred">InterestLiquidationOccurred</a></h3>
<p>Emitted when a liquidation of interest occurs.</p>
<pre><code class="language-solidity">event InterestLiquidationOccurred(
    address indexed account,
    address indexed liquidator,
    address indexed repayKreskoAsset,
    uint256 repayUSD,
    address seizedCollateralAsset,
    uint256 collateralSent
);
</code></pre>
<h3 id="batchinterestliquidationoccurred"><a class="header" href="#batchinterestliquidationoccurred">BatchInterestLiquidationOccurred</a></h3>
<p>Emitted when a batch liquidation of interest occurs.</p>
<pre><code class="language-solidity">event BatchInterestLiquidationOccurred(
    address indexed account,
    address indexed liquidator,
    address indexed seizedCollateralAsset,
    uint256 repayUSD,
    uint256 collateralSent
);
</code></pre>
<h3 id="safetystatechange"><a class="header" href="#safetystatechange">SafetyStateChange</a></h3>
<p>Emitted when a safety state is triggered for an asset</p>
<pre><code class="language-solidity">event SafetyStateChange(Action indexed action, address indexed asset, string indexed description);
</code></pre>
<h3 id="feerecipientupdated"><a class="header" href="#feerecipientupdated">FeeRecipientUpdated</a></h3>
<p>Emitted when the fee recipient is updated.</p>
<pre><code class="language-solidity">event FeeRecipientUpdated(address indexed feeRecipient);
</code></pre>
<h3 id="liquidationincentivemultiplierupdated"><a class="header" href="#liquidationincentivemultiplierupdated">LiquidationIncentiveMultiplierUpdated</a></h3>
<p>Emitted when the liquidation incentive multiplier is updated.</p>
<pre><code class="language-solidity">event LiquidationIncentiveMultiplierUpdated(address indexed asset, uint256 liqIncentiveMultiplier);
</code></pre>
<h3 id="maxliquidationratioupdated"><a class="header" href="#maxliquidationratioupdated">MaxLiquidationRatioUpdated</a></h3>
<p>Emitted when the max liquidation ratio is updated.</p>
<pre><code class="language-solidity">event MaxLiquidationRatioUpdated(uint256 newMaxLiquidationRatio);
</code></pre>
<h3 id="minimumcollateralizationratioupdated"><a class="header" href="#minimumcollateralizationratioupdated">MinimumCollateralizationRatioUpdated</a></h3>
<p>Emitted when the minimum collateralization ratio is updated.</p>
<pre><code class="language-solidity">event MinimumCollateralizationRatioUpdated(uint256 minCollateralRatio);
</code></pre>
<h3 id="minimumdebtvalueupdated"><a class="header" href="#minimumdebtvalueupdated">MinimumDebtValueUpdated</a></h3>
<p>Emitted when the minimum debt value updated.</p>
<pre><code class="language-solidity">event MinimumDebtValueUpdated(uint256 minDebtValue);
</code></pre>
<h3 id="liquidationthresholdupdated"><a class="header" href="#liquidationthresholdupdated">LiquidationThresholdUpdated</a></h3>
<p>Emitted when the liquidation threshold value is updated</p>
<pre><code class="language-solidity">event LiquidationThresholdUpdated(uint256 liquidationThreshold);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minterstate"><a class="header" href="#minterstate">MinterState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/State.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<pre><code class="language-solidity">struct MinterState {
    mapping(address =&gt; address[]) depositedCollateralAssets;
    mapping(address =&gt; mapping(address =&gt; uint256)) collateralDeposits;
    mapping(address =&gt; mapping(address =&gt; uint256)) kreskoAssetDebt;
    mapping(address =&gt; address[]) mintedKreskoAssets;
    address[] krAssets;
    address[] collaterals;
    address feeRecipient;
    uint32 maxLiquidationRatio;
    uint32 minCollateralRatio;
    uint32 liquidationThreshold;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ms"><a class="header" href="#ms">ms</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/State.sol">Git Source</a></p>
<pre><code class="language-solidity">function ms() pure returns (MinterState storage state);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-6"><a class="header" href="#constants-6">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/State.sol">Git Source</a></p>
<h3 id="minter_storage_position"><a class="header" href="#minter_storage_position">MINTER_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant MINTER_STORAGE_POSITION = keccak256(&quot;kresko.minter.storage&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minteraccountstate"><a class="header" href="#minteraccountstate">MinterAccountState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct MinterAccountState {
    uint256 totalDebtValue;
    uint256 totalCollateralValue;
    uint256 collateralRatio;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minterinitargs"><a class="header" href="#minterinitargs">MinterInitArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/Types.sol">Git Source</a></p>
<p>Initialization arguments for the protocol</p>
<pre><code class="language-solidity">struct MinterInitArgs {
    uint32 liquidationThreshold;
    uint32 minCollateralRatio;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minterparams"><a class="header" href="#minterparams">MinterParams</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/Types.sol">Git Source</a></p>
<p>Configurable parameters within the protocol</p>
<pre><code class="language-solidity">struct MinterParams {
    uint32 minCollateralRatio;
    uint32 liquidationThreshold;
    uint32 maxLiquidationRatio;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minterfee"><a class="header" href="#minterfee">MinterFee</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/minter/Types.sol">Git Source</a></p>
<p><em>Fee types
Open = 0
Close = 1</em></p>
<pre><code class="language-solidity">enum MinterFee {
    Open,
    Close
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-18"><a class="header" href="#contents-18">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/scdp//src/contracts/core/scdp/facets">facets</a></li>
<li><a href="src/contracts/core/scdp//src/contracts/core/scdp/funcs">funcs</a></li>
<li><a href="src/contracts/core/scdp//src/contracts/core/scdp/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/scdp/Events.sol/library.SEvent.html">SEvent</a></li>
<li><a href="src/contracts/core/scdp/SDICoverRecipient.sol/contract.SDICoverRecipient.html">SDICoverRecipient</a></li>
<li><a href="src/contracts/core/scdp/State.sol/struct.SCDPState.html">SCDPState</a></li>
<li><a href="src/contracts/core/scdp/State.sol/struct.SDIState.html">SDIState</a></li>
<li><a href="src/contracts/core/scdp/State.sol/function.sdi.html">sdi</a></li>
<li><a href="src/contracts/core/scdp/State.sol/function.scdp.html">scdp</a></li>
<li><a href="src/contracts/core/scdp/State.sol/constants.State.html">State constants</a></li>
<li><a href="src/contracts/core/scdp/Types.sol/struct.SCDPInitArgs.html">SCDPInitArgs</a></li>
<li><a href="src/contracts/core/scdp/Types.sol/struct.PairSetter.html">PairSetter</a></li>
<li><a href="src/contracts/core/scdp/Types.sol/struct.SCDPAssetData.html">SCDPAssetData</a></li>
<li><a href="src/contracts/core/scdp/Types.sol/struct.GlobalData.html">GlobalData</a></li>
<li><a href="src/contracts/core/scdp/Types.sol/struct.AssetData.html">AssetData</a></li>
<li><a href="src/contracts/core/scdp/Types.sol/struct.UserAssetData.html">UserAssetData</a></li>
<li><a href="src/contracts/core/scdp/Types.sol/struct.UserData.html">UserData</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-19"><a class="header" href="#contents-19">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/scdp/facets/SCDPConfigFacet.sol/contract.SCDPConfigFacet.html">SCDPConfigFacet</a></li>
<li><a href="src/contracts/core/scdp/facets/SCDPFacet.sol/contract.SCDPFacet.html">SCDPFacet</a></li>
<li><a href="src/contracts/core/scdp/facets/SCDPStateFacet.sol/contract.SCDPStateFacet.html">SCDPStateFacet</a></li>
<li><a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol/contract.SCDPSwapFacet.html">SCDPSwapFacet</a></li>
<li><a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol/function.getSwapFees.html">getSwapFees</a></li>
<li><a href="src/contracts/core/scdp/facets/SDIFacet.sol/contract.SDIFacet.html">SDIFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpconfigfacet"><a class="header" href="#scdpconfigfacet">SCDPConfigFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/facets/SCDPConfigFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/scdp/facets/SCDPConfigFacet.sol//src/contracts/core/scdp/interfaces/ISCDPConfigFacet.sol/interface.ISCDPConfigFacet.html">ISCDPConfigFacet</a>, <a href="src/contracts/core/scdp/facets/SCDPConfigFacet.sol//src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/scdp/facets/SCDPConfigFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a></p>
<h2 id="functions-68"><a class="header" href="#functions-68">Functions</a></h2>
<h3 id="initializescdp"><a class="header" href="#initializescdp">initializeSCDP</a></h3>
<p>Initialize SCDP.
Callable by diamond owner only.</p>
<pre><code class="language-solidity">function initializeSCDP(SCDPInitArgs memory _init) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_init</code></td><td><code>SCDPInitArgs</code></td><td>The initial configuration.</td></tr>
</tbody></table>
</div>
<h3 id="getcurrentparametersscdp"><a class="header" href="#getcurrentparametersscdp">getCurrentParametersSCDP</a></h3>
<p>Get the pool configuration.</p>
<pre><code class="language-solidity">function getCurrentParametersSCDP() external view override returns (SCDPInitArgs memory);
</code></pre>
<h3 id="setfeeassetscdp"><a class="header" href="#setfeeassetscdp">setFeeAssetSCDP</a></h3>
<pre><code class="language-solidity">function setFeeAssetSCDP(address asset) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setmincollateralratioscdp"><a class="header" href="#setmincollateralratioscdp">setMinCollateralRatioSCDP</a></h3>
<p>Set the pool minimum collateralization ratio.</p>
<pre><code class="language-solidity">function setMinCollateralRatioSCDP(uint32 _mcr) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setliquidationthresholdscdp"><a class="header" href="#setliquidationthresholdscdp">setLiquidationThresholdSCDP</a></h3>
<p>Set the pool liquidation threshold.</p>
<pre><code class="language-solidity">function setLiquidationThresholdSCDP(uint32 _lt) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setmaxliquidationratioscdp"><a class="header" href="#setmaxliquidationratioscdp">setMaxLiquidationRatioSCDP</a></h3>
<pre><code class="language-solidity">function setMaxLiquidationRatioSCDP(uint32 _mlr) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="updatedepositlimitscdp"><a class="header" href="#updatedepositlimitscdp">updateDepositLimitSCDP</a></h3>
<p>Update the deposit asset limit configuration.
Only callable by admin.</p>
<pre><code class="language-solidity">function updateDepositLimitSCDP(address _assetAddr, uint128 _newDepositLimitSCDP)
    external
    isSCDPDepositAsset(_assetAddr)
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_newDepositLimitSCDP</code></td><td><code>uint128</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="updateliquidationincentivescdp"><a class="header" href="#updateliquidationincentivescdp">updateLiquidationIncentiveSCDP</a></h3>
<p>Set the @param _newliqIncentive for @param _krAsset.</p>
<pre><code class="language-solidity">function updateLiquidationIncentiveSCDP(address _assetAddr, uint16 _newLiqIncentiveSCDP)
    public
    isSCDPKrAsset(_assetAddr)
    onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setdepositassetscdp"><a class="header" href="#setdepositassetscdp">setDepositAssetSCDP</a></h3>
<p>Disable or enable a deposit asset. Reverts if invalid asset.
Only callable by admin.</p>
<pre><code class="language-solidity">function setDepositAssetSCDP(address _assetAddr, bool _enabled) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to set.</td></tr>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>Whether to enable or disable the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setkrassetscdp"><a class="header" href="#setkrassetscdp">setKrAssetSCDP</a></h3>
<p>Disable or enable a kresko asset in SCDP.
Reverts if invalid asset. Enabling will also add it to collateral value calculations.
Only callable by admin.</p>
<pre><code class="language-solidity">function setKrAssetSCDP(address _assetAddr, bool _enabled) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to set.</td></tr>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>Whether to enable or disable the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setcollateralscdp"><a class="header" href="#setcollateralscdp">setCollateralSCDP</a></h3>
<pre><code class="language-solidity">function setCollateralSCDP(address _assetAddr, bool _enabled) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setswapfee"><a class="header" href="#setswapfee">setSwapFee</a></h3>
<p>Sets the fees for a kresko asset</p>
<p><em>Only callable by admin.</em></p>
<pre><code class="language-solidity">function setSwapFee(address _krAsset, uint16 _openFee, uint16 _closeFee, uint16 _protocolFee)
    external
    onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The kresko asset to set fees for.</td></tr>
<tr><td><code>_openFee</code></td><td><code>uint16</code></td><td>The new open fee.</td></tr>
<tr><td><code>_closeFee</code></td><td><code>uint16</code></td><td>The new close fee.</td></tr>
<tr><td><code>_protocolFee</code></td><td><code>uint16</code></td><td>The protocol fee share.</td></tr>
</tbody></table>
</div>
<h3 id="setswappairs"><a class="header" href="#setswappairs">setSwapPairs</a></h3>
<p>Set whether pairs are enabled or not. Both ways.
Only callable by admin.</p>
<pre><code class="language-solidity">function setSwapPairs(PairSetter[] calldata _pairs) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_pairs</code></td><td><code>PairSetter[]</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="setswappairssingle"><a class="header" href="#setswappairssingle">setSwapPairsSingle</a></h3>
<p>Set whether a swap pair is enabled or not.
Only callable by admin.</p>
<pre><code class="language-solidity">function setSwapPairsSingle(PairSetter calldata _pair) external onlyRole(Role.ADMIN);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_pair</code></td><td><code>PairSetter</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="scdpfacet"><a class="header" href="#scdpfacet">SCDPFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/facets/SCDPFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/scdp/facets/SCDPFacet.sol//src/contracts/core/scdp/interfaces/ISCDPFacet.sol/interface.ISCDPFacet.html">ISCDPFacet</a>, <a href="src/contracts/core/scdp/facets/SCDPFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a></p>
<h2 id="functions-69"><a class="header" href="#functions-69">Functions</a></h2>
<h3 id="depositscdp"><a class="header" href="#depositscdp">depositSCDP</a></h3>
<p>Deposit collateral for account to the collateral pool.</p>
<pre><code class="language-solidity">function depositSCDP(address _account, address _collateralAsset, uint256 _amount)
    external
    isSCDPDepositAsset(_collateralAsset)
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to deposit for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to deposit.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to deposit.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawscdp"><a class="header" href="#withdrawscdp">withdrawSCDP</a></h3>
<p>Withdraw collateral for account from the collateral pool.</p>
<pre><code class="language-solidity">function withdrawSCDP(address _account, address _collateralAsset, uint256 _amount) external nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to withdraw for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to withdraw.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to withdraw.</td></tr>
</tbody></table>
</div>
<h3 id="repayscdp"><a class="header" href="#repayscdp">repaySCDP</a></h3>
<p>Repay debt for no fees or slippage.</p>
<pre><code class="language-solidity">function repaySCDP(address _repayAssetAddr, uint256 _repayAmount, address _seizeAssetAddr) external nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>The asset to repay the debt in.</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>The amount of the asset to repay the debt with.</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>The collateral asset to seize.</td></tr>
</tbody></table>
</div>
<h3 id="getliquidatablescdp"><a class="header" href="#getliquidatablescdp">getLiquidatableSCDP</a></h3>
<pre><code class="language-solidity">function getLiquidatableSCDP() external view returns (bool);
</code></pre>
<h3 id="getmaxliqvaluescdp"><a class="header" href="#getmaxliqvaluescdp">getMaxLiqValueSCDP</a></h3>
<pre><code class="language-solidity">function getMaxLiqValueSCDP(address _repayAssetAddr, address _seizeAssetAddr)
    external
    view
    returns (MaxLiqInfo memory);
</code></pre>
<h3 id="liquidatescdp"><a class="header" href="#liquidatescdp">liquidateSCDP</a></h3>
<p>Liquidate the collateral pool.</p>
<pre><code class="language-solidity">function liquidateSCDP(address _repayAssetAddr, uint256 _repayAmount, address _seizeAssetAddr) external nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>The asset to repay the debt in.</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>The amount of the asset to repay the debt with.</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>The collateral asset to seize.</td></tr>
</tbody></table>
</div>
<h3 id="_getmaxliqvalue-1"><a class="header" href="#_getmaxliqvalue-1">_getMaxLiqValue</a></h3>
<pre><code class="language-solidity">function _getMaxLiqValue(Asset storage _repayAsset, Asset storage _seizeAsset, address _seizeAssetAddr)
    internal
    view
    returns (uint256 maxLiquidatableUSD);
</code></pre>
<h3 id="_calcmaxliqvalue-1"><a class="header" href="#_calcmaxliqvalue-1">_calcMaxLiqValue</a></h3>
<pre><code class="language-solidity">function _calcMaxLiqValue(
    Asset storage _repayAsset,
    Asset storage _seizeAsset,
    uint256 _minCollateralValue,
    uint256 _totalCollateralValue,
    uint256 _seizeAssetValue,
    uint96 _minDebtValue,
    uint32 _maxLiquidationRatio
) internal view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpstatefacet"><a class="header" href="#scdpstatefacet">SCDPStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/facets/SCDPStateFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/scdp/facets/SCDPStateFacet.sol//src/contracts/core/scdp/interfaces/ISCDPStateFacet.sol/interface.ISCDPStateFacet.html">ISCDPStateFacet</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>This facet is used to view the state of the scdp.</p>
<h2 id="functions-70"><a class="header" href="#functions-70">Functions</a></h2>
<h3 id="getaccountdepositscdp"><a class="header" href="#getaccountdepositscdp">getAccountDepositSCDP</a></h3>
<p>Get the total collateral principal deposits for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountDepositSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccountscaleddepositsscdp"><a class="header" href="#getaccountscaleddepositsscdp">getAccountScaledDepositsSCDP</a></h3>
<p>Get the collateral pool deposit balance of <code>_account</code>. Including fees.</p>
<pre><code class="language-solidity">function getAccountScaledDepositsSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountdepositfeesgainedscdp"><a class="header" href="#getaccountdepositfeesgainedscdp">getAccountDepositFeesGainedSCDP</a></h3>
<pre><code class="language-solidity">function getAccountDepositFeesGainedSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<h3 id="getaccountdepositvaluescdp"><a class="header" href="#getaccountdepositvaluescdp">getAccountDepositValueSCDP</a></h3>
<p>Get the (principal) deposit value for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountDepositValueSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccountscaleddepositvaluecdp"><a class="header" href="#getaccountscaleddepositvaluecdp">getAccountScaledDepositValueCDP</a></h3>
<p>Get the full value of account and fees for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountScaledDepositValueCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldepositsvaluescdp"><a class="header" href="#getaccounttotaldepositsvaluescdp">getAccountTotalDepositsValueSCDP</a></h3>
<p>Get the total collateral deposit value for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountTotalDepositsValueSCDP(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalscaleddepositsvaluescdp"><a class="header" href="#getaccounttotalscaleddepositsvaluescdp">getAccountTotalScaledDepositsValueSCDP</a></h3>
<p>Get the full value of account and fees for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountTotalScaledDepositsValueSCDP(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
</tbody></table>
</div>
<h3 id="getdepositassetsscdp"><a class="header" href="#getdepositassetsscdp">getDepositAssetsSCDP</a></h3>
<p>Get all pool CollateralAssets</p>
<pre><code class="language-solidity">function getDepositAssetsSCDP() external view returns (address[] memory result);
</code></pre>
<h3 id="getcollateralsscdp"><a class="header" href="#getcollateralsscdp">getCollateralsSCDP</a></h3>
<pre><code class="language-solidity">function getCollateralsSCDP() external view returns (address[] memory result);
</code></pre>
<h3 id="getdepositsscdp"><a class="header" href="#getdepositsscdp">getDepositsSCDP</a></h3>
<p>Get the total collateral deposits for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getDepositsSCDP(address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getswapdepositsscdp"><a class="header" href="#getswapdepositsscdp">getSwapDepositsSCDP</a></h3>
<p>Get the total collateral swap deposits for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getSwapDepositsSCDP(address _collateralAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getcollateralvaluescdp"><a class="header" href="#getcollateralvaluescdp">getCollateralValueSCDP</a></h3>
<p>Get the total collateral deposit value for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getCollateralValueSCDP(address _depositAsset, bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral and debt value.</td></tr>
</tbody></table>
</div>
<h3 id="gettotalcollateralvaluescdp"><a class="header" href="#gettotalcollateralvaluescdp">getTotalCollateralValueSCDP</a></h3>
<p>Get the total collateral value, oracle precision</p>
<pre><code class="language-solidity">function getTotalCollateralValueSCDP(bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral value.</td></tr>
</tbody></table>
</div>
<h3 id="getkreskoassetsscdp"><a class="header" href="#getkreskoassetsscdp">getKreskoAssetsSCDP</a></h3>
<p>Get all pool KreskoAssets</p>
<pre><code class="language-solidity">function getKreskoAssetsSCDP() external view returns (address[] memory);
</code></pre>
<h3 id="getdebtscdp"><a class="header" href="#getdebtscdp">getDebtSCDP</a></h3>
<p>Get the collateral debt amount for <code>_kreskoAsset</code></p>
<pre><code class="language-solidity">function getDebtSCDP(address _kreskoAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The KreskoAsset</td></tr>
</tbody></table>
</div>
<h3 id="getdebtvaluescdp"><a class="header" href="#getdebtvaluescdp">getDebtValueSCDP</a></h3>
<p>Get the debt value for <code>_kreskoAsset</code></p>
<pre><code class="language-solidity">function getDebtValueSCDP(address _kreskoAsset, bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The KreskoAsset</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral and debt value.</td></tr>
</tbody></table>
</div>
<h3 id="gettotaldebtvaluescdp"><a class="header" href="#gettotaldebtvaluescdp">getTotalDebtValueSCDP</a></h3>
<p>Get the total debt value of krAssets in oracle precision</p>
<pre><code class="language-solidity">function getTotalDebtValueSCDP(bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating debt value.</td></tr>
</tbody></table>
</div>
<h3 id="getfeerecipientscdp"><a class="header" href="#getfeerecipientscdp">getFeeRecipientSCDP</a></h3>
<p>Get the swap fee recipient</p>
<pre><code class="language-solidity">function getFeeRecipientSCDP() external view returns (address);
</code></pre>
<h3 id="getassetenabledscdp"><a class="header" href="#getassetenabledscdp">getAssetEnabledSCDP</a></h3>
<p>Get enabled state of asset</p>
<pre><code class="language-solidity">function getAssetEnabledSCDP(address _asset) external view returns (bool);
</code></pre>
<h3 id="getdepositenabledscdp"><a class="header" href="#getdepositenabledscdp">getDepositEnabledSCDP</a></h3>
<pre><code class="language-solidity">function getDepositEnabledSCDP(address _asset) external view returns (bool);
</code></pre>
<h3 id="getswapenabledscdp"><a class="header" href="#getswapenabledscdp">getSwapEnabledSCDP</a></h3>
<p>Get whether swap is enabled from <code>_assetIn</code> to <code>_assetOut</code></p>
<pre><code class="language-solidity">function getSwapEnabledSCDP(address _assetIn, address _assetOut) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIn</code></td><td><code>address</code></td><td>The asset to swap from</td></tr>
<tr><td><code>_assetOut</code></td><td><code>address</code></td><td>The asset to swap to</td></tr>
</tbody></table>
</div>
<h3 id="getcollateralratioscdp"><a class="header" href="#getcollateralratioscdp">getCollateralRatioSCDP</a></h3>
<pre><code class="language-solidity">function getCollateralRatioSCDP() public view returns (uint256);
</code></pre>
<h3 id="getstatisticsscdp"><a class="header" href="#getstatisticsscdp">getStatisticsSCDP</a></h3>
<p>Get pool collateral values and debt values with CR.</p>
<pre><code class="language-solidity">function getStatisticsSCDP() external view returns (GlobalData memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>GlobalData</code></td><td>GlobalData struct</td></tr>
</tbody></table>
</div>
<h3 id="getaccountinfoscdp"><a class="header" href="#getaccountinfoscdp">getAccountInfoSCDP</a></h3>
<pre><code class="language-solidity">function getAccountInfoSCDP(address _account, address[] memory _assets) public view returns (UserData memory result);
</code></pre>
<h3 id="getaccountinfosscdp"><a class="header" href="#getaccountinfosscdp">getAccountInfosSCDP</a></h3>
<pre><code class="language-solidity">function getAccountInfosSCDP(address[] memory _accounts, address[] memory _assets)
    external
    view
    returns (UserData[] memory result);
</code></pre>
<h3 id="getassetinfoscdp"><a class="header" href="#getassetinfoscdp">getAssetInfoSCDP</a></h3>
<pre><code class="language-solidity">function getAssetInfoSCDP(address _asset) public view returns (AssetData memory results);
</code></pre>
<h3 id="getassetinfosscdp"><a class="header" href="#getassetinfosscdp">getAssetInfosSCDP</a></h3>
<pre><code class="language-solidity">function getAssetInfosSCDP(address[] memory _assets) external view returns (AssetData[] memory results);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpswapfacet"><a class="header" href="#scdpswapfacet">SCDPSwapFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/facets/SCDPSwapFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol//src/contracts/core/scdp/interfaces/ISCDPSwapFacet.sol/interface.ISCDPSwapFacet.html">ISCDPSwapFacet</a>, <a href="src/contracts/core/scdp/facets/SCDPSwapFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a></p>
<h2 id="functions-71"><a class="header" href="#functions-71">Functions</a></h2>
<h3 id="cumulateincomescdp"><a class="header" href="#cumulateincomescdp">cumulateIncomeSCDP</a></h3>
<p>Accumulates fees to deposits as a fixed, instantaneous income.</p>
<pre><code class="language-solidity">function cumulateIncomeSCDP(address _depositAssetAddr, uint256 _incomeAmount) external nonReentrant returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_depositAssetAddr</code></td><td><code>address</code></td><td>Deposit asset to give income for</td></tr>
<tr><td><code>_incomeAmount</code></td><td><code>uint256</code></td><td>Amount to accumulate</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>nextLiquidityIndex Next liquidity index for the asset.</td></tr>
</tbody></table>
</div>
<h3 id="previewswapscdp"><a class="header" href="#previewswapscdp">previewSwapSCDP</a></h3>
<p>Preview the amount out received.</p>
<pre><code class="language-solidity">function previewSwapSCDP(address _assetIn, address _assetOut, uint256 _amountIn)
    external
    view
    returns (uint256 amountOut, uint256 feeAmount, uint256 feeAmountProtocol);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIn</code></td><td><code>address</code></td><td>The asset to pay with.</td></tr>
<tr><td><code>_assetOut</code></td><td><code>address</code></td><td>The asset to receive.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of _assetIn to pay.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>The amount of <code>_assetOut</code> to receive according to <code>_amountIn</code>.</td></tr>
<tr><td><code>feeAmount</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>feeAmountProtocol</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="swapscdp"><a class="header" href="#swapscdp">swapSCDP</a></h3>
<p>Swap kresko assets with KISS using the shared collateral pool.
Uses oracle pricing of _amountIn to determine how much _assetOut to send.</p>
<pre><code class="language-solidity">function swapSCDP(address _receiver, address _assetIn, address _assetOut, uint256 _amountIn, uint256 _amountOutMin)
    external
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_assetIn</code></td><td><code>address</code></td><td>The asset to pay with.</td></tr>
<tr><td><code>_assetOut</code></td><td><code>address</code></td><td>The asset to receive.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of _assetIn to pay.</td></tr>
<tr><td><code>_amountOutMin</code></td><td><code>uint256</code></td><td>The minimum amount of _assetOut to receive, this is due to possible oracle price change.</td></tr>
</tbody></table>
</div>
<h3 id="_swap"><a class="header" href="#_swap">_swap</a></h3>
<p>Swaps assets in the collateral pool.</p>
<pre><code class="language-solidity">function _swap(
    address _receiver,
    address _assetInAddr,
    Asset storage _assetIn,
    address _assetOutAddr,
    uint256 _amountIn,
    uint256 _amountOutMin
) private returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>The address to receive the swapped assets.</td></tr>
<tr><td><code>_assetInAddr</code></td><td><code>address</code></td><td>The asset to swap in.</td></tr>
<tr><td><code>_assetIn</code></td><td><code>Asset</code></td><td>The asset in struct.</td></tr>
<tr><td><code>_assetOutAddr</code></td><td><code>address</code></td><td>The asset to swap out.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of <code>_assetIn</code> to swap in.</td></tr>
<tr><td><code>_amountOutMin</code></td><td><code>uint256</code></td><td>The minimum amount of <code>_assetOut</code> to receive.</td></tr>
</tbody></table>
</div>
<h3 id="_swapfeeassetout"><a class="header" href="#_swapfeeassetout">_swapFeeAssetOut</a></h3>
<p>Swaps assets in the collateral pool.</p>
<pre><code class="language-solidity">function _swapFeeAssetOut(
    address _receiver,
    address _assetInAddr,
    Asset storage _assetIn,
    uint256 _amountIn,
    uint256 _amountOutMin
) private returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>The address to receive the swapped assets.</td></tr>
<tr><td><code>_assetInAddr</code></td><td><code>address</code></td><td>The asset to swap in.</td></tr>
<tr><td><code>_assetIn</code></td><td><code>Asset</code></td><td>The asset in struct.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of <code>_assetIn</code> to swap in.</td></tr>
<tr><td><code>_amountOutMin</code></td><td><code>uint256</code></td><td>The minimum amount of <code>_assetOut</code> to receive.</td></tr>
</tbody></table>
</div>
<h3 id="_swaptofeeasset"><a class="header" href="#_swaptofeeasset">_swapToFeeAsset</a></h3>
<p>Swaps assets in the collateral pool.</p>
<pre><code class="language-solidity">function _swapToFeeAsset(
    address _receiver,
    address _assetInAddr,
    Asset storage _assetIn,
    address _assetOutAddr,
    Asset storage _assetOut,
    uint256 _amountIn
) private returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>The address to receive the swapped assets.</td></tr>
<tr><td><code>_assetInAddr</code></td><td><code>address</code></td><td>The asset to swap in.</td></tr>
<tr><td><code>_assetIn</code></td><td><code>Asset</code></td><td>The asset in struct.</td></tr>
<tr><td><code>_assetOutAddr</code></td><td><code>address</code></td><td>The asset to swap out.</td></tr>
<tr><td><code>_assetOut</code></td><td><code>Asset</code></td><td>The asset out struct.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of <code>_assetIn</code> to swap in</td></tr>
</tbody></table>
</div>
<h3 id="_checkandpayfees"><a class="header" href="#_checkandpayfees">_checkAndPayFees</a></h3>
<pre><code class="language-solidity">function _checkAndPayFees(
    address _payAssetAddr,
    Asset storage _payAsset,
    uint256 _amountOut,
    uint256 _amountOutMin,
    uint256 _feeAmount,
    uint256 _protocolFeePct
) private;
</code></pre>
<h3 id="_payswapfees"><a class="header" href="#_payswapfees">_paySwapFees</a></h3>
<pre><code class="language-solidity">function _paySwapFees(
    address _feeAssetAddress,
    Asset storage _feeAsset,
    address _payAssetAddress,
    Asset storage _payAsset,
    uint256 _feeAmount,
    uint256 _protocolFeePct
) private;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getswapfees"><a class="header" href="#getswapfees">getSwapFees</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/facets/SCDPSwapFacet.sol">Git Source</a></p>
<p>Get fee percentage for a swap pair.</p>
<pre><code class="language-solidity">function getSwapFees(Asset storage _assetIn, Asset storage _assetOut)
    view
    returns (uint256 feePercentage, uint256 protocolFee);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feePercentage</code></td><td><code>uint256</code></td><td>fee percentage for this swap</td></tr>
<tr><td><code>protocolFee</code></td><td><code>uint256</code></td><td>protocol fee percentage taken from the fee</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="sdifacet"><a class="header" href="#sdifacet">SDIFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/facets/SDIFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/scdp/facets/SDIFacet.sol//src/contracts/core/scdp/interfaces/ISDIFacet.sol/interface.ISDIFacet.html">ISDIFacet</a>, <a href="src/contracts/core/scdp/facets/SDIFacet.sol//src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/scdp/facets/SDIFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a></p>
<h2 id="functions-72"><a class="header" href="#functions-72">Functions</a></h2>
<h3 id="initialize-6"><a class="header" href="#initialize-6">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address _coverRecipient) external onlyOwner;
</code></pre>
<h3 id="totalsdi"><a class="header" href="#totalsdi">totalSDI</a></h3>
<p>Simply returns the total supply of SDI.</p>
<pre><code class="language-solidity">function totalSDI() external view returns (uint256);
</code></pre>
<h3 id="gettotalsdidebt"><a class="header" href="#gettotalsdidebt">getTotalSDIDebt</a></h3>
<pre><code class="language-solidity">function getTotalSDIDebt() external view returns (uint256);
</code></pre>
<h3 id="geteffectivesdidebt"><a class="header" href="#geteffectivesdidebt">getEffectiveSDIDebt</a></h3>
<pre><code class="language-solidity">function getEffectiveSDIDebt() external view returns (uint256);
</code></pre>
<h3 id="geteffectivesdidebtusd"><a class="header" href="#geteffectivesdidebtusd">getEffectiveSDIDebtUSD</a></h3>
<pre><code class="language-solidity">function getEffectiveSDIDebtUSD() external view returns (uint256);
</code></pre>
<h3 id="getsdicoveramount"><a class="header" href="#getsdicoveramount">getSDICoverAmount</a></h3>
<pre><code class="language-solidity">function getSDICoverAmount() external view returns (uint256);
</code></pre>
<h3 id="previewscdpburn"><a class="header" href="#previewscdpburn">previewSCDPBurn</a></h3>
<pre><code class="language-solidity">function previewSCDPBurn(address _assetAddr, uint256 _burnAmount, bool _ignoreFactors)
    external
    view
    returns (uint256 shares);
</code></pre>
<h3 id="previewscdpmint"><a class="header" href="#previewscdpmint">previewSCDPMint</a></h3>
<pre><code class="language-solidity">function previewSCDPMint(address _assetAddr, uint256 _mintAmount, bool _ignoreFactors)
    external
    view
    returns (uint256 shares);
</code></pre>
<h3 id="getsdiprice"><a class="header" href="#getsdiprice">getSDIPrice</a></h3>
<p>Get the price of SDI in USD, oracle precision.</p>
<pre><code class="language-solidity">function getSDIPrice() external view returns (uint256);
</code></pre>
<h3 id="getcoverassetssdi"><a class="header" href="#getcoverassetssdi">getCoverAssetsSDI</a></h3>
<pre><code class="language-solidity">function getCoverAssetsSDI() external view returns (address[] memory);
</code></pre>
<h3 id="sdicover"><a class="header" href="#sdicover">SDICover</a></h3>
<pre><code class="language-solidity">function SDICover(address _assetAddr, uint256 _amount) external returns (uint256 shares, uint256 value);
</code></pre>
<h3 id="enablecoverassetsdi"><a class="header" href="#enablecoverassetsdi">enableCoverAssetSDI</a></h3>
<pre><code class="language-solidity">function enableCoverAssetSDI(address _assetAddr) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="disablecoverassetsdi"><a class="header" href="#disablecoverassetsdi">disableCoverAssetSDI</a></h3>
<pre><code class="language-solidity">function disableCoverAssetSDI(address _assetAddr) external onlyRole(Role.ADMIN);
</code></pre>
<h3 id="setcoverrecipientsdi"><a class="header" href="#setcoverrecipientsdi">setCoverRecipientSDI</a></h3>
<pre><code class="language-solidity">function setCoverRecipientSDI(address _newCoverRecipient) external onlyRole(Role.ADMIN);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-20"><a class="header" href="#contents-20">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/scdp/funcs/Accounts.sol/library.SAccounts.html">SAccounts</a></li>
<li><a href="src/contracts/core/scdp/funcs/Deposits.sol/library.SDeposits.html">SDeposits</a></li>
<li><a href="src/contracts/core/scdp/funcs/Global.sol/library.SGlobal.html">SGlobal</a></li>
<li><a href="src/contracts/core/scdp/funcs/Helpers.sol/function.totalCollateralValuesSCDP.html">totalCollateralValuesSCDP</a></li>
<li><a href="src/contracts/core/scdp/funcs/Helpers.sol/function.totalDebtValuesAtRatioSCDP.html">totalDebtValuesAtRatioSCDP</a></li>
<li><a href="src/contracts/core/scdp/funcs/Helpers.sol/function.accountDepositAmountsAndValues.html">accountDepositAmountsAndValues</a></li>
<li><a href="src/contracts/core/scdp/funcs/Helpers.sol/function.accountTotalDepositValues.html">accountTotalDepositValues</a></li>
<li><a href="src/contracts/core/scdp/funcs/SDI.sol/library.SDebtIndex.html">SDebtIndex</a></li>
<li><a href="src/contracts/core/scdp/funcs/Swap.sol/library.Swap.html">Swap</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="saccounts"><a class="header" href="#saccounts">SAccounts</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/funcs/Accounts.sol">Git Source</a></p>
<h2 id="functions-73"><a class="header" href="#functions-73">Functions</a></h2>
<h3 id="accountscaleddeposits"><a class="header" href="#accountscaleddeposits">accountScaledDeposits</a></h3>
<p>Get accounts deposit amount that is scaled by the liquidity index.</p>
<p>The liquidity index is updated when: A) Income is accrued B) Liquidation occurs.</p>
<pre><code class="language-solidity">function accountScaledDeposits(SCDPState storage self, address _account, address _assetAddr, Asset storage _asset)
    internal
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the amount for</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Amount of scaled debt.</td></tr>
</tbody></table>
</div>
<h3 id="accountprincipaldeposits"><a class="header" href="#accountprincipaldeposits">accountPrincipalDeposits</a></h3>
<p>Get accounts principal deposits.</p>
<p>Uses scaled deposits if its lower than principal (realizing liquidations).</p>
<pre><code class="language-solidity">function accountPrincipalDeposits(SCDPState storage self, address _account, address _assetAddr, Asset storage _asset)
    internal
    view
    returns (uint256 principalDeposits);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to get the amount for</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The deposit asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The deposit asset struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>principalDeposits</code></td><td><code>uint256</code></td><td>The principal deposit amount for the account.</td></tr>
</tbody></table>
</div>
<h3 id="accounttotaldepositvalue"><a class="header" href="#accounttotaldepositvalue">accountTotalDepositValue</a></h3>
<p>Returns the value of the deposits for <code>_account</code>.</p>
<pre><code class="language-solidity">function accountTotalDepositValue(SCDPState storage self, address _account, bool _ignoreFactors)
    internal
    view
    returns (uint256 totalValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>Account to get total deposit value for</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Whether to ignore cFactor and kFactor</td></tr>
</tbody></table>
</div>
<h3 id="accounttotalscaleddepositsvalue"><a class="header" href="#accounttotalscaleddepositsvalue">accountTotalScaledDepositsValue</a></h3>
<p>Returns the value of the collateral assets in the pool for <code>_account</code> for the scaled deposit amount.</p>
<p>Ignores all factors.</p>
<pre><code class="language-solidity">function accountTotalScaledDepositsValue(SCDPState storage self, address _account)
    internal
    view
    returns (uint256 totalValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>account</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="sdeposits"><a class="header" href="#sdeposits">SDeposits</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/funcs/Deposits.sol">Git Source</a></p>
<h2 id="functions-74"><a class="header" href="#functions-74">Functions</a></h2>
<h3 id="handledepositscdp"><a class="header" href="#handledepositscdp">handleDepositSCDP</a></h3>
<p>Records a deposit of collateral asset.</p>
<p><em>Saves principal, scaled and global deposit amounts.</em></p>
<pre><code class="language-solidity">function handleDepositSCDP(SCDPState storage self, address _account, address _assetAddr, uint256 _amount) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>depositor</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>the deposit asset</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount of collateral asset to deposit</td></tr>
</tbody></table>
</div>
<h3 id="handlewithdrawscdp"><a class="header" href="#handlewithdrawscdp">handleWithdrawSCDP</a></h3>
<p>Records a withdrawal of collateral asset from the SCDP.</p>
<pre><code class="language-solidity">function handleWithdrawSCDP(SCDPState storage self, address _account, address _assetAddr, uint256 _amount)
    internal
    returns (uint256 amountOut, uint256 feesOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The withdrawing account</td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>the deposit asset</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of collateral withdrawn</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>The actual amount of collateral withdrawn</td></tr>
<tr><td><code>feesOut</code></td><td><code>uint256</code></td><td>The fees paid for during the withdrawal</td></tr>
</tbody></table>
</div>
<h3 id="handleseizescdp"><a class="header" href="#handleseizescdp">handleSeizeSCDP</a></h3>
<p>This function seizes collateral from the shared pool</p>
<p>Adjusts all deposits in the case where swap deposits do not cover the amount.</p>
<pre><code class="language-solidity">function handleSeizeSCDP(SCDPState storage self, address _sAssetAddr, Asset storage _sAsset, uint256 _seizeAmount)
    internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_sAssetAddr</code></td><td><code>address</code></td><td>The seized asset address.</td></tr>
<tr><td><code>_sAsset</code></td><td><code>Asset</code></td><td>The asset struct (Asset).</td></tr>
<tr><td><code>_seizeAmount</code></td><td><code>uint256</code></td><td>The seize amount (uint256).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="sglobal"><a class="header" href="#sglobal">SGlobal</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/funcs/Global.sol">Git Source</a></p>
<h2 id="functions-75"><a class="header" href="#functions-75">Functions</a></h2>
<h3 id="checkliquidatablescdp"><a class="header" href="#checkliquidatablescdp">checkLiquidatableSCDP</a></h3>
<p>Checks whether the shared debt pool can be liquidated.</p>
<p>Reverts if collateral value .</p>
<pre><code class="language-solidity">function checkLiquidatableSCDP(SCDPState storage self) internal view;
</code></pre>
<h3 id="checkcoverablescdp"><a class="header" href="#checkcoverablescdp">checkCoverableSCDP</a></h3>
<p>Checks whether the shared debt pool can be liquidated.</p>
<p>Reverts if collateral value .</p>
<pre><code class="language-solidity">function checkCoverableSCDP(SCDPState storage self) internal view;
</code></pre>
<h3 id="checkcollateralvalue"><a class="header" href="#checkcollateralvalue">checkCollateralValue</a></h3>
<p>Checks whether the collateral value is less than minimum required.</p>
<p>Reverts when collateralValue is below minimum required.</p>
<pre><code class="language-solidity">function checkCollateralValue(SCDPState storage self, uint32 _ratio) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Ratio to check in 1e4 percentage precision (uint32).</td></tr>
</tbody></table>
</div>
<h3 id="totaldebtvalueatratioscdp"><a class="header" href="#totaldebtvalueatratioscdp">totalDebtValueAtRatioSCDP</a></h3>
<p>Returns the value of the krAsset held in the pool at a ratio.</p>
<pre><code class="language-solidity">function totalDebtValueAtRatioSCDP(SCDPState storage self, uint32 _ratio, bool _ignorekFactor)
    internal
    view
    returns (uint256 totalValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>Percentage ratio to apply for the value in 1e4 percentage precision (uint32).</td></tr>
<tr><td><code>_ignorekFactor</code></td><td><code>bool</code></td><td>Whether to ignore kFactor</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalValue</code></td><td><code>uint256</code></td><td>Total value in USD</td></tr>
</tbody></table>
</div>
<h3 id="totalcollateralvaluescdp"><a class="header" href="#totalcollateralvaluescdp">totalCollateralValueSCDP</a></h3>
<p>Calculates the total collateral value of collateral assets in the pool.</p>
<pre><code class="language-solidity">function totalCollateralValueSCDP(SCDPState storage self, bool _ignoreFactors)
    internal
    view
    returns (uint256 totalValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Whether to ignore cFactor.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalValue</code></td><td><code>uint256</code></td><td>Total value in USD</td></tr>
</tbody></table>
</div>
<h3 id="totalcollateralvaluescdp-1"><a class="header" href="#totalcollateralvaluescdp-1">totalCollateralValueSCDP</a></h3>
<p>Calculates total collateral value while extracting single asset value.</p>
<pre><code class="language-solidity">function totalCollateralValueSCDP(SCDPState storage self, address _collateralAsset, bool _ignoreFactors)
    internal
    view
    returns (uint256 totalValue, uint256 assetValue);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>Collateral asset to extract value for</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Whether to ignore cFactor.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>totalValue</code></td><td><code>uint256</code></td><td>Total value in USD</td></tr>
<tr><td><code>assetValue</code></td><td><code>uint256</code></td><td>Asset value in USD</td></tr>
</tbody></table>
</div>
<h3 id="totaldepositamount"><a class="header" href="#totaldepositamount">totalDepositAmount</a></h3>
<p>Get pool collateral deposits of an asset.</p>
<pre><code class="language-solidity">function totalDepositAmount(SCDPState storage self, address _assetAddress, Asset storage _asset)
    internal
    view
    returns (uint128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetAddress</code></td><td><code>address</code></td><td>The asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint128</code></td><td>Amount of scaled debt.</td></tr>
</tbody></table>
</div>
<h3 id="userdepositamount"><a class="header" href="#userdepositamount">userDepositAmount</a></h3>
<p>Get pool user collateral deposits of an asset.</p>
<pre><code class="language-solidity">function userDepositAmount(SCDPState storage self, address _assetAddress, Asset storage _asset)
    internal
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetAddress</code></td><td><code>address</code></td><td>The asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>Amount of scaled debt.</td></tr>
</tbody></table>
</div>
<h3 id="swapdepositamount"><a class="header" href="#swapdepositamount">swapDepositAmount</a></h3>
<p>Get &quot;swap&quot; collateral deposits.</p>
<pre><code class="language-solidity">function swapDepositAmount(SCDPState storage self, address _assetAddress, Asset storage _asset)
    internal
    view
    returns (uint128);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetAddress</code></td><td><code>address</code></td><td>The asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint128</code></td><td>Amount of debt.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="totalcollateralvaluesscdp"><a class="header" href="#totalcollateralvaluesscdp">totalCollateralValuesSCDP</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/funcs/Helpers.sol">Git Source</a></p>
<p>Calculates the total collateral value of collateral assets in the pool.</p>
<pre><code class="language-solidity">function totalCollateralValuesSCDP() view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>in USD</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>Value adjusted by cFactors in USD</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="totaldebtvaluesatratioscdp"><a class="header" href="#totaldebtvaluesatratioscdp">totalDebtValuesAtRatioSCDP</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/funcs/Helpers.sol">Git Source</a></p>
<p>Returns the values of the krAsset held in the pool at a ratio.</p>
<pre><code class="language-solidity">function totalDebtValuesAtRatioSCDP(uint32 _ratio) view returns (uint256 value, uint256 valueAdjusted);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ratio</code></td><td><code>uint32</code></td><td>ratio</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>value</code></td><td><code>uint256</code></td><td>in USD</td></tr>
<tr><td><code>valueAdjusted</code></td><td><code>uint256</code></td><td>Value adjusted by kFactors in USD</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="accountdepositamountsandvalues"><a class="header" href="#accountdepositamountsandvalues">accountDepositAmountsAndValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/funcs/Helpers.sol">Git Source</a></p>
<pre><code class="language-solidity">function accountDepositAmountsAndValues(address _account, address _assetAddr)
    view
    returns (UserAssetData memory result);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="accounttotaldepositvalues"><a class="header" href="#accounttotaldepositvalues">accountTotalDepositValues</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/funcs/Helpers.sol">Git Source</a></p>
<pre><code class="language-solidity">function accountTotalDepositValues(address _account, address[] memory _assetData)
    view
    returns (uint256 totalValue, uint256 totalScaledValue, UserAssetData[] memory datas);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sdebtindex"><a class="header" href="#sdebtindex">SDebtIndex</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/funcs/SDI.sol">Git Source</a></p>
<h2 id="functions-76"><a class="header" href="#functions-76">Functions</a></h2>
<h3 id="valuetosdi"><a class="header" href="#valuetosdi">valueToSDI</a></h3>
<pre><code class="language-solidity">function valueToSDI(uint256 valueIn, uint8 oracleDecimals) internal view returns (uint256);
</code></pre>
<h3 id="cover"><a class="header" href="#cover">cover</a></h3>
<p>Cover by pulling assets.</p>
<pre><code class="language-solidity">function cover(SDIState storage self, address coverAssetAddr, uint256 amount)
    internal
    returns (uint256 shares, uint256 value);
</code></pre>
<h3 id="effectivedebt"><a class="header" href="#effectivedebt">effectiveDebt</a></h3>
<p>Returns the total effective debt amount of the SCDP.</p>
<pre><code class="language-solidity">function effectiveDebt(SDIState storage self) internal view returns (uint256);
</code></pre>
<h3 id="effectivedebtvalue"><a class="header" href="#effectivedebtvalue">effectiveDebtValue</a></h3>
<p>Returns the total effective debt value of the SCDP.</p>
<pre><code class="language-solidity">function effectiveDebtValue(SDIState storage self) internal view returns (uint256);
</code></pre>
<h3 id="totalcoveramount"><a class="header" href="#totalcoveramount">totalCoverAmount</a></h3>
<pre><code class="language-solidity">function totalCoverAmount(SDIState storage self) internal view returns (uint256);
</code></pre>
<h3 id="totalcovervalue"><a class="header" href="#totalcovervalue">totalCoverValue</a></h3>
<p>Gets the total cover debt value, oracle precision</p>
<pre><code class="language-solidity">function totalCoverValue(SDIState storage self) internal view returns (uint256 result);
</code></pre>
<h3 id="totalsdi-1"><a class="header" href="#totalsdi-1">totalSDI</a></h3>
<p>Simply returns the total supply of SDI.</p>
<pre><code class="language-solidity">function totalSDI(SDIState storage self) internal view returns (uint256);
</code></pre>
<h3 id="coverassetvalue"><a class="header" href="#coverassetvalue">coverAssetValue</a></h3>
<p>Get total deposit value of <code>asset</code> in USD, oracle precision.</p>
<pre><code class="language-solidity">function coverAssetValue(SDIState storage self, address _assetAddr) internal view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="swap"><a class="header" href="#swap">Swap</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/funcs/Swap.sol">Git Source</a></p>
<h2 id="functions-77"><a class="header" href="#functions-77">Functions</a></h2>
<h3 id="handleassetsin"><a class="header" href="#handleassetsin">handleAssetsIn</a></h3>
<p>Records the assets received from account in a swap.
Burning any existing shared debt or increasing collateral deposits.</p>
<pre><code class="language-solidity">function handleAssetsIn(
    SCDPState storage self,
    address _assetInAddr,
    Asset storage _assetIn,
    uint256 _amountIn,
    address _assetsFrom
) internal returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetInAddr</code></td><td><code>address</code></td><td>The asset received.</td></tr>
<tr><td><code>_assetIn</code></td><td><code>Asset</code></td><td>The asset in struct.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of the asset received.</td></tr>
<tr><td><code>_assetsFrom</code></td><td><code>address</code></td><td>The account that holds the assets to burn.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The value of the assets received into the protocol, used to calculate assets out.</td></tr>
</tbody></table>
</div>
<h3 id="handleassetsout"><a class="header" href="#handleassetsout">handleAssetsOut</a></h3>
<p>Records the assets to send out in a swap.
Increasing debt of the pool by minting new assets when required.</p>
<pre><code class="language-solidity">function handleAssetsOut(
    SCDPState storage self,
    address _assetOutAddr,
    Asset storage _assetOut,
    uint256 _valueIn,
    address _assetsTo
) internal returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetOutAddr</code></td><td><code>address</code></td><td>The asset to send out.</td></tr>
<tr><td><code>_assetOut</code></td><td><code>Asset</code></td><td>The asset out struct.</td></tr>
<tr><td><code>_valueIn</code></td><td><code>uint256</code></td><td>The value received in.</td></tr>
<tr><td><code>_assetsTo</code></td><td><code>address</code></td><td>The asset receiver.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>The amount of the asset out.</td></tr>
</tbody></table>
</div>
<h3 id="cumulateincome"><a class="header" href="#cumulateincome">cumulateIncome</a></h3>
<p>Accumulates fees to deposits as a fixed, instantaneous income.</p>
<pre><code class="language-solidity">function cumulateIncome(SCDPState storage self, address _assetAddr, Asset storage _asset, uint256 _amount)
    internal
    returns (uint256 nextLiquidityIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>SCDPState</code></td><td></td></tr>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>The asset address</td></tr>
<tr><td><code>_asset</code></td><td><code>Asset</code></td><td>The asset struct</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to accumulate</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>nextLiquidityIndex</code></td><td><code>uint256</code></td><td>The next liquidity index of the reserve</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-21"><a class="header" href="#contents-21">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/scdp/interfaces/ISCDPConfigFacet.sol/interface.ISCDPConfigFacet.html">ISCDPConfigFacet</a></li>
<li><a href="src/contracts/core/scdp/interfaces/ISCDPFacet.sol/interface.ISCDPFacet.html">ISCDPFacet</a></li>
<li><a href="src/contracts/core/scdp/interfaces/ISCDPStateFacet.sol/interface.ISCDPStateFacet.html">ISCDPStateFacet</a></li>
<li><a href="src/contracts/core/scdp/interfaces/ISCDPSwapFacet.sol/interface.ISCDPSwapFacet.html">ISCDPSwapFacet</a></li>
<li><a href="src/contracts/core/scdp/interfaces/ISDIFacet.sol/interface.ISDIFacet.html">ISDIFacet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iscdpconfigfacet"><a class="header" href="#iscdpconfigfacet">ISCDPConfigFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/interfaces/ISCDPConfigFacet.sol">Git Source</a></p>
<h2 id="functions-78"><a class="header" href="#functions-78">Functions</a></h2>
<h3 id="initializescdp-1"><a class="header" href="#initializescdp-1">initializeSCDP</a></h3>
<p>Initialize SCDP.
Callable by diamond owner only.</p>
<pre><code class="language-solidity">function initializeSCDP(SCDPInitArgs memory _init) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_init</code></td><td><code>SCDPInitArgs</code></td><td>The initial configuration.</td></tr>
</tbody></table>
</div>
<h3 id="getcurrentparametersscdp-1"><a class="header" href="#getcurrentparametersscdp-1">getCurrentParametersSCDP</a></h3>
<p>Get the pool configuration.</p>
<pre><code class="language-solidity">function getCurrentParametersSCDP() external view returns (SCDPInitArgs memory);
</code></pre>
<h3 id="setfeeassetscdp-1"><a class="header" href="#setfeeassetscdp-1">setFeeAssetSCDP</a></h3>
<pre><code class="language-solidity">function setFeeAssetSCDP(address asset) external;
</code></pre>
<h3 id="setmincollateralratioscdp-1"><a class="header" href="#setmincollateralratioscdp-1">setMinCollateralRatioSCDP</a></h3>
<p>Set the pool minimum collateralization ratio.</p>
<pre><code class="language-solidity">function setMinCollateralRatioSCDP(uint32 _mcr) external;
</code></pre>
<h3 id="setliquidationthresholdscdp-1"><a class="header" href="#setliquidationthresholdscdp-1">setLiquidationThresholdSCDP</a></h3>
<p>Set the pool liquidation threshold.</p>
<pre><code class="language-solidity">function setLiquidationThresholdSCDP(uint32 _lt) external;
</code></pre>
<h3 id="setmaxliquidationratioscdp-1"><a class="header" href="#setmaxliquidationratioscdp-1">setMaxLiquidationRatioSCDP</a></h3>
<p>Set the pool max liquidation ratio.</p>
<pre><code class="language-solidity">function setMaxLiquidationRatioSCDP(uint32 _mlr) external;
</code></pre>
<h3 id="updateliquidationincentivescdp-1"><a class="header" href="#updateliquidationincentivescdp-1">updateLiquidationIncentiveSCDP</a></h3>
<p>Set the @param _newliqIncentive for @param _krAsset.</p>
<pre><code class="language-solidity">function updateLiquidationIncentiveSCDP(address _krAsset, uint16 _newLiquidationIncentive) external;
</code></pre>
<h3 id="updatedepositlimitscdp-1"><a class="header" href="#updatedepositlimitscdp-1">updateDepositLimitSCDP</a></h3>
<p>Update the deposit asset limit configuration.
Only callable by admin.</p>
<pre><code class="language-solidity">function updateDepositLimitSCDP(address _asset, uint128 _newDepositLimit) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>The Collateral asset to update</td></tr>
<tr><td><code>_newDepositLimit</code></td><td><code>uint128</code></td><td>The new deposit limit for the collateral emits PoolCollateralUpdated</td></tr>
</tbody></table>
</div>
<h3 id="setdepositassetscdp-1"><a class="header" href="#setdepositassetscdp-1">setDepositAssetSCDP</a></h3>
<p>Disable or enable a deposit asset. Reverts if invalid asset.
Only callable by admin.</p>
<pre><code class="language-solidity">function setDepositAssetSCDP(address _assetAddr, bool _enabled) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to set.</td></tr>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>Whether to enable or disable the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setcollateralscdp-1"><a class="header" href="#setcollateralscdp-1">setCollateralSCDP</a></h3>
<p>Disable or enable asset from collateral value calculations.
Reverts if invalid asset and if disabling asset that has user deposits.
Only callable by admin.</p>
<pre><code class="language-solidity">function setCollateralSCDP(address _assetAddr, bool _enabled) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to set.</td></tr>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>Whether to enable or disable the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setkrassetscdp-1"><a class="header" href="#setkrassetscdp-1">setKrAssetSCDP</a></h3>
<p>Disable or enable a kresko asset in SCDP.
Reverts if invalid asset. Enabling will also add it to collateral value calculations.
Only callable by admin.</p>
<pre><code class="language-solidity">function setKrAssetSCDP(address _assetAddr, bool _enabled) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetAddr</code></td><td><code>address</code></td><td>Asset to set.</td></tr>
<tr><td><code>_enabled</code></td><td><code>bool</code></td><td>Whether to enable or disable the asset.</td></tr>
</tbody></table>
</div>
<h3 id="setswappairs-1"><a class="header" href="#setswappairs-1">setSwapPairs</a></h3>
<p>Set whether pairs are enabled or not. Both ways.
Only callable by admin.</p>
<pre><code class="language-solidity">function setSwapPairs(PairSetter[] calldata _setters) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_setters</code></td><td><code>PairSetter[]</code></td><td>The configurations to set.</td></tr>
</tbody></table>
</div>
<h3 id="setswappairssingle-1"><a class="header" href="#setswappairssingle-1">setSwapPairsSingle</a></h3>
<p>Set whether a swap pair is enabled or not.
Only callable by admin.</p>
<pre><code class="language-solidity">function setSwapPairsSingle(PairSetter calldata _setter) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_setter</code></td><td><code>PairSetter</code></td><td>The configuration to set</td></tr>
</tbody></table>
</div>
<h3 id="setswapfee-1"><a class="header" href="#setswapfee-1">setSwapFee</a></h3>
<p>Sets the fees for a kresko asset</p>
<p><em>Only callable by admin.</em></p>
<pre><code class="language-solidity">function setSwapFee(address _krAsset, uint16 _openFee, uint16 _closeFee, uint16 _protocolFee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_krAsset</code></td><td><code>address</code></td><td>The kresko asset to set fees for.</td></tr>
<tr><td><code>_openFee</code></td><td><code>uint16</code></td><td>The new open fee.</td></tr>
<tr><td><code>_closeFee</code></td><td><code>uint16</code></td><td>The new close fee.</td></tr>
<tr><td><code>_protocolFee</code></td><td><code>uint16</code></td><td>The protocol fee share.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iscdpfacet"><a class="header" href="#iscdpfacet">ISCDPFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/interfaces/ISCDPFacet.sol">Git Source</a></p>
<h2 id="functions-79"><a class="header" href="#functions-79">Functions</a></h2>
<h3 id="depositscdp-1"><a class="header" href="#depositscdp-1">depositSCDP</a></h3>
<p>Deposit collateral for account to the collateral pool.</p>
<pre><code class="language-solidity">function depositSCDP(address _account, address _collateralAsset, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to deposit for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to deposit.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to deposit.</td></tr>
</tbody></table>
</div>
<h3 id="withdrawscdp-1"><a class="header" href="#withdrawscdp-1">withdrawSCDP</a></h3>
<p>Withdraw collateral for account from the collateral pool.</p>
<pre><code class="language-solidity">function withdrawSCDP(address _account, address _collateralAsset, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to withdraw for.</td></tr>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset to withdraw.</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount to withdraw.</td></tr>
</tbody></table>
</div>
<h3 id="repayscdp-1"><a class="header" href="#repayscdp-1">repaySCDP</a></h3>
<p>Repay debt for no fees or slippage.</p>
<p>Only uses swap deposits, if none available, reverts.</p>
<pre><code class="language-solidity">function repaySCDP(address _repayAssetAddr, uint256 _repayAmount, address _seizeAssetAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>The asset to repay the debt in.</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>The amount of the asset to repay the debt with.</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>The collateral asset to seize.</td></tr>
</tbody></table>
</div>
<h3 id="liquidatescdp-1"><a class="header" href="#liquidatescdp-1">liquidateSCDP</a></h3>
<p>Liquidate the collateral pool.</p>
<p>Adjusts everyones deposits if swap deposits do not cover the seized amount.</p>
<pre><code class="language-solidity">function liquidateSCDP(address _repayAssetAddr, uint256 _repayAmount, address _seizeAssetAddr) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>The asset to repay the debt in.</td></tr>
<tr><td><code>_repayAmount</code></td><td><code>uint256</code></td><td>The amount of the asset to repay the debt with.</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>The collateral asset to seize.</td></tr>
</tbody></table>
</div>
<h3 id="getmaxliqvaluescdp-1"><a class="header" href="#getmaxliqvaluescdp-1">getMaxLiqValueSCDP</a></h3>
<p><em>Calculates the total value that is allowed to be liquidated from SCDP (if it is liquidatable)</em></p>
<pre><code class="language-solidity">function getMaxLiqValueSCDP(address _repayAssetAddr, address _seizeAssetAddr)
    external
    view
    returns (MaxLiqInfo memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_repayAssetAddr</code></td><td><code>address</code></td><td>Address of Kresko Asset to repay</td></tr>
<tr><td><code>_seizeAssetAddr</code></td><td><code>address</code></td><td>Address of Collateral to seize</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MaxLiqInfo</code></td><td>MaxLiqInfo Calculated information about the maximum liquidation.</td></tr>
</tbody></table>
</div>
<h3 id="getliquidatablescdp-1"><a class="header" href="#getliquidatablescdp-1">getLiquidatableSCDP</a></h3>
<pre><code class="language-solidity">function getLiquidatableSCDP() external view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iscdpstatefacet"><a class="header" href="#iscdpstatefacet">ISCDPStateFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/interfaces/ISCDPStateFacet.sol">Git Source</a></p>
<h2 id="functions-80"><a class="header" href="#functions-80">Functions</a></h2>
<h3 id="getaccountscaleddepositsscdp-1"><a class="header" href="#getaccountscaleddepositsscdp-1">getAccountScaledDepositsSCDP</a></h3>
<p>Get the collateral pool deposit balance of <code>_account</code>. Including fees.</p>
<pre><code class="language-solidity">function getAccountScaledDepositsSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountdepositscdp-1"><a class="header" href="#getaccountdepositscdp-1">getAccountDepositSCDP</a></h3>
<p>Get the total collateral principal deposits for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountDepositSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccountdepositfeesgainedscdp-1"><a class="header" href="#getaccountdepositfeesgainedscdp-1">getAccountDepositFeesGainedSCDP</a></h3>
<pre><code class="language-solidity">function getAccountDepositFeesGainedSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<h3 id="getaccountdepositvaluescdp-1"><a class="header" href="#getaccountdepositvaluescdp-1">getAccountDepositValueSCDP</a></h3>
<p>Get the (principal) deposit value for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountDepositValueSCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The deposit asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccountscaleddepositvaluecdp-1"><a class="header" href="#getaccountscaleddepositvaluecdp-1">getAccountScaledDepositValueCDP</a></h3>
<p>Get the full value of account and fees for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountScaledDepositValueCDP(address _account, address _depositAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotaldepositsvaluescdp-1"><a class="header" href="#getaccounttotaldepositsvaluescdp-1">getAccountTotalDepositsValueSCDP</a></h3>
<p>Get the total collateral deposit value for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountTotalDepositsValueSCDP(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
</tbody></table>
</div>
<h3 id="getaccounttotalscaleddepositsvaluescdp-1"><a class="header" href="#getaccounttotalscaleddepositsvaluescdp-1">getAccountTotalScaledDepositsValueSCDP</a></h3>
<p>Get the full value of account and fees for <code>_account</code></p>
<pre><code class="language-solidity">function getAccountTotalScaledDepositsValueSCDP(address _account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account.</td></tr>
</tbody></table>
</div>
<h3 id="getdepositassetsscdp-1"><a class="header" href="#getdepositassetsscdp-1">getDepositAssetsSCDP</a></h3>
<p>Get all pool CollateralAssets</p>
<pre><code class="language-solidity">function getDepositAssetsSCDP() external view returns (address[] memory);
</code></pre>
<h3 id="getdepositsscdp-1"><a class="header" href="#getdepositsscdp-1">getDepositsSCDP</a></h3>
<p>Get the total collateral deposits for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getDepositsSCDP(address _collateralAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getswapdepositsscdp-1"><a class="header" href="#getswapdepositsscdp-1">getSwapDepositsSCDP</a></h3>
<p>Get the total collateral swap deposits for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getSwapDepositsSCDP(address _collateralAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_collateralAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
</tbody></table>
</div>
<h3 id="getcollateralvaluescdp-1"><a class="header" href="#getcollateralvaluescdp-1">getCollateralValueSCDP</a></h3>
<p>Get the total collateral deposit value for <code>_collateralAsset</code></p>
<pre><code class="language-solidity">function getCollateralValueSCDP(address _depositAsset, bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_depositAsset</code></td><td><code>address</code></td><td>The collateral asset</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral and debt value.</td></tr>
</tbody></table>
</div>
<h3 id="gettotalcollateralvaluescdp-1"><a class="header" href="#gettotalcollateralvaluescdp-1">getTotalCollateralValueSCDP</a></h3>
<p>Get the total collateral value, oracle precision</p>
<pre><code class="language-solidity">function getTotalCollateralValueSCDP(bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral value.</td></tr>
</tbody></table>
</div>
<h3 id="getkreskoassetsscdp-1"><a class="header" href="#getkreskoassetsscdp-1">getKreskoAssetsSCDP</a></h3>
<p>Get all pool KreskoAssets</p>
<pre><code class="language-solidity">function getKreskoAssetsSCDP() external view returns (address[] memory);
</code></pre>
<h3 id="getdebtscdp-1"><a class="header" href="#getdebtscdp-1">getDebtSCDP</a></h3>
<p>Get the collateral debt amount for <code>_kreskoAsset</code></p>
<pre><code class="language-solidity">function getDebtSCDP(address _kreskoAsset) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The KreskoAsset</td></tr>
</tbody></table>
</div>
<h3 id="getdebtvaluescdp-1"><a class="header" href="#getdebtvaluescdp-1">getDebtValueSCDP</a></h3>
<p>Get the debt value for <code>_kreskoAsset</code></p>
<pre><code class="language-solidity">function getDebtValueSCDP(address _kreskoAsset, bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_kreskoAsset</code></td><td><code>address</code></td><td>The KreskoAsset</td></tr>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating collateral and debt value.</td></tr>
</tbody></table>
</div>
<h3 id="gettotaldebtvaluescdp-1"><a class="header" href="#gettotaldebtvaluescdp-1">getTotalDebtValueSCDP</a></h3>
<p>Get the total debt value of krAssets in oracle precision</p>
<pre><code class="language-solidity">function getTotalDebtValueSCDP(bool _ignoreFactors) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_ignoreFactors</code></td><td><code>bool</code></td><td>Ignore factors when calculating debt value.</td></tr>
</tbody></table>
</div>
<h3 id="getfeerecipientscdp-1"><a class="header" href="#getfeerecipientscdp-1">getFeeRecipientSCDP</a></h3>
<p>Get the swap fee recipient</p>
<pre><code class="language-solidity">function getFeeRecipientSCDP() external view returns (address);
</code></pre>
<h3 id="getassetenabledscdp-1"><a class="header" href="#getassetenabledscdp-1">getAssetEnabledSCDP</a></h3>
<p>Get enabled state of asset</p>
<pre><code class="language-solidity">function getAssetEnabledSCDP(address _asset) external view returns (bool);
</code></pre>
<h3 id="getswapenabledscdp-1"><a class="header" href="#getswapenabledscdp-1">getSwapEnabledSCDP</a></h3>
<p>Get whether swap is enabled from <code>_assetIn</code> to <code>_assetOut</code></p>
<pre><code class="language-solidity">function getSwapEnabledSCDP(address _assetIn, address _assetOut) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIn</code></td><td><code>address</code></td><td>The asset to swap from</td></tr>
<tr><td><code>_assetOut</code></td><td><code>address</code></td><td>The asset to swap to</td></tr>
</tbody></table>
</div>
<h3 id="getcollateralratioscdp-1"><a class="header" href="#getcollateralratioscdp-1">getCollateralRatioSCDP</a></h3>
<pre><code class="language-solidity">function getCollateralRatioSCDP() external view returns (uint256);
</code></pre>
<h3 id="getstatisticsscdp-1"><a class="header" href="#getstatisticsscdp-1">getStatisticsSCDP</a></h3>
<p>Get pool collateral values and debt values with CR.</p>
<pre><code class="language-solidity">function getStatisticsSCDP() external view returns (GlobalData memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>GlobalData</code></td><td>GlobalData struct</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iscdpswapfacet"><a class="header" href="#iscdpswapfacet">ISCDPSwapFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/interfaces/ISCDPSwapFacet.sol">Git Source</a></p>
<h2 id="functions-81"><a class="header" href="#functions-81">Functions</a></h2>
<h3 id="previewswapscdp-1"><a class="header" href="#previewswapscdp-1">previewSwapSCDP</a></h3>
<p>Preview the amount out received.</p>
<pre><code class="language-solidity">function previewSwapSCDP(address _assetIn, address _assetOut, uint256 _amountIn)
    external
    view
    returns (uint256 amountOut, uint256 feeAmount, uint256 protocolFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_assetIn</code></td><td><code>address</code></td><td>The asset to pay with.</td></tr>
<tr><td><code>_assetOut</code></td><td><code>address</code></td><td>The asset to receive.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of _assetIn to pay.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>The amount of <code>_assetOut</code> to receive according to <code>_amountIn</code>.</td></tr>
<tr><td><code>feeAmount</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>protocolFee</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="swapscdp-1"><a class="header" href="#swapscdp-1">swapSCDP</a></h3>
<p>Swap kresko assets with KISS using the shared collateral pool.
Uses oracle pricing of _amountIn to determine how much _assetOut to send.</p>
<pre><code class="language-solidity">function swapSCDP(address _account, address _assetIn, address _assetOut, uint256 _amountIn, uint256 _amountOutMin)
    external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The receiver of amount out.</td></tr>
<tr><td><code>_assetIn</code></td><td><code>address</code></td><td>The asset to pay with.</td></tr>
<tr><td><code>_assetOut</code></td><td><code>address</code></td><td>The asset to receive.</td></tr>
<tr><td><code>_amountIn</code></td><td><code>uint256</code></td><td>The amount of _assetIn to pay.</td></tr>
<tr><td><code>_amountOutMin</code></td><td><code>uint256</code></td><td>The minimum amount of _assetOut to receive, this is due to possible oracle price change.</td></tr>
</tbody></table>
</div>
<h3 id="cumulateincomescdp-1"><a class="header" href="#cumulateincomescdp-1">cumulateIncomeSCDP</a></h3>
<p>Accumulates fees to deposits as a fixed, instantaneous income.</p>
<pre><code class="language-solidity">function cumulateIncomeSCDP(address _depositAssetAddr, uint256 _incomeAmount)
    external
    returns (uint256 nextLiquidityIndex);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_depositAssetAddr</code></td><td><code>address</code></td><td>Deposit asset to give income for</td></tr>
<tr><td><code>_incomeAmount</code></td><td><code>uint256</code></td><td>Amount to accumulate</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>nextLiquidityIndex</code></td><td><code>uint256</code></td><td>Next liquidity index for the asset.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="isdifacet"><a class="header" href="#isdifacet">ISDIFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/interfaces/ISDIFacet.sol">Git Source</a></p>
<h2 id="functions-82"><a class="header" href="#functions-82">Functions</a></h2>
<h3 id="initialize-7"><a class="header" href="#initialize-7">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address coverRecipient) external;
</code></pre>
<h3 id="gettotalsdidebt-1"><a class="header" href="#gettotalsdidebt-1">getTotalSDIDebt</a></h3>
<pre><code class="language-solidity">function getTotalSDIDebt() external view returns (uint256);
</code></pre>
<h3 id="geteffectivesdidebtusd-1"><a class="header" href="#geteffectivesdidebtusd-1">getEffectiveSDIDebtUSD</a></h3>
<pre><code class="language-solidity">function getEffectiveSDIDebtUSD() external view returns (uint256);
</code></pre>
<h3 id="geteffectivesdidebt-1"><a class="header" href="#geteffectivesdidebt-1">getEffectiveSDIDebt</a></h3>
<pre><code class="language-solidity">function getEffectiveSDIDebt() external view returns (uint256);
</code></pre>
<h3 id="getsdicoveramount-1"><a class="header" href="#getsdicoveramount-1">getSDICoverAmount</a></h3>
<pre><code class="language-solidity">function getSDICoverAmount() external view returns (uint256);
</code></pre>
<h3 id="previewscdpburn-1"><a class="header" href="#previewscdpburn-1">previewSCDPBurn</a></h3>
<pre><code class="language-solidity">function previewSCDPBurn(address _asset, uint256 _burnAmount, bool _ignoreFactors)
    external
    view
    returns (uint256 shares);
</code></pre>
<h3 id="previewscdpmint-1"><a class="header" href="#previewscdpmint-1">previewSCDPMint</a></h3>
<pre><code class="language-solidity">function previewSCDPMint(address _asset, uint256 _mintAmount, bool _ignoreFactors)
    external
    view
    returns (uint256 shares);
</code></pre>
<h3 id="totalsdi-2"><a class="header" href="#totalsdi-2">totalSDI</a></h3>
<p>Simply returns the total supply of SDI.</p>
<pre><code class="language-solidity">function totalSDI() external view returns (uint256);
</code></pre>
<h3 id="getsdiprice-1"><a class="header" href="#getsdiprice-1">getSDIPrice</a></h3>
<p>Get the price of SDI in USD, oracle precision.</p>
<pre><code class="language-solidity">function getSDIPrice() external view returns (uint256);
</code></pre>
<h3 id="sdicover-1"><a class="header" href="#sdicover-1">SDICover</a></h3>
<pre><code class="language-solidity">function SDICover(address _asset, uint256 _amount) external returns (uint256 shares, uint256 value);
</code></pre>
<h3 id="enablecoverassetsdi-1"><a class="header" href="#enablecoverassetsdi-1">enableCoverAssetSDI</a></h3>
<pre><code class="language-solidity">function enableCoverAssetSDI(address _asset) external;
</code></pre>
<h3 id="disablecoverassetsdi-1"><a class="header" href="#disablecoverassetsdi-1">disableCoverAssetSDI</a></h3>
<pre><code class="language-solidity">function disableCoverAssetSDI(address _asset) external;
</code></pre>
<h3 id="setcoverrecipientsdi-1"><a class="header" href="#setcoverrecipientsdi-1">setCoverRecipientSDI</a></h3>
<pre><code class="language-solidity">function setCoverRecipientSDI(address _coverRecipient) external;
</code></pre>
<h3 id="getcoverassetssdi-1"><a class="header" href="#getcoverassetssdi-1">getCoverAssetsSDI</a></h3>
<pre><code class="language-solidity">function getCoverAssetsSDI() external view returns (address[] memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sevent"><a class="header" href="#sevent">SEvent</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/Events.sol">Git Source</a></p>
<h2 id="events-5"><a class="header" href="#events-5">Events</a></h2>
<h3 id="scdpdeposit"><a class="header" href="#scdpdeposit">SCDPDeposit</a></h3>
<pre><code class="language-solidity">event SCDPDeposit(address indexed depositor, address indexed collateralAsset, uint256 amount);
</code></pre>
<h3 id="scdpwithdraw"><a class="header" href="#scdpwithdraw">SCDPWithdraw</a></h3>
<pre><code class="language-solidity">event SCDPWithdraw(address indexed withdrawer, address indexed collateralAsset, uint256 amount, uint256 feeAmount);
</code></pre>
<h3 id="scdprepay"><a class="header" href="#scdprepay">SCDPRepay</a></h3>
<pre><code class="language-solidity">event SCDPRepay(
    address indexed repayer,
    address indexed repayKreskoAsset,
    uint256 repayAmount,
    address indexed receiveKreskoAsset,
    uint256 receiveAmount
);
</code></pre>
<h3 id="scdpliquidationoccured"><a class="header" href="#scdpliquidationoccured">SCDPLiquidationOccured</a></h3>
<pre><code class="language-solidity">event SCDPLiquidationOccured(
    address indexed liquidator,
    address indexed repayKreskoAsset,
    uint256 repayAmount,
    address indexed seizeCollateral,
    uint256 seizeAmount
);
</code></pre>
<h3 id="pairset"><a class="header" href="#pairset">PairSet</a></h3>
<pre><code class="language-solidity">event PairSet(address indexed assetIn, address indexed assetOut, bool enabled);
</code></pre>
<h3 id="feeset"><a class="header" href="#feeset">FeeSet</a></h3>
<pre><code class="language-solidity">event FeeSet(address indexed _asset, uint256 openFee, uint256 closeFee, uint256 protocolFee);
</code></pre>
<h3 id="scdpcollateralupdated"><a class="header" href="#scdpcollateralupdated">SCDPCollateralUpdated</a></h3>
<pre><code class="language-solidity">event SCDPCollateralUpdated(address indexed _asset, uint256 liquidationThreshold);
</code></pre>
<h3 id="scdpkrassetupdated"><a class="header" href="#scdpkrassetupdated">SCDPKrAssetUpdated</a></h3>
<pre><code class="language-solidity">event SCDPKrAssetUpdated(
    address indexed _asset, uint64 openFee, uint64 closeFee, uint128 protocolFee, uint256 supplyLimit
);
</code></pre>
<h3 id="swap-1"><a class="header" href="#swap-1">Swap</a></h3>
<pre><code class="language-solidity">event Swap(address indexed who, address indexed assetIn, address indexed assetOut, uint256 amountIn, uint256 amountOut);
</code></pre>
<h3 id="swapfee"><a class="header" href="#swapfee">SwapFee</a></h3>
<pre><code class="language-solidity">event SwapFee(address indexed feeAsset, address indexed assetIn, uint256 feeAmount, uint256 protocolFeeAmount);
</code></pre>
<h3 id="income"><a class="header" href="#income">Income</a></h3>
<pre><code class="language-solidity">event Income(address asset, uint256 amount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sdicoverrecipient"><a class="header" href="#sdicoverrecipient">SDICoverRecipient</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/SDICoverRecipient.sol">Git Source</a></p>
<h2 id="state-variables-13"><a class="header" href="#state-variables-13">State Variables</a></h2>
<h3 id="owner-2"><a class="header" href="#owner-2">owner</a></h3>
<pre><code class="language-solidity">address public owner;
</code></pre>
<h3 id="pendingowner-2"><a class="header" href="#pendingowner-2">pendingOwner</a></h3>
<pre><code class="language-solidity">address public pendingOwner;
</code></pre>
<h2 id="functions-83"><a class="header" href="#functions-83">Functions</a></h2>
<h3 id="constructor-3"><a class="header" href="#constructor-3">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _owner);
</code></pre>
<h3 id="withdraw-6"><a class="header" href="#withdraw-6">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(address token, address recipient, uint256 amount) external;
</code></pre>
<h3 id="changeowner"><a class="header" href="#changeowner">changeOwner</a></h3>
<pre><code class="language-solidity">function changeOwner(address _owner) external;
</code></pre>
<h3 id="acceptownership-2"><a class="header" href="#acceptownership-2">acceptOwnership</a></h3>
<pre><code class="language-solidity">function acceptOwnership(address _owner) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpstate"><a class="header" href="#scdpstate">SCDPState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/State.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<pre><code class="language-solidity">struct SCDPState {
    address[] collaterals;
    address[] krAssets;
    mapping(address =&gt; mapping(address =&gt; bool)) isSwapEnabled;
    mapping(address =&gt; bool) isEnabled;
    mapping(address =&gt; SCDPAssetData) assetData;
    mapping(address =&gt; mapping(address =&gt; uint256)) deposits;
    mapping(address =&gt; mapping(address =&gt; uint256)) depositsPrincipal;
    address feeAsset;
    uint32 minCollateralRatio;
    uint32 liquidationThreshold;
    uint32 maxLiquidationRatio;
    address swapFeeRecipient;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sdistate"><a class="header" href="#sdistate">SDIState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/State.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SDIState {
    uint256 totalDebt;
    uint256 totalCover;
    address coverRecipient;
    address[] coverAssets;
    uint8 sdiPricePrecision;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sdi"><a class="header" href="#sdi">sdi</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/State.sol">Git Source</a></p>
<pre><code class="language-solidity">function sdi() pure returns (SDIState storage state);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdp"><a class="header" href="#scdp">scdp</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/State.sol">Git Source</a></p>
<pre><code class="language-solidity">function scdp() pure returns (SCDPState storage state);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-7"><a class="header" href="#constants-7">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/State.sol">Git Source</a></p>
<h3 id="scdp_storage_position"><a class="header" href="#scdp_storage_position">SCDP_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant SCDP_STORAGE_POSITION = keccak256(&quot;kresko.scdp.storage&quot;);
</code></pre>
<h3 id="sdi_storage_position"><a class="header" href="#sdi_storage_position">SDI_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 constant SDI_STORAGE_POSITION = keccak256(&quot;kresko.scdp.sdi.storage&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpinitargs"><a class="header" href="#scdpinitargs">SCDPInitArgs</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/Types.sol">Git Source</a></p>
<p>SCDP initializer configuration.</p>
<pre><code class="language-solidity">struct SCDPInitArgs {
    address swapFeeRecipient;
    uint32 minCollateralRatio;
    uint32 liquidationThreshold;
    uint8 sdiPricePrecision;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pairsetter"><a class="header" href="#pairsetter">PairSetter</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct PairSetter {
    address assetIn;
    address assetOut;
    bool enabled;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scdpassetdata"><a class="header" href="#scdpassetdata">SCDPAssetData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SCDPAssetData {
    uint256 debt;
    uint128 totalDeposits;
    uint128 swapDeposits;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="globaldata"><a class="header" href="#globaldata">GlobalData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct GlobalData {
    uint256 collateralValue;
    uint256 collateralValueAdjusted;
    uint256 debtValue;
    uint256 debtValueAdjusted;
    uint256 effectiveDebtValue;
    uint256 cr;
    uint256 crDebtValue;
    uint256 crDebtValueAdjusted;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="assetdata"><a class="header" href="#assetdata">AssetData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/Types.sol">Git Source</a></p>
<p>Periphery asset data</p>
<pre><code class="language-solidity">struct AssetData {
    address addr;
    uint256 depositAmount;
    uint256 depositValue;
    uint256 depositValueAdjusted;
    uint256 debtAmount;
    uint256 debtValue;
    uint256 debtValueAdjusted;
    uint256 swapDeposits;
    Asset asset;
    uint256 assetPrice;
    string symbol;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="userassetdata"><a class="header" href="#userassetdata">UserAssetData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct UserAssetData {
    address asset;
    uint256 assetPrice;
    uint256 depositAmount;
    uint256 scaledDepositAmount;
    uint256 depositValue;
    uint256 scaledDepositValue;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="userdata"><a class="header" href="#userdata">UserData</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/scdp/Types.sol">Git Source</a></p>
<pre><code class="language-solidity">struct UserData {
    address account;
    uint256 totalDepositValue;
    uint256 totalScaledDepositValue;
    uint256 totalFeesValue;
    UserAssetData[] deposits;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-22"><a class="header" href="#contents-22">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/test//src/contracts/core/test/mocks">mocks</a></li>
<li><a href="src/contracts/core/test//src/contracts/core/test/redstone">redstone</a></li>
<li><a href="src/contracts/core/test//src/contracts/core/test/smocks">smocks</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-23"><a class="header" href="#contents-23">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/test/mocks/MockERC1155.sol/contract.MockERC1155.html">MockERC1155</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20Restricted.html">MockERC20Restricted</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.WETH.html">WETH</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.USDC.html">USDC</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.DAI.html">DAI</a></li>
<li><a href="src/contracts/core/test/mocks/MockERC20.sol/contract.USDT.html">USDT</a></li>
<li><a href="src/contracts/core/test/mocks/MockOracle.sol/contract.MockOracle.html">MockOracle</a></li>
<li><a href="src/contracts/core/test/mocks/MockSequencerUptimeFeed.sol/contract.MockSequencerUptimeFeed.html">MockSequencerUptimeFeed</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mockerc1155"><a class="header" href="#mockerc1155">MockERC1155</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/mocks/MockERC1155.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC1155</p>
<h2 id="functions-84"><a class="header" href="#functions-84">Functions</a></h2>
<h3 id="constructor-4"><a class="header" href="#constructor-4">constructor</a></h3>
<pre><code class="language-solidity">constructor() ERC1155(&quot;https://test&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mockerc20restricted"><a class="header" href="#mockerc20restricted">MockERC20Restricted</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockERC20.sol//src/contracts/core/vendor/ERC20.sol/abstract.ERC20.html">ERC20</a></p>
<h2 id="state-variables-14"><a class="header" href="#state-variables-14">State Variables</a></h2>
<h3 id="minters"><a class="header" href="#minters">minters</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public minters;
</code></pre>
<h3 id="owner-3"><a class="header" href="#owner-3">owner</a></h3>
<pre><code class="language-solidity">address public owner;
</code></pre>
<h2 id="functions-85"><a class="header" href="#functions-85">Functions</a></h2>
<h3 id="constructor-5"><a class="header" href="#constructor-5">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory _name, string memory _symbol, uint8 _decimals, uint256 _initialSupply)
    ERC20(_name, _symbol, _decimals);
</code></pre>
<h3 id="reinitializeerc20-4"><a class="header" href="#reinitializeerc20-4">reinitializeERC20</a></h3>
<pre><code class="language-solidity">function reinitializeERC20(string memory _name, string memory _symbol) external;
</code></pre>
<h3 id="toggleminters"><a class="header" href="#toggleminters">toggleMinters</a></h3>
<pre><code class="language-solidity">function toggleMinters(address[] calldata _minters) external;
</code></pre>
<h3 id="mint-5"><a class="header" href="#mint-5">mint</a></h3>
<pre><code class="language-solidity">function mint(address to, uint256 value) public virtual;
</code></pre>
<h3 id="burn-3"><a class="header" href="#burn-3">burn</a></h3>
<pre><code class="language-solidity">function burn(address from, uint256 value) public virtual;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mockerc20"><a class="header" href="#mockerc20">MockERC20</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockERC20.sol//src/contracts/core/vendor/ERC20.sol/abstract.ERC20.html">ERC20</a></p>
<h2 id="functions-86"><a class="header" href="#functions-86">Functions</a></h2>
<h3 id="constructor-6"><a class="header" href="#constructor-6">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory name_, string memory symbol_, uint8 decimals_, uint256 mintAmount)
    ERC20(name_, symbol_, decimals_);
</code></pre>
<h3 id="mint-6"><a class="header" href="#mint-6">mint</a></h3>
<pre><code class="language-solidity">function mint(address to, uint256 amount) external;
</code></pre>
<h3 id="burn-4"><a class="header" href="#burn-4">burn</a></h3>
<pre><code class="language-solidity">function burn(address from, uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="weth"><a class="header" href="#weth">WETH</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockERC20.sol//src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></p>
<h2 id="functions-87"><a class="header" href="#functions-87">Functions</a></h2>
<h3 id="constructor-7"><a class="header" href="#constructor-7">constructor</a></h3>
<pre><code class="language-solidity">constructor() MockERC20(&quot;WETH&quot;, &quot;WETH&quot;, 18, 0);
</code></pre>
<h3 id="deposit-6"><a class="header" href="#deposit-6">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="withdraw-7"><a class="header" href="#withdraw-7">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="usdc"><a class="header" href="#usdc">USDC</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockERC20.sol//src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></p>
<h2 id="functions-88"><a class="header" href="#functions-88">Functions</a></h2>
<h3 id="constructor-8"><a class="header" href="#constructor-8">constructor</a></h3>
<pre><code class="language-solidity">constructor() MockERC20(&quot;USDC&quot;, &quot;USDC&quot;, 18, 0);
</code></pre>
<h3 id="deposit-7"><a class="header" href="#deposit-7">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="withdraw-8"><a class="header" href="#withdraw-8">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dai"><a class="header" href="#dai">DAI</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockERC20.sol//src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></p>
<h2 id="functions-89"><a class="header" href="#functions-89">Functions</a></h2>
<h3 id="constructor-9"><a class="header" href="#constructor-9">constructor</a></h3>
<pre><code class="language-solidity">constructor() MockERC20(&quot;DAI&quot;, &quot;DAI&quot;, 18, 0);
</code></pre>
<h3 id="deposit-8"><a class="header" href="#deposit-8">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="withdraw-9"><a class="header" href="#withdraw-9">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="usdt"><a class="header" href="#usdt">USDT</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/mocks/MockERC20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockERC20.sol//src/contracts/core/test/mocks/MockERC20.sol/contract.MockERC20.html">MockERC20</a></p>
<h2 id="functions-90"><a class="header" href="#functions-90">Functions</a></h2>
<h3 id="constructor-10"><a class="header" href="#constructor-10">constructor</a></h3>
<pre><code class="language-solidity">constructor() MockERC20(&quot;USDT&quot;, &quot;USDT&quot;, 6, 0);
</code></pre>
<h3 id="deposit-9"><a class="header" href="#deposit-9">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="withdraw-10"><a class="header" href="#withdraw-10">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mockoracle"><a class="header" href="#mockoracle">MockOracle</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/mocks/MockOracle.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/mocks/MockOracle.sol//src/contracts/core/vendor/AggregatorV3Interface.sol/interface.AggregatorV3Interface.html">AggregatorV3Interface</a></p>
<h2 id="state-variables-15"><a class="header" href="#state-variables-15">State Variables</a></h2>
<h3 id="decimals"><a class="header" href="#decimals">decimals</a></h3>
<pre><code class="language-solidity">uint8 public decimals = 8;
</code></pre>
<h3 id="description"><a class="header" href="#description">description</a></h3>
<pre><code class="language-solidity">string public override description;
</code></pre>
<h3 id="version"><a class="header" href="#version">version</a></h3>
<pre><code class="language-solidity">uint256 public override version = 1;
</code></pre>
<h3 id="initialanswer"><a class="header" href="#initialanswer">initialAnswer</a></h3>
<pre><code class="language-solidity">int256 public initialAnswer;
</code></pre>
<h2 id="functions-91"><a class="header" href="#functions-91">Functions</a></h2>
<h3 id="constructor-11"><a class="header" href="#constructor-11">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory _description, uint256 _initialAnswer, uint8 _decimals);
</code></pre>
<h3 id="setprice"><a class="header" href="#setprice">setPrice</a></h3>
<pre><code class="language-solidity">function setPrice(uint256 _answer) external;
</code></pre>
<h3 id="price-2"><a class="header" href="#price-2">price</a></h3>
<pre><code class="language-solidity">function price() external view returns (uint256);
</code></pre>
<h3 id="getrounddata"><a class="header" href="#getrounddata">getRoundData</a></h3>
<pre><code class="language-solidity">function getRoundData(uint80)
    external
    view
    override
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<h3 id="latestrounddata"><a class="header" href="#latestrounddata">latestRoundData</a></h3>
<pre><code class="language-solidity">function latestRoundData()
    external
    view
    override
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mocksequenceruptimefeed"><a class="header" href="#mocksequenceruptimefeed">MockSequencerUptimeFeed</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/mocks/MockSequencerUptimeFeed.sol">Git Source</a></p>
<h2 id="state-variables-16"><a class="header" href="#state-variables-16">State Variables</a></h2>
<h3 id="__startedat"><a class="header" href="#__startedat">__startedAt</a></h3>
<pre><code class="language-solidity">uint256 internal __startedAt;
</code></pre>
<h3 id="__updatedat"><a class="header" href="#__updatedat">__updatedAt</a></h3>
<pre><code class="language-solidity">uint256 internal __updatedAt;
</code></pre>
<h3 id="__answer"><a class="header" href="#__answer">__answer</a></h3>
<pre><code class="language-solidity">int256 internal __answer;
</code></pre>
<h2 id="functions-92"><a class="header" href="#functions-92">Functions</a></h2>
<h3 id="constructor-12"><a class="header" href="#constructor-12">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="setanswer"><a class="header" href="#setanswer">setAnswer</a></h3>
<p>0 = up, 1 = down</p>
<pre><code class="language-solidity">function setAnswer(int256 _answer) external;
</code></pre>
<h3 id="latestrounddata-1"><a class="header" href="#latestrounddata-1">latestRoundData</a></h3>
<pre><code class="language-solidity">function latestRoundData()
    public
    view
    virtual
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-24"><a class="header" href="#contents-24">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/test/redstone/CalldataExtractor.sol/contract.CalldataExtractor.html">CalldataExtractor</a></li>
<li><a href="src/contracts/core/test/redstone/ProxyConnector.sol/contract.ProxyConnector.html">ProxyConnector</a></li>
<li><a href="src/contracts/core/test/redstone/RedstoneConstants.sol/contract.RedstoneConstants.html">RedstoneConstants</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="calldataextractor"><a class="header" href="#calldataextractor">CalldataExtractor</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/redstone/CalldataExtractor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/redstone/CalldataExtractor.sol//src/contracts/core/test/redstone/RedstoneConstants.sol/contract.RedstoneConstants.html">RedstoneConstants</a></p>
<p><strong>Author:</strong>
The Redstone Oracles team</p>
<p><em>This contract was created to reuse the same logic in the RedstoneConsumerBase
and the ProxyConnector contracts</em></p>
<h2 id="functions-93"><a class="header" href="#functions-93">Functions</a></h2>
<h3 id="_extractbytesizeofunsignedmetadata-1"><a class="header" href="#_extractbytesizeofunsignedmetadata-1">_extractByteSizeOfUnsignedMetadata</a></h3>
<pre><code class="language-solidity">function _extractByteSizeOfUnsignedMetadata() internal pure returns (uint256);
</code></pre>
<h3 id="_extractdatapackagescountfromcalldata-1"><a class="header" href="#_extractdatapackagescountfromcalldata-1">_extractDataPackagesCountFromCalldata</a></h3>
<pre><code class="language-solidity">function _extractDataPackagesCountFromCalldata(uint256 calldataNegativeOffset)
    internal
    pure
    returns (uint16 dataPackagesCount);
</code></pre>
<h3 id="_extractdatapointvalueanddatafeedid-1"><a class="header" href="#_extractdatapointvalueanddatafeedid-1">_extractDataPointValueAndDataFeedId</a></h3>
<pre><code class="language-solidity">function _extractDataPointValueAndDataFeedId(
    uint256 calldataNegativeOffsetForDataPackage,
    uint256 defaultDataPointValueByteSize,
    uint256 dataPointIndex
) internal pure virtual returns (bytes32 dataPointDataFeedId, uint256 dataPointValue);
</code></pre>
<h3 id="_extractdatapointsdetailsfordatapackage-1"><a class="header" href="#_extractdatapointsdetailsfordatapackage-1">_extractDataPointsDetailsForDataPackage</a></h3>
<pre><code class="language-solidity">function _extractDataPointsDetailsForDataPackage(uint256 calldataNegativeOffsetForDataPackage)
    internal
    pure
    returns (uint256 dataPointsCount, uint256 eachDataPointValueByteSize);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proxyconnector"><a class="header" href="#proxyconnector">ProxyConnector</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/redstone/ProxyConnector.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/redstone/ProxyConnector.sol//src/contracts/core/test/redstone/RedstoneConstants.sol/contract.RedstoneConstants.html">RedstoneConstants</a>, <a href="src/contracts/core/test/redstone/ProxyConnector.sol//src/contracts/core/test/redstone/CalldataExtractor.sol/contract.CalldataExtractor.html">CalldataExtractor</a></p>
<p><strong>Author:</strong>
The Redstone Oracles team</p>
<h2 id="functions-94"><a class="header" href="#functions-94">Functions</a></h2>
<h3 id="proxycalldata-1"><a class="header" href="#proxycalldata-1">proxyCalldata</a></h3>
<pre><code class="language-solidity">function proxyCalldata(address contractAddress, bytes memory encodedFunction, bool forwardValue)
    internal
    returns (bytes memory);
</code></pre>
<h3 id="proxydelegatecalldata-1"><a class="header" href="#proxydelegatecalldata-1">proxyDelegateCalldata</a></h3>
<pre><code class="language-solidity">function proxyDelegateCalldata(address contractAddress, bytes memory encodedFunction) internal returns (bytes memory);
</code></pre>
<h3 id="proxycalldataview-1"><a class="header" href="#proxycalldataview-1">proxyCalldataView</a></h3>
<pre><code class="language-solidity">function proxyCalldataView(address contractAddress, bytes memory encodedFunction)
    internal
    view
    returns (bytes memory);
</code></pre>
<h3 id="_preparemessage-1"><a class="header" href="#_preparemessage-1">_prepareMessage</a></h3>
<pre><code class="language-solidity">function _prepareMessage(bytes memory encodedFunction) private pure returns (bytes memory);
</code></pre>
<h3 id="_getredstonepayloadbytesize-1"><a class="header" href="#_getredstonepayloadbytesize-1">_getRedstonePayloadByteSize</a></h3>
<pre><code class="language-solidity">function _getRedstonePayloadByteSize() private pure returns (uint256);
</code></pre>
<h3 id="_getdatapackagebytesize-1"><a class="header" href="#_getdatapackagebytesize-1">_getDataPackageByteSize</a></h3>
<pre><code class="language-solidity">function _getDataPackageByteSize(uint256 calldataNegativeOffset) private pure returns (uint256);
</code></pre>
<h3 id="_preparereturnvalue-1"><a class="header" href="#_preparereturnvalue-1">_prepareReturnValue</a></h3>
<pre><code class="language-solidity">function _prepareReturnValue(bool success, bytes memory result) internal pure returns (bytes memory);
</code></pre>
<h2 id="errors-4"><a class="header" href="#errors-4">Errors</a></h2>
<h3 id="proxycalldatafailedwithouterrmsg-1"><a class="header" href="#proxycalldatafailedwithouterrmsg-1">ProxyCalldataFailedWithoutErrMsg</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithoutErrMsg();
</code></pre>
<h3 id="proxycalldatafailedwithstringmessage-1"><a class="header" href="#proxycalldatafailedwithstringmessage-1">ProxyCalldataFailedWithStringMessage</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithStringMessage(string message);
</code></pre>
<h3 id="proxycalldatafailedwithcustomerror-1"><a class="header" href="#proxycalldatafailedwithcustomerror-1">ProxyCalldataFailedWithCustomError</a></h3>
<pre><code class="language-solidity">error ProxyCalldataFailedWithCustomError(bytes result);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redstoneconstants"><a class="header" href="#redstoneconstants">RedstoneConstants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/redstone/RedstoneConstants.sol">Git Source</a></p>
<p><strong>Author:</strong>
The Redstone Oracles team</p>
<p><em>It mainly contains redstone-related values, which improve readability
of other contracts (e.g. CalldataExtractor and RedstoneConsumerBase)</em></p>
<h2 id="state-variables-17"><a class="header" href="#state-variables-17">State Variables</a></h2>
<h3 id="standard_slot_bs-1"><a class="header" href="#standard_slot_bs-1">STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant STANDARD_SLOT_BS = 32;
</code></pre>
<h3 id="free_memory_ptr-1"><a class="header" href="#free_memory_ptr-1">FREE_MEMORY_PTR</a></h3>
<pre><code class="language-solidity">uint256 internal constant FREE_MEMORY_PTR = 0x40;
</code></pre>
<h3 id="bytes_arr_len_var_bs-2"><a class="header" href="#bytes_arr_len_var_bs-2">BYTES_ARR_LEN_VAR_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant BYTES_ARR_LEN_VAR_BS = 32;
</code></pre>
<h3 id="function_signature_bs-1"><a class="header" href="#function_signature_bs-1">FUNCTION_SIGNATURE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant FUNCTION_SIGNATURE_BS = 4;
</code></pre>
<h3 id="revert_msg_offset-1"><a class="header" href="#revert_msg_offset-1">REVERT_MSG_OFFSET</a></h3>
<pre><code class="language-solidity">uint256 internal constant REVERT_MSG_OFFSET = 68;
</code></pre>
<h3 id="string_err_message_mask-1"><a class="header" href="#string_err_message_mask-1">STRING_ERR_MESSAGE_MASK</a></h3>
<pre><code class="language-solidity">uint256 internal constant STRING_ERR_MESSAGE_MASK = 0x08c379a000000000000000000000000000000000000000000000000000000000;
</code></pre>
<h3 id="sig_bs-1"><a class="header" href="#sig_bs-1">SIG_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant SIG_BS = 65;
</code></pre>
<h3 id="timestamp_bs-1"><a class="header" href="#timestamp_bs-1">TIMESTAMP_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant TIMESTAMP_BS = 6;
</code></pre>
<h3 id="data_packages_count_bs-1"><a class="header" href="#data_packages_count_bs-1">DATA_PACKAGES_COUNT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_PACKAGES_COUNT_BS = 2;
</code></pre>
<h3 id="data_points_count_bs-1"><a class="header" href="#data_points_count_bs-1">DATA_POINTS_COUNT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_POINTS_COUNT_BS = 3;
</code></pre>
<h3 id="data_point_value_byte_size_bs-1"><a class="header" href="#data_point_value_byte_size_bs-1">DATA_POINT_VALUE_BYTE_SIZE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_POINT_VALUE_BYTE_SIZE_BS = 4;
</code></pre>
<h3 id="data_point_symbol_bs-1"><a class="header" href="#data_point_symbol_bs-1">DATA_POINT_SYMBOL_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_POINT_SYMBOL_BS = 32;
</code></pre>
<h3 id="default_data_point_value_bs-1"><a class="header" href="#default_data_point_value_bs-1">DEFAULT_DATA_POINT_VALUE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DEFAULT_DATA_POINT_VALUE_BS = 32;
</code></pre>
<h3 id="unsigned_metadata_byte_size_bs-1"><a class="header" href="#unsigned_metadata_byte_size_bs-1">UNSIGNED_METADATA_BYTE_SIZE_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant UNSIGNED_METADATA_BYTE_SIZE_BS = 3;
</code></pre>
<h3 id="redstone_marker_bs-1"><a class="header" href="#redstone_marker_bs-1">REDSTONE_MARKER_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant REDSTONE_MARKER_BS = 9;
</code></pre>
<h3 id="redstone_marker_mask-1"><a class="header" href="#redstone_marker_mask-1">REDSTONE_MARKER_MASK</a></h3>
<pre><code class="language-solidity">uint256 internal constant REDSTONE_MARKER_MASK = 0x0000000000000000000000000000000000000000000000000002ed57011e0000;
</code></pre>
<h3 id="timestamp_negative_offset_in_data_package_with_standard_slot_bs-1"><a class="header" href="#timestamp_negative_offset_in_data_package_with_standard_slot_bs-1">TIMESTAMP_NEGATIVE_OFFSET_IN_DATA_PACKAGE_WITH_STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant TIMESTAMP_NEGATIVE_OFFSET_IN_DATA_PACKAGE_WITH_STANDARD_SLOT_BS = 104;
</code></pre>
<h3 id="data_package_without_data_points_bs-1"><a class="header" href="#data_package_without_data_points_bs-1">DATA_PACKAGE_WITHOUT_DATA_POINTS_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_PACKAGE_WITHOUT_DATA_POINTS_BS = 78;
</code></pre>
<h3 id="data_package_without_data_points_and_sig_bs-1"><a class="header" href="#data_package_without_data_points_and_sig_bs-1">DATA_PACKAGE_WITHOUT_DATA_POINTS_AND_SIG_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant DATA_PACKAGE_WITHOUT_DATA_POINTS_AND_SIG_BS = 13;
</code></pre>
<h3 id="redstone_marker_bs_plus_standard_slot_bs-1"><a class="header" href="#redstone_marker_bs_plus_standard_slot_bs-1">REDSTONE_MARKER_BS_PLUS_STANDARD_SLOT_BS</a></h3>
<pre><code class="language-solidity">uint256 internal constant REDSTONE_MARKER_BS_PLUS_STANDARD_SLOT_BS = 41;
</code></pre>
<h2 id="errors-5"><a class="header" href="#errors-5">Errors</a></h2>
<h3 id="calldataoverorunderflow-1"><a class="header" href="#calldataoverorunderflow-1">CalldataOverOrUnderFlow</a></h3>
<pre><code class="language-solidity">error CalldataOverOrUnderFlow();
</code></pre>
<h3 id="incorrectunsignedmetadatasize-1"><a class="header" href="#incorrectunsignedmetadatasize-1">IncorrectUnsignedMetadataSize</a></h3>
<pre><code class="language-solidity">error IncorrectUnsignedMetadataSize();
</code></pre>
<h3 id="insufficientnumberofuniquesigners-1"><a class="header" href="#insufficientnumberofuniquesigners-1">InsufficientNumberOfUniqueSigners</a></h3>
<pre><code class="language-solidity">error InsufficientNumberOfUniqueSigners(uint256 receivedSignersCount, uint256 requiredSignersCount);
</code></pre>
<h3 id="eachsignermustprovidethesamevalue-1"><a class="header" href="#eachsignermustprovidethesamevalue-1">EachSignerMustProvideTheSameValue</a></h3>
<pre><code class="language-solidity">error EachSignerMustProvideTheSameValue();
</code></pre>
<h3 id="emptycalldatapointersarr-1"><a class="header" href="#emptycalldatapointersarr-1">EmptyCalldataPointersArr</a></h3>
<pre><code class="language-solidity">error EmptyCalldataPointersArr();
</code></pre>
<h3 id="invalidcalldatapointer-1"><a class="header" href="#invalidcalldatapointer-1">InvalidCalldataPointer</a></h3>
<pre><code class="language-solidity">error InvalidCalldataPointer();
</code></pre>
<h3 id="calldatamusthavevalidpayload-1"><a class="header" href="#calldatamusthavevalidpayload-1">CalldataMustHaveValidPayload</a></h3>
<pre><code class="language-solidity">error CalldataMustHaveValidPayload();
</code></pre>
<h3 id="signernotauthorised-1"><a class="header" href="#signernotauthorised-1">SignerNotAuthorised</a></h3>
<pre><code class="language-solidity">error SignerNotAuthorised(address receivedSigner);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-25"><a class="header" href="#contents-25">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/test/smocks/ISmockFacet.sol/interface.ISmockFacet.html">ISmockFacet</a></li>
<li><a href="src/contracts/core/test/smocks/SmockCollateralReceiver.sol/contract.SmockCollateralReceiver.html">SmockCollateralReceiver</a></li>
<li><a href="src/contracts/core/test/smocks/SmockFacet.sol/contract.SmockFacet.html">SmockFacet</a></li>
<li><a href="src/contracts/core/test/smocks/SmockFacet.sol/constants.SmockFacet.html">SmockFacet constants</a></li>
<li><a href="src/contracts/core/test/smocks/SmockFacet2.sol/contract.SmockFacet2.html">SmockFacet2</a></li>
<li><a href="src/contracts/core/test/smocks/SmockInit.sol/contract.SmockInit.html">SmockInit</a></li>
<li><a href="src/contracts/core/test/smocks/SmockStorage.sol/library.Errors.html">Errors</a></li>
<li><a href="src/contracts/core/test/smocks/SmockStorage.sol/struct.SmockState.html">SmockState</a></li>
<li><a href="src/contracts/core/test/smocks/SmockStorage.sol/struct.SmockState2.html">SmockState2</a></li>
<li><a href="src/contracts/core/test/smocks/SmockStorage.sol/library.SmockStorage.html">SmockStorage</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ismockfacet"><a class="header" href="#ismockfacet">ISmockFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/smocks/ISmockFacet.sol">Git Source</a></p>
<h2 id="functions-95"><a class="header" href="#functions-95">Functions</a></h2>
<h3 id="activate"><a class="header" href="#activate">activate</a></h3>
<pre><code class="language-solidity">function activate() external;
</code></pre>
<h3 id="disable"><a class="header" href="#disable">disable</a></h3>
<pre><code class="language-solidity">function disable() external;
</code></pre>
<h3 id="setmessage"><a class="header" href="#setmessage">setMessage</a></h3>
<pre><code class="language-solidity">function setMessage(string memory message) external;
</code></pre>
<h2 id="events-6"><a class="header" href="#events-6">Events</a></h2>
<h3 id="newmessage"><a class="header" href="#newmessage">NewMessage</a></h3>
<pre><code class="language-solidity">event NewMessage(address indexed caller, string message);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockcollateralreceiver"><a class="header" href="#smockcollateralreceiver">SmockCollateralReceiver</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/smocks/SmockCollateralReceiver.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/smocks/SmockCollateralReceiver.sol//src/contracts/core/minter/interfaces/ICollateralReceiver.sol/interface.ICollateralReceiver.html">ICollateralReceiver</a>, <a href="src/contracts/core/test/smocks/SmockCollateralReceiver.sol//src/contracts/core/test/redstone/ProxyConnector.sol/contract.ProxyConnector.html">ProxyConnector</a></p>
<h2 id="state-variables-18"><a class="header" href="#state-variables-18">State Variables</a></h2>
<h3 id="kresko-3"><a class="header" href="#kresko-3">kresko</a></h3>
<pre><code class="language-solidity">IDepositWithdrawFacet public kresko;
</code></pre>
<h3 id="callbacklogic"><a class="header" href="#callbacklogic">callbackLogic</a></h3>
<pre><code class="language-solidity">function(address, address, uint256, bytes memory) internal callbackLogic;
</code></pre>
<h3 id="account"><a class="header" href="#account">account</a></h3>
<pre><code class="language-solidity">address public account;
</code></pre>
<h3 id="collateralasset"><a class="header" href="#collateralasset">collateralAsset</a></h3>
<pre><code class="language-solidity">address public collateralAsset;
</code></pre>
<h3 id="withdrawalamountrequested"><a class="header" href="#withdrawalamountrequested">withdrawalAmountRequested</a></h3>
<pre><code class="language-solidity">uint256 public withdrawalAmountRequested;
</code></pre>
<h3 id="withdrawalamountreceived"><a class="header" href="#withdrawalamountreceived">withdrawalAmountReceived</a></h3>
<pre><code class="language-solidity">uint256 public withdrawalAmountReceived;
</code></pre>
<h3 id="userdata-1"><a class="header" href="#userdata-1">userData</a></h3>
<pre><code class="language-solidity">Params public userData;
</code></pre>
<h2 id="functions-96"><a class="header" href="#functions-96">Functions</a></h2>
<h3 id="constructor-13"><a class="header" href="#constructor-13">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _kresko);
</code></pre>
<h3 id="onuncheckedcollateralwithdraw-1"><a class="header" href="#onuncheckedcollateralwithdraw-1">onUncheckedCollateralWithdraw</a></h3>
<pre><code class="language-solidity">function onUncheckedCollateralWithdraw(
    address _account,
    address _collateralAsset,
    uint256 _withdrawalAmount,
    uint256 _depositedCollateralAssetIndex,
    bytes memory _userData
) external returns (bytes memory);
</code></pre>
<h3 id="execute"><a class="header" href="#execute">execute</a></h3>
<pre><code class="language-solidity">function execute(
    address _collateralAsset,
    uint256 _amount,
    function(address, address, uint256, bytes memory) internal logic
) internal;
</code></pre>
<h3 id="execute-1"><a class="header" href="#execute-1">execute</a></h3>
<pre><code class="language-solidity">function execute(
    address _collateralAsset,
    uint256 _amount,
    bytes memory data,
    function(address, address, uint256, bytes memory) internal logic
) internal;
</code></pre>
<h3 id="test"><a class="header" href="#test">test</a></h3>
<pre><code class="language-solidity">function test(address _collateralAsset, uint256 _amount) external;
</code></pre>
<h3 id="testwithdrawalamount"><a class="header" href="#testwithdrawalamount">testWithdrawalAmount</a></h3>
<pre><code class="language-solidity">function testWithdrawalAmount(address _collateralAsset, uint256 _amount) external;
</code></pre>
<h3 id="testredeposit"><a class="header" href="#testredeposit">testRedeposit</a></h3>
<pre><code class="language-solidity">function testRedeposit(address _collateralAsset, uint256 _amount) external;
</code></pre>
<h3 id="testinsufficientredeposit"><a class="header" href="#testinsufficientredeposit">testInsufficientRedeposit</a></h3>
<pre><code class="language-solidity">function testInsufficientRedeposit(address _collateralAsset, uint256 _amount) external;
</code></pre>
<h3 id="testdepositalternate"><a class="header" href="#testdepositalternate">testDepositAlternate</a></h3>
<pre><code class="language-solidity">function testDepositAlternate(address _collateralWithdraw, uint256 _amount, address _collateralDeposit) external;
</code></pre>
<h3 id="logicdepositalternate"><a class="header" href="#logicdepositalternate">logicDepositAlternate</a></h3>
<pre><code class="language-solidity">function logicDepositAlternate(
    address _account,
    address _collateralAsset,
    uint256 _withdrawalAmount,
    bytes memory _userData
) internal;
</code></pre>
<h3 id="logicbase"><a class="header" href="#logicbase">logicBase</a></h3>
<pre><code class="language-solidity">function logicBase(address _account, address _collateralAsset, uint256 _withdrawalAmount, bytes memory _userData)
    internal;
</code></pre>
<h3 id="logictestwithdrawalamount"><a class="header" href="#logictestwithdrawalamount">logicTestWithdrawalAmount</a></h3>
<pre><code class="language-solidity">function logicTestWithdrawalAmount(
    address _account,
    address _collateralAsset,
    uint256 _withdrawalAmount,
    bytes memory _userData
) internal;
</code></pre>
<h3 id="logicredeposit"><a class="header" href="#logicredeposit">logicRedeposit</a></h3>
<pre><code class="language-solidity">function logicRedeposit(address _account, address _collateralAsset, uint256 _withdrawalAmount, bytes memory _userData)
    internal;
</code></pre>
<h3 id="logicinsufficientredeposit"><a class="header" href="#logicinsufficientredeposit">logicInsufficientRedeposit</a></h3>
<pre><code class="language-solidity">function logicInsufficientRedeposit(
    address _account,
    address _collateralAsset,
    uint256 _withdrawalAmount,
    bytes memory _userData
) internal;
</code></pre>
<h2 id="structs-5"><a class="header" href="#structs-5">Structs</a></h2>
<h3 id="params"><a class="header" href="#params">Params</a></h3>
<pre><code class="language-solidity">struct Params {
    uint256 val;
    uint256 val1;
    address addr;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockfacet"><a class="header" href="#smockfacet">SmockFacet</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/smocks/SmockFacet.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/smocks/SmockFacet.sol//src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/test/smocks/SmockFacet.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a>, <a href="src/contracts/core/test/smocks/SmockFacet.sol//src/contracts/core/test/smocks/ISmockFacet.sol/interface.ISmockFacet.html">ISmockFacet</a></p>
<p><em>Use for Smock fakes / mocks.</em></p>
<h2 id="state-variables-19"><a class="header" href="#state-variables-19">State Variables</a></h2>
<h3 id="message_throttle"><a class="header" href="#message_throttle">MESSAGE_THROTTLE</a></h3>
<pre><code class="language-solidity">uint256 public constant MESSAGE_THROTTLE = 2;
</code></pre>
<h2 id="functions-97"><a class="header" href="#functions-97">Functions</a></h2>
<h3 id="operator-1"><a class="header" href="#operator-1">operator</a></h3>
<pre><code class="language-solidity">function operator() external view returns (address);
</code></pre>
<h3 id="activate-1"><a class="header" href="#activate-1">activate</a></h3>
<pre><code class="language-solidity">function activate() external override onlyRole(TEST_OPERATOR_ROLE) onlyDisabled;
</code></pre>
<h3 id="disable-1"><a class="header" href="#disable-1">disable</a></h3>
<pre><code class="language-solidity">function disable() external override onlyRole(TEST_OPERATOR_ROLE) onlyActive;
</code></pre>
<h3 id="smockinitialized"><a class="header" href="#smockinitialized">smockInitialized</a></h3>
<pre><code class="language-solidity">function smockInitialized() external view returns (bool);
</code></pre>
<h3 id="setmessage-1"><a class="header" href="#setmessage-1">setMessage</a></h3>
<pre><code class="language-solidity">function setMessage(string memory message) external override onlyActive;
</code></pre>
<h3 id="onlyactive"><a class="header" href="#onlyactive">onlyActive</a></h3>
<pre><code class="language-solidity">modifier onlyActive();
</code></pre>
<h3 id="onlydisabled"><a class="header" href="#onlydisabled">onlyDisabled</a></h3>
<pre><code class="language-solidity">modifier onlyDisabled();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constants-8"><a class="header" href="#constants-8">Constants</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/smocks/SmockFacet.sol">Git Source</a></p>
<h3 id="test_operator_role"><a class="header" href="#test_operator_role">TEST_OPERATOR_ROLE</a></h3>
<pre><code class="language-solidity">bytes32 constant TEST_OPERATOR_ROLE = keccak256(&quot;kresko.test.operator&quot;);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockfacet2"><a class="header" href="#smockfacet2">SmockFacet2</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/smocks/SmockFacet2.sol">Git Source</a></p>
<h2 id="functions-98"><a class="header" href="#functions-98">Functions</a></h2>
<h3 id="initialize-8"><a class="header" href="#initialize-8">initialize</a></h3>
<pre><code class="language-solidity">function initialize() external;
</code></pre>
<h3 id="getoldstructvaluefromextended"><a class="header" href="#getoldstructvaluefromextended">getOldStructValueFromExtended</a></h3>
<pre><code class="language-solidity">function getOldStructValueFromExtended() external view returns (bool);
</code></pre>
<h3 id="getnewstructvaluefromextended"><a class="header" href="#getnewstructvaluefromextended">getNewStructValueFromExtended</a></h3>
<pre><code class="language-solidity">function getNewStructValueFromExtended() external view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockinit"><a class="header" href="#smockinit">SmockInit</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/smocks/SmockInit.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/test/smocks/SmockInit.sol//src/contracts/core/diamond/Modifiers.sol/abstract.DSModifiers.html">DSModifiers</a>, <a href="src/contracts/core/test/smocks/SmockInit.sol//src/contracts/core/common/Modifiers.sol/contract.CModifiers.html">CModifiers</a></p>
<h2 id="functions-99"><a class="header" href="#functions-99">Functions</a></h2>
<h3 id="initialize-9"><a class="header" href="#initialize-9">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address _operator) external onlyOwner onlyRole(Role.ADMIN);
</code></pre>
<h3 id="getnumber"><a class="header" href="#getnumber">getNumber</a></h3>
<pre><code class="language-solidity">function getNumber() public pure returns (uint8);
</code></pre>
<h3 id="getbool"><a class="header" href="#getbool">getBool</a></h3>
<pre><code class="language-solidity">function getBool() public pure returns (bool);
</code></pre>
<h3 id="upgradestate-2"><a class="header" href="#upgradestate-2">upgradeState</a></h3>
<pre><code class="language-solidity">function upgradeState() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="errors-6"><a class="header" href="#errors-6">Errors</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/smocks/SmockStorage.sol">Git Source</a></p>
<h2 id="state-variables-20"><a class="header" href="#state-variables-20">State Variables</a></h2>
<h3 id="initialized-3"><a class="header" href="#initialized-3">INITIALIZED</a></h3>
<pre><code class="language-solidity">string public constant INITIALIZED = &quot;Already initialized&quot;;
</code></pre>
<h3 id="not_active"><a class="header" href="#not_active">NOT_ACTIVE</a></h3>
<pre><code class="language-solidity">string public constant NOT_ACTIVE = &quot;SmockFacet: Not active&quot;;
</code></pre>
<h3 id="active"><a class="header" href="#active">ACTIVE</a></h3>
<pre><code class="language-solidity">string public constant ACTIVE = &quot;SmockFacet: Active&quot;;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockstate"><a class="header" href="#smockstate">SmockState</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/smocks/SmockStorage.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SmockState {
    bool initialized;
    bool isActive;
    address operator;
    mapping(address =&gt; bool) callers;
    string message;
    uint256 lastMessageBlock;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockstate2"><a class="header" href="#smockstate2">SmockState2</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/smocks/SmockStorage.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SmockState2 {
    bool initialized;
    bool isActive;
    address operator;
    mapping(address =&gt; bool) callers;
    string message;
    uint256 lastMessageBlock;
    bool extended;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smockstorage"><a class="header" href="#smockstorage">SmockStorage</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/test/smocks/SmockStorage.sol">Git Source</a></p>
<h2 id="state-variables-21"><a class="header" href="#state-variables-21">State Variables</a></h2>
<h3 id="smock_storage_position"><a class="header" href="#smock_storage_position">SMOCK_STORAGE_POSITION</a></h3>
<pre><code class="language-solidity">bytes32 public constant SMOCK_STORAGE_POSITION = keccak256(&quot;kresko.smock.storage&quot;);
</code></pre>
<h2 id="functions-100"><a class="header" href="#functions-100">Functions</a></h2>
<h3 id="initialize-10"><a class="header" href="#initialize-10">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address _operator) internal;
</code></pre>
<h3 id="state-1"><a class="header" href="#state-1">state</a></h3>
<pre><code class="language-solidity">function state() internal pure returns (SmockState storage ss);
</code></pre>
<h3 id="stateextended"><a class="header" href="#stateextended">stateExtended</a></h3>
<pre><code class="language-solidity">function stateExtended() internal pure returns (SmockState2 storage ss);
</code></pre>
<h3 id="activate-2"><a class="header" href="#activate-2">activate</a></h3>
<pre><code class="language-solidity">function activate() internal;
</code></pre>
<h3 id="disable-2"><a class="header" href="#disable-2">disable</a></h3>
<pre><code class="language-solidity">function disable() internal;
</code></pre>
<h2 id="events-7"><a class="header" href="#events-7">Events</a></h2>
<h3 id="call"><a class="header" href="#call">Call</a></h3>
<pre><code class="language-solidity">event Call(address indexed caller);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-26"><a class="header" href="#contents-26">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/vault//src/contracts/core/vault/funcs">funcs</a></li>
<li><a href="src/contracts/core/vault//src/contracts/core/vault/interfaces">interfaces</a></li>
<li><a href="src/contracts/core/vault/Events.sol/library.VEvent.html">VEvent</a></li>
<li><a href="src/contracts/core/vault/Types.sol/struct.VaultAsset.html">VaultAsset</a></li>
<li><a href="src/contracts/core/vault/Vault.sol/contract.Vault.html">Vault</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-27"><a class="header" href="#contents-27">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/vault/funcs/Assets.sol/library.VAssets.html">VAssets</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vassets"><a class="header" href="#vassets">VAssets</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vault/funcs/Assets.sol">Git Source</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>Helper library for KreskoVault</p>
<h2 id="functions-101"><a class="header" href="#functions-101">Functions</a></h2>
<h3 id="price-3"><a class="header" href="#price-3">price</a></h3>
<p>get price of an asset from the oracle speficied.</p>
<pre><code class="language-solidity">function price(VaultAsset memory self) internal view returns (uint256);
</code></pre>
<h3 id="handledepositfee"><a class="header" href="#handledepositfee">handleDepositFee</a></h3>
<p>get price of an asset from the oracle speficied.</p>
<pre><code class="language-solidity">function handleDepositFee(VaultAsset memory self, uint256 assets)
    internal
    pure
    returns (uint256 assetsWithFee, uint256 fee);
</code></pre>
<h3 id="handlemintfee"><a class="header" href="#handlemintfee">handleMintFee</a></h3>
<p>get price of an asset from the oracle speficied.</p>
<pre><code class="language-solidity">function handleMintFee(VaultAsset memory self, uint256 assets)
    internal
    pure
    returns (uint256 assetsWithFee, uint256 fee);
</code></pre>
<h3 id="handlewithdrawfee"><a class="header" href="#handlewithdrawfee">handleWithdrawFee</a></h3>
<p>get price of an asset from the oracle speficied.</p>
<pre><code class="language-solidity">function handleWithdrawFee(VaultAsset memory self, uint256 assets)
    internal
    pure
    returns (uint256 assetsWithFee, uint256 fee);
</code></pre>
<h3 id="handleredeemfee"><a class="header" href="#handleredeemfee">handleRedeemFee</a></h3>
<p>get price of an asset from the oracle speficied.</p>
<pre><code class="language-solidity">function handleRedeemFee(VaultAsset memory self, uint256 assets)
    internal
    pure
    returns (uint256 assetsWithFee, uint256 fee);
</code></pre>
<h3 id="oracletowad"><a class="header" href="#oracletowad">oracleToWad</a></h3>
<p>convert oracle decimal precision value to wad.</p>
<pre><code class="language-solidity">function oracleToWad(uint256 value, uint8 oracleDecimals) internal pure returns (uint256);
</code></pre>
<h3 id="wadtooracle"><a class="header" href="#wadtooracle">wadToOracle</a></h3>
<p>convert wad precision value to oracle precision.</p>
<pre><code class="language-solidity">function wadToOracle(uint256 tokenPrice, uint8 oracleDecimals) internal pure returns (uint256);
</code></pre>
<h3 id="usdwad-1"><a class="header" href="#usdwad-1">usdWad</a></h3>
<p>get oracle decimal precision USD value for <code>amount</code>.</p>
<pre><code class="language-solidity">function usdWad(VaultAsset memory self, uint256 amount, uint8 oracleDecimals) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>VaultAsset</code></td><td></td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>amount of tokens to get USD value for.</td></tr>
<tr><td><code>oracleDecimals</code></td><td><code>uint8</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="usdray"><a class="header" href="#usdray">usdRay</a></h3>
<p>get oracle decimal precision USD value for <code>amount</code>.</p>
<pre><code class="language-solidity">function usdRay(VaultAsset memory self, uint256 amount, uint8 oracleDecimals) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>VaultAsset</code></td><td></td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>amount of tokens to get USD value for.</td></tr>
<tr><td><code>oracleDecimals</code></td><td><code>uint8</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="usd"><a class="header" href="#usd">usd</a></h3>
<p>get oracle decimal precision USD value for <code>amount</code>.</p>
<pre><code class="language-solidity">function usd(VaultAsset memory self, uint256 amount) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>self</code></td><td><code>VaultAsset</code></td><td></td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>amount of tokens to get USD value for.</td></tr>
</tbody></table>
</div>
<h3 id="getdepositvalue"><a class="header" href="#getdepositvalue">getDepositValue</a></h3>
<p>get total deposit value of <code>self</code> in USD, oracle precision.</p>
<pre><code class="language-solidity">function getDepositValue(VaultAsset memory self) internal view returns (uint256);
</code></pre>
<h3 id="getdepositvaluewad"><a class="header" href="#getdepositvaluewad">getDepositValueWad</a></h3>
<p>get total deposit value of <code>self</code> in USD, oracle precision.</p>
<pre><code class="language-solidity">function getDepositValueWad(VaultAsset memory self, uint8 oracleDecimals) internal view returns (uint256);
</code></pre>
<h3 id="getamount"><a class="header" href="#getamount">getAmount</a></h3>
<p>get a token amount for <code>value</code> USD, oracle precision.</p>
<pre><code class="language-solidity">function getAmount(VaultAsset memory self, uint256 value, uint8 oracleDecimals) internal view returns (uint256);
</code></pre>
<h3 id="wadtotokenamount"><a class="header" href="#wadtotokenamount">wadToTokenAmount</a></h3>
<p>converts wad precision amount <code>wad</code> to token decimal precision.</p>
<pre><code class="language-solidity">function wadToTokenAmount(address token, uint256 wad) internal view returns (uint256);
</code></pre>
<h3 id="tokenamounttowad"><a class="header" href="#tokenamounttowad">tokenAmountToWad</a></h3>
<p>converts token decimal precision <code>amount</code> to wad precision.</p>
<pre><code class="language-solidity">function tokenAmountToWad(address token, uint256 amount) internal view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-28"><a class="header" href="#contents-28">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/vault/interfaces/IVault.sol/interface.IVault.html">IVault</a></li>
<li><a href="src/contracts/core/vault/interfaces/IVaultExtender.sol/interface.IVaultExtender.html">IVaultExtender</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ivault"><a class="header" href="#ivault">IVault</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vault/interfaces/IVault.sol">Git Source</a></p>
<h2 id="functions-102"><a class="header" href="#functions-102">Functions</a></h2>
<h3 id="deposit-10"><a class="header" href="#deposit-10">deposit</a></h3>
<p>This function deposits <code>assetsIn</code> of <code>asset</code>, regardless of the amount of vault shares minted.</p>
<p>If depositFee &gt; 0, <code>depositFee</code> of <code>assetsIn</code> is sent to the fee recipient.</p>
<p><em>emits Deposit(caller, receiver, asset, assetsIn, sharesOut);</em></p>
<pre><code class="language-solidity">function deposit(address asset, uint256 assetsIn, address receiver)
    external
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to deposit.</td></tr>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> to deposit.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive <code>sharesOut</code> of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares minted for <code>assetsIn</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="mint-7"><a class="header" href="#mint-7">mint</a></h3>
<p>This function mints <code>sharesOut</code> of vault shares, regardless of the amount of <code>asset</code> received.</p>
<p>If depositFee &gt; 0, <code>depositFee</code> of <code>assetsIn</code> is sent to the fee recipient.</p>
<p><em>emits Deposit(caller, receiver, asset, assetsIn, sharesOut);</em></p>
<pre><code class="language-solidity">function mint(address asset, uint256 sharesOut, address receiver)
    external
    returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to deposit.</td></tr>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares desired to mint.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive <code>sharesOut</code> of shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Assets used to mint <code>sharesOut</code> of vault shares.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="redeem-3"><a class="header" href="#redeem-3">redeem</a></h3>
<p>This function burns <code>sharesIn</code> of shares from <code>owner</code>, regardless of the amount of <code>asset</code> received.</p>
<p>If withdrawFee &gt; 0, <code>withdrawFee</code> of <code>assetsOut</code> is sent to the fee recipient.</p>
<p><em>emits Withdraw(caller, receiver, asset, owner, assetsOut, sharesIn);</em></p>
<pre><code class="language-solidity">function redeem(address asset, uint256 sharesIn, address receiver, address owner)
    external
    returns (uint256 assetsOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to redeem.</td></tr>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares to redeem.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive the redeemed assets.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> used for redeem <code>assetsOut</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-11"><a class="header" href="#withdraw-11">withdraw</a></h3>
<p>This function withdraws <code>assetsOut</code> of assets, regardless of the amount of vault shares required.</p>
<p>If withdrawFee &gt; 0, <code>withdrawFee</code> of <code>assetsOut</code> is sent to the fee recipient.</p>
<p><em>emits Withdraw(caller, receiver, asset, owner, assetsOut, sharesIn);</em></p>
<pre><code class="language-solidity">function withdraw(address asset, uint256 assetsOut, address receiver, address owner)
    external
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to withdraw.</td></tr>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> desired to withdraw.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive the withdrawn assets.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares used to withdraw <code>assetsOut</code> of <code>asset</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="totalassets-4"><a class="header" href="#totalassets-4">totalAssets</a></h3>
<p>Returns the total value of all assets in the shares contract in USD WAD precision.</p>
<pre><code class="language-solidity">function totalAssets() external view returns (uint256 result);
</code></pre>
<h3 id="assetlist"><a class="header" href="#assetlist">assetList</a></h3>
<p>Assets array used for iterating through the assets in the shares contract</p>
<pre><code class="language-solidity">function assetList(uint256 index) external view returns (address asset);
</code></pre>
<h3 id="feerecipient-1"><a class="header" href="#feerecipient-1">feeRecipient</a></h3>
<p>Fee recipient address</p>
<pre><code class="language-solidity">function feeRecipient() external view returns (address);
</code></pre>
<h3 id="assets"><a class="header" href="#assets">assets</a></h3>
<p>Returns the asset struct for a given asset</p>
<pre><code class="language-solidity">function assets(address) external view returns (VaultAsset memory asset);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>VaultAsset</code></td><td>Asset struct for <code>asset</code></td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-2"><a class="header" href="#previewdeposit-2">previewDeposit</a></h3>
<p>This function is used for previewing the amount of shares minted for <code>assetsIn</code> of <code>asset</code>.</p>
<pre><code class="language-solidity">function previewDeposit(address asset, uint256 assetsIn) external view returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> in.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares minted.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-2"><a class="header" href="#previewmint-2">previewMint</a></h3>
<p>This function is used for previewing <code>assetsIn</code> of <code>asset</code> required to mint <code>sharesOut</code> of vault shares.</p>
<pre><code class="language-solidity">function previewMint(address asset, uint256 sharesOut) external view returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Desired amount of vault shares to mint.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> required.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-2"><a class="header" href="#previewredeem-2">previewRedeem</a></h3>
<p>This function is used for previewing <code>assetsOut</code> of <code>asset</code> received for <code>sharesIn</code> of vault shares.</p>
<pre><code class="language-solidity">function previewRedeem(address asset, uint256 sharesIn) external view returns (uint256 assetsOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Desired amount of vault shares to burn.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> received.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-2"><a class="header" href="#previewwithdraw-2">previewWithdraw</a></h3>
<p>This function is used for previewing <code>sharesIn</code> of vault shares required to burn for <code>assetsOut</code> of <code>asset</code>.</p>
<pre><code class="language-solidity">function previewWithdraw(address asset, uint256 assetsOut) external view returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Desired amount of <code>asset</code> out.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares required.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="maxdeposit-2"><a class="header" href="#maxdeposit-2">maxDeposit</a></h3>
<p>Returns the maximum deposit amount of <code>asset</code></p>
<pre><code class="language-solidity">function maxDeposit(address asset) external view returns (uint256 assetsIn);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Maximum depositable amount of assets.</td></tr>
</tbody></table>
</div>
<h3 id="maxmint-2"><a class="header" href="#maxmint-2">maxMint</a></h3>
<p>Returns the maximum mint using <code>asset</code></p>
<pre><code class="language-solidity">function maxMint(address asset, address owner) external view returns (uint256 sharesOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of assets.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Maximum mint amount.</td></tr>
</tbody></table>
</div>
<h3 id="maxredeem-2"><a class="header" href="#maxredeem-2">maxRedeem</a></h3>
<p>Returns the maximum redeemable amount for <code>user</code></p>
<pre><code class="language-solidity">function maxRedeem(address asset, address owner) external view returns (uint256 sharesIn);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Maximum redeemable amount of <code>shares</code> (vault share balance)</td></tr>
</tbody></table>
</div>
<h3 id="maxwithdraw-2"><a class="header" href="#maxwithdraw-2">maxWithdraw</a></h3>
<p>Returns the maximum redeemable amount for <code>user</code></p>
<pre><code class="language-solidity">function maxWithdraw(address asset, address owner) external view returns (uint256 amountOut);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amountOut</code></td><td><code>uint256</code></td><td>Maximum amount of <code>asset</code> received.</td></tr>
</tbody></table>
</div>
<h3 id="exchangerate-2"><a class="header" href="#exchangerate-2">exchangeRate</a></h3>
<p>Returns share/USD exchanage rate</p>
<pre><code class="language-solidity">function exchangeRate() external view returns (uint256 rate);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>rate</code></td><td><code>uint256</code></td><td>share/USD exchanage rate</td></tr>
</tbody></table>
</div>
<h3 id="oracledecimals"><a class="header" href="#oracledecimals">oracleDecimals</a></h3>
<p>Returns the oracle decimals used for value calculations.</p>
<pre><code class="language-solidity">function oracleDecimals() external view returns (uint8);
</code></pre>
<h3 id="governance"><a class="header" href="#governance">governance</a></h3>
<p>Returns the governance address.</p>
<pre><code class="language-solidity">function governance() external view returns (address);
</code></pre>
<h3 id="addasset-2"><a class="header" href="#addasset-2">addAsset</a></h3>
<p>Adds a new asset to the vault</p>
<pre><code class="language-solidity">function addAsset(VaultAsset memory asset) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>VaultAsset</code></td><td>Asset to add</td></tr>
</tbody></table>
</div>
<h3 id="removeasset"><a class="header" href="#removeasset">removeAsset</a></h3>
<p>Removes an asset from the vault</p>
<pre><code class="language-solidity">function removeAsset(address asset) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset address to remove emits assetRemoved(asset, block.timestamp);</td></tr>
</tbody></table>
</div>
<h3 id="setgovernance"><a class="header" href="#setgovernance">setGovernance</a></h3>
<p>Current governance sets a new governance address</p>
<pre><code class="language-solidity">function setGovernance(address _newGovernance) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newGovernance</code></td><td><code>address</code></td><td>The new governance address</td></tr>
</tbody></table>
</div>
<h3 id="setfeerecipient-2"><a class="header" href="#setfeerecipient-2">setFeeRecipient</a></h3>
<p>Current governance sets a new fee recipient address</p>
<pre><code class="language-solidity">function setFeeRecipient(address _newFeeRecipient) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newFeeRecipient</code></td><td><code>address</code></td><td>The new fee recipient address</td></tr>
</tbody></table>
</div>
<h3 id="setoracle"><a class="header" href="#setoracle">setOracle</a></h3>
<p>Sets a new oracle for a asset</p>
<pre><code class="language-solidity">function setOracle(address asset, address oracle) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to set the oracle for</td></tr>
<tr><td><code>oracle</code></td><td><code>address</code></td><td>Oracle to set</td></tr>
</tbody></table>
</div>
<h3 id="setoracledecimals"><a class="header" href="#setoracledecimals">setOracleDecimals</a></h3>
<p>Sets a new oracle decimals</p>
<pre><code class="language-solidity">function setOracleDecimals(uint8 _oracleDecimals) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracleDecimals</code></td><td><code>uint8</code></td><td>New oracle decimal precision</td></tr>
</tbody></table>
</div>
<h3 id="setmaxdeposits"><a class="header" href="#setmaxdeposits">setMaxDeposits</a></h3>
<p>Sets the max deposit amount for a asset</p>
<pre><code class="language-solidity">function setMaxDeposits(address asset, uint256 maxDeposits) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to set the max deposits for</td></tr>
<tr><td><code>maxDeposits</code></td><td><code>uint256</code></td><td>Max deposits to set</td></tr>
</tbody></table>
</div>
<h3 id="setassetenabled"><a class="header" href="#setassetenabled">setAssetEnabled</a></h3>
<p>Sets the enabled status for a asset</p>
<pre><code class="language-solidity">function setAssetEnabled(address asset, bool isEnabled) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to set the enabled status for</td></tr>
<tr><td><code>isEnabled</code></td><td><code>bool</code></td><td>Enabled status to set</td></tr>
</tbody></table>
</div>
<h3 id="setdepositfee"><a class="header" href="#setdepositfee">setDepositFee</a></h3>
<p>Sets the deposit fee for a asset</p>
<pre><code class="language-solidity">function setDepositFee(address asset, uint256 fee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to set the deposit fee for</td></tr>
<tr><td><code>fee</code></td><td><code>uint256</code></td><td>Fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setwithdrawfee"><a class="header" href="#setwithdrawfee">setWithdrawFee</a></h3>
<p>Sets the withdraw fee for a asset</p>
<pre><code class="language-solidity">function setWithdrawFee(address asset, uint256 fee) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to set the withdraw fee for</td></tr>
<tr><td><code>fee</code></td><td><code>uint256</code></td><td>Fee to set</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ivaultextender"><a class="header" href="#ivaultextender">IVaultExtender</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vault/interfaces/IVaultExtender.sol">Git Source</a></p>
<h2 id="functions-103"><a class="header" href="#functions-103">Functions</a></h2>
<h3 id="vaultdeposit-1"><a class="header" href="#vaultdeposit-1">vaultDeposit</a></h3>
<p>Deposit tokens to vault for shares and convert them to equal amount of extender token.</p>
<pre><code class="language-solidity">function vaultDeposit(address _asset, uint256 _assets, address _receiver)
    external
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_assets</code></td><td><code>uint256</code></td><td>amount of <code>_asset</code> to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>amount of shares/extender tokens minted</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_asset</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultmint-1"><a class="header" href="#vaultmint-1">vaultMint</a></h3>
<p>Deposit supported vault assets to receive <code>_shares</code>, depositing the shares for equal amount of extender token.</p>
<pre><code class="language-solidity">function vaultMint(address _asset, uint256 _shares, address _receiver)
    external
    returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>Amount of shares to receive</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of assets for <code>_shares</code></td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of <code>_asset</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultwithdraw-1"><a class="header" href="#vaultwithdraw-1">vaultWithdraw</a></h3>
<p>Withdraw supported vault asset, burning extender tokens and withdrawing shares from vault.</p>
<pre><code class="language-solidity">function vaultWithdraw(address _asset, uint256 _assets, address _receiver, address _owner)
    external
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>Supported vault asset address</td></tr>
<tr><td><code>_assets</code></td><td><code>uint256</code></td><td>amount of <code>_asset</code> to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address receive extender tokens</td></tr>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>Owner of extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>amount of shares/extender tokens burned</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_asset</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="vaultredeem-1"><a class="header" href="#vaultredeem-1">vaultRedeem</a></h3>
<p>Withdraw supported vault asset for  <code>_shares</code> of extender tokens.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function vaultRedeem(address _asset, uint256 _shares, address _receiver, address _owner)
    external
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_asset</code></td><td><code>address</code></td><td>Token to deposit into vault for shares.</td></tr>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>amount of extender tokens to burn</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>Address to receive assets withdrawn</td></tr>
<tr><td><code>_owner</code></td><td><code>address</code></td><td>Owner of extender tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>amount of shares/extender tokens minted</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>amount of <code>_asset</code> vault took as fee</td></tr>
</tbody></table>
</div>
<h3 id="deposit-11"><a class="header" href="#deposit-11">deposit</a></h3>
<p>Deposit shares for equal amount of extender token.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function deposit(uint256 _shares, address _receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_shares</code></td><td><code>uint256</code></td><td>amount of vault shares to deposit</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>address to mint extender tokens to</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-12"><a class="header" href="#withdraw-12">withdraw</a></h3>
<p>Withdraw shares for equal amount of extender token.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function withdraw(uint256 _amount, address _receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount of vault extender tokens to burn</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>address to send shares to</td></tr>
</tbody></table>
</div>
<h3 id="withdrawfrom-1"><a class="header" href="#withdrawfrom-1">withdrawFrom</a></h3>
<p>Withdraw shares for equal amount of extender token with allowance.</p>
<p><em>Does not return a value</em></p>
<pre><code class="language-solidity">function withdrawFrom(address _from, address _to, uint256 _amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_from</code></td><td><code>address</code></td><td>address to burn extender tokens from</td></tr>
<tr><td><code>_to</code></td><td><code>address</code></td><td>address to send shares to</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>amount to convert</td></tr>
</tbody></table>
</div>
<h2 id="events-8"><a class="header" href="#events-8">Events</a></h2>
<h3 id="deposit-12"><a class="header" href="#deposit-12">Deposit</a></h3>
<pre><code class="language-solidity">event Deposit(address indexed _from, address indexed _to, uint256 _amount);
</code></pre>
<h3 id="withdraw-13"><a class="header" href="#withdraw-13">Withdraw</a></h3>
<pre><code class="language-solidity">event Withdraw(address indexed _from, address indexed _to, uint256 _amount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vevent"><a class="header" href="#vevent">VEvent</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vault/Events.sol">Git Source</a></p>
<h2 id="events-9"><a class="header" href="#events-9">Events</a></h2>
<h3 id="deposit-13"><a class="header" href="#deposit-13">Deposit</a></h3>
<p>Emitted when a deposit/mint is made</p>
<pre><code class="language-solidity">event Deposit(
    address indexed caller, address indexed receiver, address indexed asset, uint256 assetsIn, uint256 sharesOut
);
</code></pre>
<h3 id="oracleset"><a class="header" href="#oracleset">OracleSet</a></h3>
<p>Emitted when a new oracle is set for an asset</p>
<pre><code class="language-solidity">event OracleSet(address indexed asset, address indexed oracle, uint256 price, uint256 timestamp);
</code></pre>
<h3 id="assetadded"><a class="header" href="#assetadded">AssetAdded</a></h3>
<p>Emitted when a new asset is added to the shares contract</p>
<pre><code class="language-solidity">event AssetAdded(address indexed asset, address indexed oracle, uint256 price, uint256 depositLimit, uint256 timestamp);
</code></pre>
<h3 id="assetremoved"><a class="header" href="#assetremoved">AssetRemoved</a></h3>
<p>Emitted when a previously existing asset is removed from the shares contract</p>
<pre><code class="language-solidity">event AssetRemoved(address indexed asset, uint256 timestamp);
</code></pre>
<h3 id="assetenabledstatuschanged"><a class="header" href="#assetenabledstatuschanged">AssetEnabledStatusChanged</a></h3>
<p>Emitted when the enabled status for asset is changed</p>
<pre><code class="language-solidity">event AssetEnabledStatusChanged(address indexed asset, bool enabled, uint256 timestamp);
</code></pre>
<h3 id="withdraw-14"><a class="header" href="#withdraw-14">Withdraw</a></h3>
<p>Emitted when a withdraw/redeem is made</p>
<pre><code class="language-solidity">event Withdraw(
    address indexed caller,
    address indexed receiver,
    address indexed asset,
    address owner,
    uint256 assetsOut,
    uint256 sharesIn
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vaultasset"><a class="header" href="#vaultasset">VaultAsset</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vault/Types.sol">Git Source</a></p>
<p>Asset struct for deposit assets in contract</p>
<pre><code class="language-solidity">struct VaultAsset {
    ERC20 token;
    AggregatorV3Interface oracle;
    uint256 maxDeposits;
    uint256 depositFee;
    uint256 withdrawFee;
    bool enabled;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vault"><a class="header" href="#vault">Vault</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vault/Vault.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/contracts/core/vault/Vault.sol//src/contracts/core/vault/interfaces/IVault.sol/interface.IVault.html">IVault</a>, <a href="src/contracts/core/vault/Vault.sol//src/contracts/core/vendor/ERC20.sol/abstract.ERC20.html">ERC20</a></p>
<p><strong>Author:</strong>
Kresko</p>
<p>This is derived from ERC4626 standard.</p>
<p>Users deposit tokens into the vault and receive shares of equal value in return.</p>
<p>Shares are redeemable for the underlying tokens at any time.</p>
<p>Price or exchange rate of SHARE/USD is determined by the total value of the underlying tokens in the vault and the share supply.</p>
<h2 id="state-variables-22"><a class="header" href="#state-variables-22">State Variables</a></h2>
<h3 id="hundred-1"><a class="header" href="#hundred-1">HUNDRED</a></h3>
<pre><code class="language-solidity">uint256 public constant HUNDRED = 1 ether;
</code></pre>
<h3 id="governance-1"><a class="header" href="#governance-1">governance</a></h3>
<pre><code class="language-solidity">address public governance;
</code></pre>
<h3 id="feerecipient-2"><a class="header" href="#feerecipient-2">feeRecipient</a></h3>
<pre><code class="language-solidity">address public feeRecipient;
</code></pre>
<h3 id="oracledecimals-1"><a class="header" href="#oracledecimals-1">oracleDecimals</a></h3>
<pre><code class="language-solidity">uint8 public oracleDecimals;
</code></pre>
<h3 id="_assets"><a class="header" href="#_assets">_assets</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; VaultAsset) internal _assets;
</code></pre>
<h3 id="assetlist-1"><a class="header" href="#assetlist-1">assetList</a></h3>
<pre><code class="language-solidity">address[] public assetList;
</code></pre>
<h2 id="functions-104"><a class="header" href="#functions-104">Functions</a></h2>
<h3 id="constructor-14"><a class="header" href="#constructor-14">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory _name, string memory _symbol, uint8 _decimals, uint8 _oracleDecimals, address _feeRecipient)
    ERC20(_name, _symbol, _decimals);
</code></pre>
<h3 id="onlygovernance"><a class="header" href="#onlygovernance">onlyGovernance</a></h3>
<pre><code class="language-solidity">modifier onlyGovernance();
</code></pre>
<h3 id="check"><a class="header" href="#check">check</a></h3>
<pre><code class="language-solidity">modifier check(address asset);
</code></pre>
<h3 id="_checkdeposit"><a class="header" href="#_checkdeposit">_checkDeposit</a></h3>
<p>checks if the deposit amounts are valid.
(..close enough to modifier)</p>
<pre><code class="language-solidity">function _checkDeposit(address asset, uint256 assetsIn, uint256 sharesOut) private view;
</code></pre>
<h3 id="deposit-14"><a class="header" href="#deposit-14">deposit</a></h3>
<p>This function deposits <code>assetsIn</code> of <code>asset</code>, regardless of the amount of vault shares minted.</p>
<p><em>emits Deposit(caller, receiver, asset, assetsIn, sharesOut);</em></p>
<pre><code class="language-solidity">function deposit(address asset, uint256 assetsIn, address receiver)
    public
    virtual
    check(asset)
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to deposit.</td></tr>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> to deposit.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive <code>sharesOut</code> of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares minted for <code>assetsIn</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="mint-8"><a class="header" href="#mint-8">mint</a></h3>
<p>This function mints <code>sharesOut</code> of vault shares, regardless of the amount of <code>asset</code> received.</p>
<p><em>emits Deposit(caller, receiver, asset, assetsIn, sharesOut);</em></p>
<pre><code class="language-solidity">function mint(address asset, uint256 sharesOut, address receiver)
    public
    virtual
    check(asset)
    returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to deposit.</td></tr>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares desired to mint.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive <code>sharesOut</code> of shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Assets used to mint <code>sharesOut</code> of vault shares.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="redeem-4"><a class="header" href="#redeem-4">redeem</a></h3>
<p>This function burns <code>sharesIn</code> of shares from <code>owner</code>, regardless of the amount of <code>asset</code> received.</p>
<p><em>emits Withdraw(caller, receiver, asset, owner, assetsOut, sharesIn);</em></p>
<pre><code class="language-solidity">function redeem(address asset, uint256 sharesIn, address receiver, address owner)
    public
    virtual
    check(asset)
    returns (uint256 assetsOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to redeem.</td></tr>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares to redeem.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive the redeemed assets.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> used for redeem <code>assetsOut</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="withdraw-15"><a class="header" href="#withdraw-15">withdraw</a></h3>
<p>This function withdraws <code>assetsOut</code> of assets, regardless of the amount of vault shares required.</p>
<p><em>emits Withdraw(caller, receiver, asset, owner, assetsOut, sharesIn);</em></p>
<pre><code class="language-solidity">function withdraw(address asset, uint256 assetsOut, address receiver, address owner)
    public
    virtual
    check(asset)
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to withdraw.</td></tr>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> desired to withdraw.</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>Address to receive the withdrawn assets.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares used to withdraw <code>assetsOut</code> of <code>asset</code>.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="assets-1"><a class="header" href="#assets-1">assets</a></h3>
<p>Returns the asset struct for a given asset</p>
<pre><code class="language-solidity">function assets(address asset) public view returns (VaultAsset memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>VaultAsset</code></td><td>asset Asset struct for <code>asset</code></td></tr>
</tbody></table>
</div>
<h3 id="totalassets-5"><a class="header" href="#totalassets-5">totalAssets</a></h3>
<p>Returns the total value of all assets in the shares contract in USD WAD precision.</p>
<pre><code class="language-solidity">function totalAssets() public view virtual returns (uint256 result);
</code></pre>
<h3 id="exchangerate-3"><a class="header" href="#exchangerate-3">exchangeRate</a></h3>
<p>Returns share/USD exchanage rate</p>
<pre><code class="language-solidity">function exchangeRate() public view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>rate share/USD exchanage rate</td></tr>
</tbody></table>
</div>
<h3 id="previewdeposit-3"><a class="header" href="#previewdeposit-3">previewDeposit</a></h3>
<p>This function is used for previewing the amount of shares minted for <code>assetsIn</code> of <code>asset</code>.</p>
<pre><code class="language-solidity">function previewDeposit(address asset, uint256 assetsIn)
    public
    view
    virtual
    returns (uint256 sharesOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> in.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Amount of vault shares minted.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewmint-3"><a class="header" href="#previewmint-3">previewMint</a></h3>
<p>This function is used for previewing <code>assetsIn</code> of <code>asset</code> required to mint <code>sharesOut</code> of vault shares.</p>
<pre><code class="language-solidity">function previewMint(address asset, uint256 sharesOut)
    public
    view
    virtual
    returns (uint256 assetsIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>sharesOut</code></td><td><code>uint256</code></td><td>Desired amount of vault shares to mint.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsIn</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> required.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewredeem-3"><a class="header" href="#previewredeem-3">previewRedeem</a></h3>
<p>This function is used for previewing <code>assetsOut</code> of <code>asset</code> received for <code>sharesIn</code> of vault shares.</p>
<pre><code class="language-solidity">function previewRedeem(address asset, uint256 sharesIn)
    public
    view
    virtual
    returns (uint256 assetsOut, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Desired amount of vault shares to burn.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Amount of <code>asset</code> received.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="previewwithdraw-3"><a class="header" href="#previewwithdraw-3">previewWithdraw</a></h3>
<p>This function is used for previewing <code>sharesIn</code> of vault shares required to burn for <code>assetsOut</code> of <code>asset</code>.</p>
<pre><code class="language-solidity">function previewWithdraw(address asset, uint256 assetsOut)
    public
    view
    virtual
    returns (uint256 sharesIn, uint256 assetFee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
<tr><td><code>assetsOut</code></td><td><code>uint256</code></td><td>Desired amount of <code>asset</code> out.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sharesIn</code></td><td><code>uint256</code></td><td>Amount of vault shares required.</td></tr>
<tr><td><code>assetFee</code></td><td><code>uint256</code></td><td>Amount of fees paid in <code>asset</code>.</td></tr>
</tbody></table>
</div>
<h3 id="maxredeem-3"><a class="header" href="#maxredeem-3">maxRedeem</a></h3>
<p>Returns the maximum redeemable amount for <code>user</code></p>
<pre><code class="language-solidity">function maxRedeem(address asset, address owner) public view virtual returns (uint256 max);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>max</code></td><td><code>uint256</code></td><td>sharesIn Maximum redeemable amount of <code>shares</code> (vault share balance)</td></tr>
</tbody></table>
</div>
<h3 id="maxwithdraw-3"><a class="header" href="#maxwithdraw-3">maxWithdraw</a></h3>
<p>Returns the maximum redeemable amount for <code>user</code></p>
<pre><code class="language-solidity">function maxWithdraw(address asset, address owner) public view returns (uint256 max);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>owner</code></td><td><code>address</code></td><td>Owner of vault shares.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>max</code></td><td><code>uint256</code></td><td>amountOut Maximum amount of <code>asset</code> received.</td></tr>
</tbody></table>
</div>
<h3 id="maxdeposit-3"><a class="header" href="#maxdeposit-3">maxDeposit</a></h3>
<p>Returns the maximum deposit amount of <code>asset</code></p>
<pre><code class="language-solidity">function maxDeposit(address asset) public view virtual returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>assetsIn Maximum depositable amount of assets.</td></tr>
</tbody></table>
</div>
<h3 id="maxmint-3"><a class="header" href="#maxmint-3">maxMint</a></h3>
<p>Returns the maximum mint using <code>asset</code></p>
<pre><code class="language-solidity">function maxMint(address asset, address user) public view virtual returns (uint256 max);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Supported asset address.</td></tr>
<tr><td><code>user</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>max</code></td><td><code>uint256</code></td><td>sharesOut Maximum mint amount.</td></tr>
</tbody></table>
</div>
<h3 id="addasset-3"><a class="header" href="#addasset-3">addAsset</a></h3>
<p>Adds a new asset to the vault</p>
<pre><code class="language-solidity">function addAsset(VaultAsset memory config) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>config</code></td><td><code>VaultAsset</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="removeasset-1"><a class="header" href="#removeasset-1">removeAsset</a></h3>
<p>Removes an asset from the vault</p>
<pre><code class="language-solidity">function removeAsset(address asset) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset address to remove emits assetRemoved(asset, block.timestamp);</td></tr>
</tbody></table>
</div>
<h3 id="setoracle-1"><a class="header" href="#setoracle-1">setOracle</a></h3>
<p>Sets a new oracle for a asset</p>
<pre><code class="language-solidity">function setOracle(address asset, address oracle) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to set the oracle for</td></tr>
<tr><td><code>oracle</code></td><td><code>address</code></td><td>Oracle to set</td></tr>
</tbody></table>
</div>
<h3 id="setoracledecimals-1"><a class="header" href="#setoracledecimals-1">setOracleDecimals</a></h3>
<p>Sets a new oracle decimals</p>
<pre><code class="language-solidity">function setOracleDecimals(uint8 _oracleDecimals) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_oracleDecimals</code></td><td><code>uint8</code></td><td>New oracle decimal precision</td></tr>
</tbody></table>
</div>
<h3 id="setassetenabled-1"><a class="header" href="#setassetenabled-1">setAssetEnabled</a></h3>
<p>Sets the enabled status for a asset</p>
<pre><code class="language-solidity">function setAssetEnabled(address asset, bool isEnabled) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to set the enabled status for</td></tr>
<tr><td><code>isEnabled</code></td><td><code>bool</code></td><td>Enabled status to set</td></tr>
</tbody></table>
</div>
<h3 id="setdepositfee-1"><a class="header" href="#setdepositfee-1">setDepositFee</a></h3>
<p>Sets the deposit fee for a asset</p>
<pre><code class="language-solidity">function setDepositFee(address asset, uint256 fee) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to set the deposit fee for</td></tr>
<tr><td><code>fee</code></td><td><code>uint256</code></td><td>Fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setwithdrawfee-1"><a class="header" href="#setwithdrawfee-1">setWithdrawFee</a></h3>
<p>Sets the withdraw fee for a asset</p>
<pre><code class="language-solidity">function setWithdrawFee(address asset, uint256 fee) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to set the withdraw fee for</td></tr>
<tr><td><code>fee</code></td><td><code>uint256</code></td><td>Fee to set</td></tr>
</tbody></table>
</div>
<h3 id="setmaxdeposits-1"><a class="header" href="#setmaxdeposits-1">setMaxDeposits</a></h3>
<p>Sets the max deposit amount for a asset</p>
<pre><code class="language-solidity">function setMaxDeposits(address asset, uint256 maxDeposits) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>Asset to set the max deposits for</td></tr>
<tr><td><code>maxDeposits</code></td><td><code>uint256</code></td><td>Max deposits to set</td></tr>
</tbody></table>
</div>
<h3 id="setgovernance-1"><a class="header" href="#setgovernance-1">setGovernance</a></h3>
<p>Current governance sets a new governance address</p>
<pre><code class="language-solidity">function setGovernance(address _newGovernance) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newGovernance</code></td><td><code>address</code></td><td>The new governance address</td></tr>
</tbody></table>
</div>
<h3 id="setfeerecipient-3"><a class="header" href="#setfeerecipient-3">setFeeRecipient</a></h3>
<p>Current governance sets a new fee recipient address</p>
<pre><code class="language-solidity">function setFeeRecipient(address _newFeeRecipient) external onlyGovernance;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newFeeRecipient</code></td><td><code>address</code></td><td>The new fee recipient address</td></tr>
</tbody></table>
</div>
<h3 id="_handlemintfee"><a class="header" href="#_handlemintfee">_handleMintFee</a></h3>
<pre><code class="language-solidity">function _handleMintFee(VaultAsset memory assetInfo, uint256 assetsIn)
    internal
    view
    virtual
    returns (uint256 assetsInAfterFee, uint256 assetFee);
</code></pre>
<h3 id="_handleredeemfee"><a class="header" href="#_handleredeemfee">_handleRedeemFee</a></h3>
<pre><code class="language-solidity">function _handleRedeemFee(VaultAsset memory assetInfo, uint256 assetsIn)
    internal
    view
    virtual
    returns (uint256 assetsInAfterFee, uint256 assetFee);
</code></pre>
<h3 id="_handledepositfee"><a class="header" href="#_handledepositfee">_handleDepositFee</a></h3>
<pre><code class="language-solidity">function _handleDepositFee(VaultAsset memory assetInfo, uint256 assetsIn)
    internal
    view
    virtual
    returns (uint256 assetsInAfterFee, uint256 assetFee);
</code></pre>
<h3 id="_handlewithdrawfee"><a class="header" href="#_handlewithdrawfee">_handleWithdrawFee</a></h3>
<pre><code class="language-solidity">function _handleWithdrawFee(VaultAsset memory assetInfo, uint256 assetsIn)
    internal
    view
    virtual
    returns (uint256 assetsInAfterFee, uint256 assetFee);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-29"><a class="header" href="#contents-29">Contents</a></h1>
<ul>
<li><a href="src/contracts/core/vendor/AggregatorV3Interface.sol/interface.AggregatorV3Interface.html">AggregatorV3Interface</a></li>
<li><a href="src/contracts/core/vendor/ERC20.sol/abstract.ERC20.html">ERC20</a></li>
<li><a href="src/contracts/core/vendor/ERC20Upgradeable.sol/contract.ERC20Upgradeable.html">ERC20Upgradeable</a></li>
<li><a href="src/contracts/core/vendor/IERC165.sol/interface.IERC165.html">IERC165</a></li>
<li><a href="src/contracts/core/vendor/IERC20Permit.sol/interface.IERC20Permit.html">IERC20Permit</a></li>
<li><a href="src/contracts/core/vendor/IProxy.sol/interface.IProxy.html">IProxy</a></li>
<li><a href="src/contracts/core/vendor/SafeERC20.sol/library.SafeERC20.html">SafeERC20</a></li>
<li><a href="src/contracts/core/vendor/SafeERC20Permit.sol/library.SafeERC20Permit.html">SafeERC20Permit</a></li>
<li><a href="src/contracts/core/vendor/SafeERC20Upgradeable.sol/library.SafeERC20Upgradeable.html">SafeERC20Upgradeable</a></li>
<li><a href="src/contracts/core/vendor/WETH9.sol/contract.WETH9.html">WETH9</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="aggregatorv3interface"><a class="header" href="#aggregatorv3interface">AggregatorV3Interface</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vendor/AggregatorV3Interface.sol">Git Source</a></p>
<h2 id="functions-105"><a class="header" href="#functions-105">Functions</a></h2>
<h3 id="decimals-1"><a class="header" href="#decimals-1">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="description-1"><a class="header" href="#description-1">description</a></h3>
<pre><code class="language-solidity">function description() external view returns (string memory);
</code></pre>
<h3 id="version-1"><a class="header" href="#version-1">version</a></h3>
<pre><code class="language-solidity">function version() external view returns (uint256);
</code></pre>
<h3 id="getrounddata-1"><a class="header" href="#getrounddata-1">getRoundData</a></h3>
<pre><code class="language-solidity">function getRoundData(uint80 _roundId)
    external
    view
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<h3 id="latestrounddata-2"><a class="header" href="#latestrounddata-2">latestRoundData</a></h3>
<pre><code class="language-solidity">function latestRoundData()
    external
    view
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<h2 id="events-10"><a class="header" href="#events-10">Events</a></h2>
<h3 id="answerupdated"><a class="header" href="#answerupdated">AnswerUpdated</a></h3>
<pre><code class="language-solidity">event AnswerUpdated(int256 indexed current, uint256 indexed roundId, uint256 updatedAt);
</code></pre>
<h3 id="newround"><a class="header" href="#newround">NewRound</a></h3>
<pre><code class="language-solidity">event NewRound(uint256 indexed roundId, address indexed startedBy, uint256 startedAt);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc20"><a class="header" href="#erc20">ERC20</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vendor/ERC20.sol">Git Source</a></p>
<p><strong>Authors:</strong>
Solmate (https://github.com/transmissions11/solmate/blob/main/src/tokens/ERC20.sol), Modified from Uniswap (https://github.com/Uniswap/uniswap-v2-core/blob/master/contracts/UniswapV2ERC20.sol)</p>
<p>Modern and gas efficient ERC20 + EIP-2612 implementation.</p>
<p><em>Do not manually set balances without updating totalSupply, as the sum of all user balances must not exceed it.</em></p>
<h2 id="state-variables-23"><a class="header" href="#state-variables-23">State Variables</a></h2>
<h3 id="name"><a class="header" href="#name">name</a></h3>
<pre><code class="language-solidity">string public name;
</code></pre>
<h3 id="symbol"><a class="header" href="#symbol">symbol</a></h3>
<pre><code class="language-solidity">string public symbol;
</code></pre>
<h3 id="decimals-2"><a class="header" href="#decimals-2">decimals</a></h3>
<pre><code class="language-solidity">uint8 public immutable decimals;
</code></pre>
<h3 id="_totalsupply"><a class="header" href="#_totalsupply">_totalSupply</a></h3>
<pre><code class="language-solidity">uint256 internal _totalSupply;
</code></pre>
<h3 id="balanceof-3"><a class="header" href="#balanceof-3">balanceOf</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public balanceOf;
</code></pre>
<h3 id="allowance-2"><a class="header" href="#allowance-2">allowance</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) public allowance;
</code></pre>
<h3 id="initial_chain_id"><a class="header" href="#initial_chain_id">INITIAL_CHAIN_ID</a></h3>
<pre><code class="language-solidity">uint256 internal immutable INITIAL_CHAIN_ID;
</code></pre>
<h3 id="initial_domain_separator"><a class="header" href="#initial_domain_separator">INITIAL_DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">bytes32 internal immutable INITIAL_DOMAIN_SEPARATOR;
</code></pre>
<h3 id="nonces"><a class="header" href="#nonces">nonces</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public nonces;
</code></pre>
<h2 id="functions-106"><a class="header" href="#functions-106">Functions</a></h2>
<h3 id="constructor-15"><a class="header" href="#constructor-15">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory _name, string memory _symbol, uint8 _decimals);
</code></pre>
<h3 id="totalsupply-2"><a class="header" href="#totalsupply-2">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() public view virtual returns (uint256);
</code></pre>
<h3 id="approve-2"><a class="header" href="#approve-2">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) public virtual returns (bool);
</code></pre>
<h3 id="transfer-2"><a class="header" href="#transfer-2">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 amount) public virtual returns (bool);
</code></pre>
<h3 id="transferfrom-2"><a class="header" href="#transferfrom-2">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 amount) public virtual returns (bool);
</code></pre>
<h3 id="permit"><a class="header" href="#permit">permit</a></h3>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    public
    virtual;
</code></pre>
<h3 id="domain_separator"><a class="header" href="#domain_separator">DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">function DOMAIN_SEPARATOR() public view virtual returns (bytes32);
</code></pre>
<h3 id="computedomainseparator"><a class="header" href="#computedomainseparator">computeDomainSeparator</a></h3>
<pre><code class="language-solidity">function computeDomainSeparator() internal view virtual returns (bytes32);
</code></pre>
<h3 id="_mint-1"><a class="header" href="#_mint-1">_mint</a></h3>
<pre><code class="language-solidity">function _mint(address to, uint256 amount) internal virtual;
</code></pre>
<h3 id="_burn-1"><a class="header" href="#_burn-1">_burn</a></h3>
<pre><code class="language-solidity">function _burn(address from, uint256 amount) internal virtual;
</code></pre>
<h2 id="events-11"><a class="header" href="#events-11">Events</a></h2>
<h3 id="transfer-3"><a class="header" href="#transfer-3">Transfer</a></h3>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 amount);
</code></pre>
<h3 id="approval"><a class="header" href="#approval">Approval</a></h3>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 amount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="erc20upgradeable"><a class="header" href="#erc20upgradeable">ERC20Upgradeable</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vendor/ERC20Upgradeable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Initializable, <a href="src/contracts/core/vendor/ERC20Upgradeable.sol//src/contracts/core/vendor/IERC20Permit.sol/interface.IERC20Permit.html">IERC20Permit</a></p>
<p><strong>Authors:</strong>
Solmate (https://github.com/Rari-Capital/solmate/blob/main/src/tokens/ERC20.sol), Modified from Uniswap (https://github.com/Uniswap/uniswap-v2-core/blob/master/contracts/UniswapV2ERC20.sol), Kresko: modified to an upgradeable</p>
<p>Modern and gas efficient ERC20 + EIP-2612 implementation.</p>
<p><em>Do not manually set balances without updating totalSupply, as the sum of all user balances must not exceed it.</em></p>
<h2 id="state-variables-24"><a class="header" href="#state-variables-24">State Variables</a></h2>
<h3 id="name-1"><a class="header" href="#name-1">name</a></h3>
<pre><code class="language-solidity">string public name;
</code></pre>
<h3 id="symbol-1"><a class="header" href="#symbol-1">symbol</a></h3>
<pre><code class="language-solidity">string public symbol;
</code></pre>
<h3 id="decimals-3"><a class="header" href="#decimals-3">decimals</a></h3>
<pre><code class="language-solidity">uint8 public decimals;
</code></pre>
<h3 id="_totalsupply-1"><a class="header" href="#_totalsupply-1">_totalSupply</a></h3>
<pre><code class="language-solidity">uint256 internal _totalSupply;
</code></pre>
<h3 id="_balances"><a class="header" href="#_balances">_balances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) internal _balances;
</code></pre>
<h3 id="_allowances"><a class="header" href="#_allowances">_allowances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) internal _allowances;
</code></pre>
<h3 id="nonces-1"><a class="header" href="#nonces-1">nonces</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public nonces;
</code></pre>
<h3 id="initial_chain_id-1"><a class="header" href="#initial_chain_id-1">INITIAL_CHAIN_ID</a></h3>
<pre><code class="language-solidity">uint256 internal immutable INITIAL_CHAIN_ID;
</code></pre>
<h3 id="initial_domain_separator-1"><a class="header" href="#initial_domain_separator-1">INITIAL_DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">bytes32 internal immutable INITIAL_DOMAIN_SEPARATOR;
</code></pre>
<h2 id="functions-107"><a class="header" href="#functions-107">Functions</a></h2>
<h3 id="constructor-16"><a class="header" href="#constructor-16">constructor</a></h3>
<pre><code class="language-solidity">constructor() payable;
</code></pre>
<h3 id="__erc20upgradeable_init"><a class="header" href="#__erc20upgradeable_init">__ERC20Upgradeable_init</a></h3>
<p><em>Sets the values for {name} and {symbol}.
The default value of {decimals} is 18. To select a different value for
{decimals} you should overload it.
All two of these values are immutable: they can only be set once during
construction.</em></p>
<pre><code class="language-solidity">function __ERC20Upgradeable_init(string memory _name, string memory _symbol, uint8 _decimals)
    internal
    onlyInitializing;
</code></pre>
<h3 id="balanceof-4"><a class="header" href="#balanceof-4">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address _account) public view virtual returns (uint256);
</code></pre>
<h3 id="totalsupply-3"><a class="header" href="#totalsupply-3">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() public view virtual returns (uint256);
</code></pre>
<h3 id="allowance-3"><a class="header" href="#allowance-3">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address _owner, address _spender) public view virtual returns (uint256);
</code></pre>
<h3 id="approve-3"><a class="header" href="#approve-3">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) public virtual returns (bool);
</code></pre>
<h3 id="transfer-4"><a class="header" href="#transfer-4">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 amount) public virtual returns (bool);
</code></pre>
<h3 id="transferfrom-3"><a class="header" href="#transferfrom-3">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 amount) public virtual returns (bool);
</code></pre>
<h3 id="permit-1"><a class="header" href="#permit-1">permit</a></h3>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    public
    virtual;
</code></pre>
<h3 id="domain_separator-1"><a class="header" href="#domain_separator-1">DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">function DOMAIN_SEPARATOR() public view virtual returns (bytes32);
</code></pre>
<h3 id="computedomainseparator-1"><a class="header" href="#computedomainseparator-1">computeDomainSeparator</a></h3>
<pre><code class="language-solidity">function computeDomainSeparator() internal view virtual returns (bytes32);
</code></pre>
<h3 id="_mint-2"><a class="header" href="#_mint-2">_mint</a></h3>
<pre><code class="language-solidity">function _mint(address to, uint256 amount) internal virtual;
</code></pre>
<h3 id="_burn-2"><a class="header" href="#_burn-2">_burn</a></h3>
<pre><code class="language-solidity">function _burn(address from, uint256 amount) internal virtual;
</code></pre>
<h3 id="_beforetokentransfer-1"><a class="header" href="#_beforetokentransfer-1">_beforeTokenTransfer</a></h3>
<p>*See {ERC20-_beforeTokenTransfer}.
Requirements:</p>
<ul>
<li>the contract must not be paused.*</li>
</ul>
<pre><code class="language-solidity">function _beforeTokenTransfer(address from, address to, uint256 amount) internal virtual;
</code></pre>
<h2 id="events-12"><a class="header" href="#events-12">Events</a></h2>
<h3 id="transfer-5"><a class="header" href="#transfer-5">Transfer</a></h3>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 amount);
</code></pre>
<h3 id="approval-1"><a class="header" href="#approval-1">Approval</a></h3>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 amount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ierc165"><a class="header" href="#ierc165">IERC165</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vendor/IERC165.sol">Git Source</a></p>
<h2 id="functions-108"><a class="header" href="#functions-108">Functions</a></h2>
<h3 id="supportsinterface-5"><a class="header" href="#supportsinterface-5">supportsInterface</a></h3>
<p>Query if a contract implements an interface</p>
<p><em>Interface identification is specified in ERC-165. This function
uses less than 30,000 gas.</em></p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface identifier, as specified in ERC-165</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td><code>true</code> if the contract implements <code>interfaceID</code> and <code>interfaceID</code> is not 0xffffffff, <code>false</code> otherwise</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ierc20permit"><a class="header" href="#ierc20permit">IERC20Permit</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vendor/IERC20Permit.sol">Git Source</a></p>
<h2 id="functions-109"><a class="header" href="#functions-109">Functions</a></h2>
<h3 id="domain_separator-2"><a class="header" href="#domain_separator-2">DOMAIN_SEPARATOR</a></h3>
<pre><code class="language-solidity">function DOMAIN_SEPARATOR() external view returns (bytes32);
</code></pre>
<h3 id="allowance-4"><a class="header" href="#allowance-4">allowance</a></h3>
<pre><code class="language-solidity">function allowance(address, address) external view returns (uint256);
</code></pre>
<h3 id="approve-4"><a class="header" href="#approve-4">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<h3 id="balanceof-5"><a class="header" href="#balanceof-5">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address) external view returns (uint256);
</code></pre>
<h3 id="decimals-4"><a class="header" href="#decimals-4">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="name-2"><a class="header" href="#name-2">name</a></h3>
<pre><code class="language-solidity">function name() external view returns (string memory);
</code></pre>
<h3 id="nonces-2"><a class="header" href="#nonces-2">nonces</a></h3>
<pre><code class="language-solidity">function nonces(address) external view returns (uint256);
</code></pre>
<h3 id="permit-2"><a class="header" href="#permit-2">permit</a></h3>
<pre><code class="language-solidity">function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)
    external;
</code></pre>
<h3 id="symbol-2"><a class="header" href="#symbol-2">symbol</a></h3>
<pre><code class="language-solidity">function symbol() external view returns (string memory);
</code></pre>
<h3 id="totalsupply-4"><a class="header" href="#totalsupply-4">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="transfer-6"><a class="header" href="#transfer-6">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 amount) external returns (bool);
</code></pre>
<h3 id="transferfrom-4"><a class="header" href="#transferfrom-4">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address from, address to, uint256 amount) external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iproxy"><a class="header" href="#iproxy">IProxy</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vendor/IProxy.sol">Git Source</a></p>
<p><em>See DapiProxy.sol for comments about usage</em></p>
<h2 id="functions-110"><a class="header" href="#functions-110">Functions</a></h2>
<h3 id="read"><a class="header" href="#read">read</a></h3>
<pre><code class="language-solidity">function read() external view returns (int224 value, uint32 timestamp);
</code></pre>
<h3 id="api3serverv1"><a class="header" href="#api3serverv1">api3ServerV1</a></h3>
<pre><code class="language-solidity">function api3ServerV1() external view returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safeerc20"><a class="header" href="#safeerc20">SafeERC20</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vendor/SafeERC20.sol">Git Source</a></p>
<p><strong>Author:</strong>
Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/SafeTransferLib.sol)</p>
<p>Safe ETH and ERC20 transfer library that gracefully handles missing return values.</p>
<p><em>Use with caution! Some functions in this library knowingly create dirty bits at the destination of the free memory pointer.</em></p>
<p><em>Note that none of the functions in this library check that a token has code at all! That responsibility is delegated to the caller.</em></p>
<h2 id="functions-111"><a class="header" href="#functions-111">Functions</a></h2>
<h3 id="safetransfereth"><a class="header" href="#safetransfereth">safeTransferETH</a></h3>
<pre><code class="language-solidity">function safeTransferETH(address to, uint256 amount) internal;
</code></pre>
<h3 id="safetransferfrom"><a class="header" href="#safetransferfrom">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(ERC20 token, address from, address to, uint256 amount) internal;
</code></pre>
<h3 id="safetransfer"><a class="header" href="#safetransfer">safeTransfer</a></h3>
<pre><code class="language-solidity">function safeTransfer(ERC20 token, address to, uint256 amount) internal;
</code></pre>
<h3 id="safeapprove"><a class="header" href="#safeapprove">safeApprove</a></h3>
<pre><code class="language-solidity">function safeApprove(ERC20 token, address to, uint256 amount) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safeerc20permit"><a class="header" href="#safeerc20permit">SafeERC20Permit</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vendor/SafeERC20Permit.sol">Git Source</a></p>
<p><em>Wrappers around ERC20 operations that throw on failure (when the token
contract returns false). Tokens that return no value (and instead revert or
throw on failure) are also supported, non-reverting calls are assumed to be
successful.
To use this library you can add a <code>using SafeERC20Permit for IERC20;</code> statement to your contract,
which allows you to call the safe operations as <code>token.safeTransfer(...)</code>, etc.</em></p>
<h2 id="functions-112"><a class="header" href="#functions-112">Functions</a></h2>
<h3 id="safetransfer-1"><a class="header" href="#safetransfer-1">safeTransfer</a></h3>
<pre><code class="language-solidity">function safeTransfer(IERC20Permit token, address to, uint256 value) internal;
</code></pre>
<h3 id="safetransferfrom-1"><a class="header" href="#safetransferfrom-1">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(IERC20Permit token, address from, address to, uint256 value) internal;
</code></pre>
<h3 id="safeapprove-1"><a class="header" href="#safeapprove-1">safeApprove</a></h3>
<p><em>Deprecated. This function has issues similar to the ones found in
{IERC20-approve}, and its usage is discouraged.
Whenever possible, use {safeIncreaseAllowance} and
{safeDecreaseAllowance} instead.</em></p>
<pre><code class="language-solidity">function safeApprove(IERC20Permit token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safeincreaseallowance"><a class="header" href="#safeincreaseallowance">safeIncreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeIncreaseAllowance(IERC20Permit token, address spender, uint256 value) internal;
</code></pre>
<h3 id="safedecreaseallowance"><a class="header" href="#safedecreaseallowance">safeDecreaseAllowance</a></h3>
<pre><code class="language-solidity">function safeDecreaseAllowance(IERC20Permit token, address spender, uint256 value) internal;
</code></pre>
<h3 id="_calloptionalreturn"><a class="header" href="#_calloptionalreturn">_callOptionalReturn</a></h3>
<p><em>Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement
on the return value: the return value is optional (but if data is returned, it must not be false).</em></p>
<pre><code class="language-solidity">function _callOptionalReturn(IERC20Permit token, bytes memory data) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>IERC20Permit</code></td><td>The token targeted by the call.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>The call data (encoded using abi.encode or one of its variants).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="safeerc20upgradeable"><a class="header" href="#safeerc20upgradeable">SafeERC20Upgradeable</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vendor/SafeERC20Upgradeable.sol">Git Source</a></p>
<p><strong>Author:</strong>
Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/SafeTransferLib.sol)</p>
<p>Safe ETH and ERC20 transfer library that gracefully handles missing return values.</p>
<p><em>Use with caution! Some functions in this library knowingly create dirty bits at the destination of the free memory pointer.</em></p>
<p><em>Note that none of the functions in this library check that a token has code at all! That responsibility is delegated to the caller.</em></p>
<h2 id="functions-113"><a class="header" href="#functions-113">Functions</a></h2>
<h3 id="safetransfereth-1"><a class="header" href="#safetransfereth-1">safeTransferETH</a></h3>
<pre><code class="language-solidity">function safeTransferETH(address to, uint256 amount) internal;
</code></pre>
<h3 id="safetransferfrom-2"><a class="header" href="#safetransferfrom-2">safeTransferFrom</a></h3>
<pre><code class="language-solidity">function safeTransferFrom(ERC20Upgradeable token, address from, address to, uint256 amount) internal;
</code></pre>
<h3 id="safetransfer-2"><a class="header" href="#safetransfer-2">safeTransfer</a></h3>
<pre><code class="language-solidity">function safeTransfer(ERC20Upgradeable token, address to, uint256 amount) internal;
</code></pre>
<h3 id="safeapprove-2"><a class="header" href="#safeapprove-2">safeApprove</a></h3>
<pre><code class="language-solidity">function safeApprove(ERC20Upgradeable token, address to, uint256 amount) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="weth9"><a class="header" href="#weth9">WETH9</a></h1>
<p><a href="https://github.com/kreskohq/kresko-protocol/blob/2a9ac966f1d702321849a1d52c8341cc32e05cab/src/contracts/core/vendor/WETH9.sol">Git Source</a></p>
<h2 id="state-variables-25"><a class="header" href="#state-variables-25">State Variables</a></h2>
<h3 id="name-3"><a class="header" href="#name-3">name</a></h3>
<pre><code class="language-solidity">string public name = &quot;WETH&quot;;
</code></pre>
<h3 id="symbol-3"><a class="header" href="#symbol-3">symbol</a></h3>
<pre><code class="language-solidity">string public symbol = &quot;Wrapped Ether&quot;;
</code></pre>
<h3 id="balanceof-6"><a class="header" href="#balanceof-6">balanceOf</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public balanceOf;
</code></pre>
<h3 id="allowance-5"><a class="header" href="#allowance-5">allowance</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) public allowance;
</code></pre>
<h2 id="functions-114"><a class="header" href="#functions-114">Functions</a></h2>
<h3 id="decimals-5"><a class="header" href="#decimals-5">decimals</a></h3>
<pre><code class="language-solidity">function decimals() public view returns (uint8);
</code></pre>
<h3 id="deposit-15"><a class="header" href="#deposit-15">deposit</a></h3>
<pre><code class="language-solidity">function deposit() public payable virtual;
</code></pre>
<h3 id="withdraw-16"><a class="header" href="#withdraw-16">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256 wad) public virtual;
</code></pre>
<h3 id="totalsupply-5"><a class="header" href="#totalsupply-5">totalSupply</a></h3>
<pre><code class="language-solidity">function totalSupply() public view returns (uint256);
</code></pre>
<h3 id="approve-5"><a class="header" href="#approve-5">approve</a></h3>
<pre><code class="language-solidity">function approve(address guy, uint256 wad) public virtual returns (bool);
</code></pre>
<h3 id="transfer-7"><a class="header" href="#transfer-7">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address dst, uint256 wad) public returns (bool);
</code></pre>
<h3 id="transferfrom-5"><a class="header" href="#transferfrom-5">transferFrom</a></h3>
<pre><code class="language-solidity">function transferFrom(address src, address dst, uint256 wad) public virtual returns (bool);
</code></pre>
<h2 id="events-13"><a class="header" href="#events-13">Events</a></h2>
<h3 id="approval-2"><a class="header" href="#approval-2">Approval</a></h3>
<pre><code class="language-solidity">event Approval(address indexed src, address indexed guy, uint256 wad);
</code></pre>
<h3 id="transfer-8"><a class="header" href="#transfer-8">Transfer</a></h3>
<pre><code class="language-solidity">event Transfer(address indexed src, address indexed dst, uint256 wad);
</code></pre>
<h3 id="deposit-16"><a class="header" href="#deposit-16">Deposit</a></h3>
<pre><code class="language-solidity">event Deposit(address indexed dst, uint256 wad);
</code></pre>
<h3 id="withdrawal"><a class="header" href="#withdrawal">Withdrawal</a></h3>
<pre><code class="language-solidity">event Withdrawal(address indexed src, uint256 wad);
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
